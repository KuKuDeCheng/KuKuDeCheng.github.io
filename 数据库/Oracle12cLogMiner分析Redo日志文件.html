<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.46" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://zhangchengk.github.io/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html"><meta property="og:site_name" content="Panda诚的博客"><meta property="og:title" content="Oracle(12c)使用LogMiner分析Redo日志文件"><meta property="og:type" content="article"><meta property="og:updated_time" content="2022-05-21T17:05:16.000Z"><meta property="og:locale" content="zh-CN"><meta property="article:published_time" content="2020-06-09T00:00:00.000Z"><meta property="article:modified_time" content="2022-05-21T17:05:16.000Z"><link rel="stylesheet" href="//at.alicdn.com/t/font_2410206_mfj6e1vbwo.css"><meta name="referrer" content="no-referrer"><link rel="icon" href="/logo.png"><link rel="manifest" href="/manifest.webmanifest" crossorigin="use-credentials"><meta name="theme-color" content="#46bd87"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"><title>Oracle(12c)使用LogMiner分析Redo日志文件 | Panda诚的博客</title><meta name="description" content="古来圣贤皆贫贱 何况我辈孤且直">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/assets/style.dc0d03c6.css">
    <link rel="modulepreload" href="/assets/app.0a7c44f6.js"><link rel="modulepreload" href="/assets/Oracle12cLogMiner分析Redo日志文件.html.b30fbc1b.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper.21dcd24c.js"><link rel="modulepreload" href="/assets/Oracle12cLogMiner分析Redo日志文件.html.e614c7e0.js"><link rel="prefetch" href="/assets/index.html.155f0d0e.js"><link rel="prefetch" href="/assets/001-编译NIFI源码.html.c496243e.js"><link rel="prefetch" href="/assets/002-NIFI自定义开发规范.html.61d8c3a1.js"><link rel="prefetch" href="/assets/003-Processor的一些方法.html.a2b16c2e.js"><link rel="prefetch" href="/assets/004-自定义Processor.html.9271631a.js"><link rel="prefetch" href="/assets/005-自定义ExpressionLanguage.html.ad33e143.js"><link rel="prefetch" href="/assets/006-NIFI启动源码.html.3ea3f3bf.js"><link rel="prefetch" href="/assets/007-在HTTP模式下开启权限模块.html.9aec8b47.js"><link rel="prefetch" href="/assets/008-JettyServer源码.html.472255c7.js"><link rel="prefetch" href="/assets/009-NiFi源码.html.3a8c4dd7.js"><link rel="prefetch" href="/assets/010-nifi注解.html.9daf0e7e.js"><link rel="prefetch" href="/assets/011-Debezium详细嵌入NIFI.html.582e8382.js"><link rel="prefetch" href="/assets/RunNiFi源码.html.50c06419.js"><link rel="prefetch" href="/assets/nifi-env-sh.html.7e84946c.js"><link rel="prefetch" href="/assets/nifi-sh-start.html.f31bbd2e.js"><link rel="prefetch" href="/assets/nifi-sh.html.08d29b28.js"><link rel="prefetch" href="/assets/000-ApacheNIFI历史.html.806a551a.js"><link rel="prefetch" href="/assets/001-NiFi术语.html.582292c1.js"><link rel="prefetch" href="/assets/002-带你体验ApacheNIFI.html.681ba0d3.js"><link rel="prefetch" href="/assets/003-NIFI入门.html.7e110846.js"><link rel="prefetch" href="/assets/004-数据抽取的常见方法.html.6d006b7c.js"><link rel="prefetch" href="/assets/005-基于增量字段同步数据.html.35b70ea1.js"><link rel="prefetch" href="/assets/006-NIFI各个NAR包功能概述.html.f21ae8f4.js"><link rel="prefetch" href="/assets/007-Nar包加载机制源码解读.html.b84fdf9d.js"><link rel="prefetch" href="/assets/008-Nar包下的MANIFEST.MF.html.ba4d3f9c.js"><link rel="prefetch" href="/assets/009-Apache NIFI类资源隔离机制.html.c4a257fc.js"><link rel="prefetch" href="/assets/010-Apache NIFI Processor情况.html.a6552e04.js"><link rel="prefetch" href="/assets/011-理解connection.html.fea18d6d.js"><link rel="prefetch" href="/assets/012-理解maxThread设置.html.69d32085.js"><link rel="prefetch" href="/assets/013-RunDuration理解.html.7b0ef0c6.js"><link rel="prefetch" href="/assets/014-ContentRepositoryArchiving理解.html.342999f7.js"><link rel="prefetch" href="/assets/015-Controller Services是守护进程.html.329513c6.js"><link rel="prefetch" href="/assets/016-NIFI调度.html.1c5cb3ab.js"><link rel="prefetch" href="/assets/017-NIFI高可用.html.60faa3c5.js"><link rel="prefetch" href="/assets/018-通过配置优化NiFi性能.html.21761c46.js"><link rel="prefetch" href="/assets/019-NIFI里的数据库连接池.html.892d384e.js"><link rel="prefetch" href="/assets/020-为什么建议使用NIFI里的Record.html.80537fe1.js"><link rel="prefetch" href="/assets/021-NIFI贡献代码.html.21ff3b9f.js"><link rel="prefetch" href="/assets/022-NIFI开启HTTPS.html.efc1feb7.js"><link rel="prefetch" href="/assets/023-ExecuteScript脚本教程.html.51b0d91b.js"><link rel="prefetch" href="/assets/024-内容存储库原理.html.bc869787.js"><link rel="prefetch" href="/assets/025-FlowFile存储库原理.html.cc042d20.js"><link rel="prefetch" href="/assets/026-预写日志(WAL).html.cffdea77.js"><link rel="prefetch" href="/assets/027-Provenance存储库原理.html.ec904ccd.js"><link rel="prefetch" href="/assets/028-NIFI架构.html.8854ade8.js"><link rel="prefetch" href="/assets/029-NIFI事务原理.html.e77f76b5.js"><link rel="prefetch" href="/assets/030-数据库字段类型.html.783d7846.js"><link rel="prefetch" href="/assets/031-1.14.html.8663ef1f.js"><link rel="prefetch" href="/assets/032-CaptureChangeMySQL.html.dfe5a778.js"><link rel="prefetch" href="/assets/033-流程告警.html.de388c03.js"><link rel="prefetch" href="/assets/034-JWT.html.d628ed27.js"><link rel="prefetch" href="/assets/037-MySQL全字段测试.html.22dd89c8.js"><link rel="prefetch" href="/assets/HikariCP文档简译.html.16a6f065.js"><link rel="prefetch" href="/assets/01-输入输出流.html.3cb7129d.js"><link rel="prefetch" href="/assets/02-File.html.83ffda0d.js"><link rel="prefetch" href="/assets/03-缓冲流BufferedInputStream与BufferedOutputStream.html.78fc1e00.js"><link rel="prefetch" href="/assets/04-缓冲流BufferedReader与BufferedWriter.html.e006a52e.js"><link rel="prefetch" href="/assets/05-转换流InputStreamReader与OutputStreamWriter.html.fc8a10e3.js"><link rel="prefetch" href="/assets/06-ByteArrayInputStream与ByteArrayOutputStream.html.0bbd0cfd.js"><link rel="prefetch" href="/assets/07-CommonsIO2.5-FileUtils.html.638b2e2f.js"><link rel="prefetch" href="/assets/ByteArrayOutputStream.html.6957a084.js"><link rel="prefetch" href="/assets/Java SPI机制.html.42fc5241.js"><link rel="prefetch" href="/assets/Java8_JVM内存模型.html.de707242.js"><link rel="prefetch" href="/assets/Java中atomic包中的原子操作类总结.html.4fdd73c9.js"><link rel="prefetch" href="/assets/Java中的锁.html.e2f8bc99.js"><link rel="prefetch" href="/assets/Java内存模型原理.html.e95a2195.js"><link rel="prefetch" href="/assets/Java反射.html.4ecbdec6.js"><link rel="prefetch" href="/assets/Java导入语句中不宜使用通配符.html.74d2db2d.js"><link rel="prefetch" href="/assets/Java类加载器.html.17f2c707.js"><link rel="prefetch" href="/assets/Java里带标签的break和continue.html.46ca85e0.js"><link rel="prefetch" href="/assets/Jvm-dump-jstack-jmap-jstat.html.3bb54971.js"><link rel="prefetch" href="/assets/java注解.html.19e9a712.js"><link rel="prefetch" href="/assets/web的发展历史.html.be5afdd1.js"><link rel="prefetch" href="/assets/代码设计原理.html.9168676e.js"><link rel="prefetch" href="/assets/使用List.html.5749f733.js"><link rel="prefetch" href="/assets/偏向锁批量重偏向与批量撤销.html.92547243.js"><link rel="prefetch" href="/assets/到底什么是classpath.html.ed6ac9ea.js"><link rel="prefetch" href="/assets/动手体验JVM中Class对象的唯一性.html.81d4153d.js"><link rel="prefetch" href="/assets/多线程基础知识总结.html.85c727bd.js"><link rel="prefetch" href="/assets/打印Java对象头.html.53828c35.js"><link rel="prefetch" href="/assets/深入了解Java锁.html.31c337c9.js"><link rel="prefetch" href="/assets/相对路径与绝对路径去读取文件.html.6dabf159.js"><link rel="prefetch" href="/assets/类加载机制.html.3f3fe5df.js"><link rel="prefetch" href="/assets/线程通信.html.01ba9d14.js"><link rel="prefetch" href="/assets/让你彻底理解Synchronized.html.15a8ae9e.js"><link rel="prefetch" href="/assets/JsonJolt教程.html.1bb06cba.js"><link rel="prefetch" href="/assets/JsonJolt教程英文版.html.4e28289e.js"><link rel="prefetch" href="/assets/使用jolt替换值.html.08bb93eb.js"><link rel="prefetch" href="/assets/linux之如何清理磁盘空间.html.34b1eba7.js"><link rel="prefetch" href="/assets/linux如何启动nginx.html.00148695.js"><link rel="prefetch" href="/assets/linux安装jdk8.html.17bf9b0a.js"><link rel="prefetch" href="/assets/linux查看crontab任务执行情况.html.432270c8.js"><link rel="prefetch" href="/assets/安装yum.html.b6b16169.js"><link rel="prefetch" href="/assets/Maven-Mirror配置.html.150a5cf4.js"><link rel="prefetch" href="/assets/MavenAssembly配置详细解释.html.9fdfe9b6.js"><link rel="prefetch" href="/assets/Maven发版名词介绍.html.969777ca.js"><link rel="prefetch" href="/assets/POM文件中依赖的版本锁定.html.d23e9fb5.js"><link rel="prefetch" href="/assets/clean-compile-build-install-package.html.0b554ff2.js"><link rel="prefetch" href="/assets/maven-assembly-plugin的使用.html.f4c30beb.js"><link rel="prefetch" href="/assets/maven压缩解压使jar文件损坏.html.ba5ad6f7.js"><link rel="prefetch" href="/assets/maven打包去除版本号.html.ebde7032.js"><link rel="prefetch" href="/assets/maven打包重命名jar.html.4d077b72.js"><link rel="prefetch" href="/assets/maven的dependency参数.html.279e0d38.js"><link rel="prefetch" href="/assets/001Spring基础知识.html.aae1ddd6.js"><link rel="prefetch" href="/assets/002Bean定义常见错误.html.e14a6e38.js"><link rel="prefetch" href="/assets/003依赖注入常见错误上.html.ee865dd6.js"><link rel="prefetch" href="/assets/004依赖注入常见错误下.html.11ee7b02.js"><link rel="prefetch" href="/assets/005Bean生命周期常见错误.html.605393fe.js"><link rel="prefetch" href="/assets/intro.html.67565d0d.js"><link rel="prefetch" href="/assets/qq.html.8fe9c932.js"><link rel="prefetch" href="/assets/wechat.html.ed99719d.js"><link rel="prefetch" href="/assets/Gitee Pages自动部署.html.9d03b4d9.js"><link rel="prefetch" href="/assets/Git切换远程仓库.html.373c62fb.js"><link rel="prefetch" href="/assets/Mac的Mat打开失败解决方案.html.cbde74a0.js"><link rel="prefetch" href="/assets/什么是乐观锁_什么是悲观锁.html.0c76c89d.js"><link rel="prefetch" href="/assets/大数据的4v.html.77cad6db.js"><link rel="prefetch" href="/assets/字体颜色工具.html.9256d1b6.js"><link rel="prefetch" href="/assets/普罗米修斯安装MAC版.html.a96dce88.js"><link rel="prefetch" href="/assets/深入HTTPS加解密原理.html.39d9960d.js"><link rel="prefetch" href="/assets/编码和编码格式.html.9f4c34bc.js"><link rel="prefetch" href="/assets/聊聊HTTPS和SSL_TLS协议.html.bdcfa605.js"><link rel="prefetch" href="/assets/docker介绍.html.e9234525.js"><link rel="prefetch" href="/assets/安装k8s.html.8fad0948.js"><link rel="prefetch" href="/assets/CAS底层原理.html.d66d6b72.js"><link rel="prefetch" href="/assets/Contended.html.70244f8d.js"><link rel="prefetch" href="/assets/Java动态代理.html.6539b514.js"><link rel="prefetch" href="/assets/从硬件层面理解memorybarrier.html.99d55a2e.js"><link rel="prefetch" href="/assets/技术路线图.html.34f22c57.js"><link rel="prefetch" href="/assets/磁盘原理介绍.html.8b53378a.js"><link rel="prefetch" href="/assets/类加载器.html.633ded9b.js"><link rel="prefetch" href="/assets/锁.html.a80358bf.js"><link rel="prefetch" href="/assets/哪些操作导致了上下文切换.html.433084f6.js"><link rel="prefetch" href="/assets/如何优化多线程上下文切换.html.cd1145e6.js"><link rel="prefetch" href="/assets/如何用协程来优化多线程业务.html.e80b02c2.js"><link rel="prefetch" href="/assets/操作系统缓存.html.e2e3a3cd.js"><link rel="prefetch" href="/assets/进程线程上下文切换会用掉你多少CPU.html.51ed0143.js"><link rel="prefetch" href="/assets/001-管理OracleRedoLog.html.a84316d8.js"><link rel="prefetch" href="/assets/BIT的字节序.html.f57eba9f.js"><link rel="prefetch" href="/assets/MySQL不要再使用UTF-8了.html.fc8ae3ab.js"><link rel="prefetch" href="/assets/MySQL创建触发器.html.d5c0324d.js"><link rel="prefetch" href="/assets/MySQL字段类型.html.07a1e7de.js"><link rel="prefetch" href="/assets/java.sql.Types的具体对应值jdbcType.html.67e56f10.js"><link rel="prefetch" href="/assets/sqlserver对应Java中的数据类型.html.55e9ac95.js"><link rel="prefetch" href="/assets/互联网术语.html.237fa7ac.js"><link rel="prefetch" href="/assets/基于水印的CDC框架.html.a447f7a7.js"><link rel="prefetch" href="/assets/按位置读取ResultSet比按名称快.html.511ee22d.js"><link rel="prefetch" href="/assets/无效的列索引.html.8c3fda08.js"><link rel="prefetch" href="/assets/sf.html.8f305e05.js"><link rel="prefetch" href="/assets/二叉搜索树的前驱和后继节点.html.a0101f40.js"><link rel="prefetch" href="/assets/什么是红黑树.html.724a2226.js"><link rel="prefetch" href="/assets/冒泡排序.html.5256122d.js"><link rel="prefetch" href="/assets/十大经典排序算法最强总结.html.dbd3826f.js"><link rel="prefetch" href="/assets/基于Java实现红黑树的基本操作.html.a601a58b.js"><link rel="prefetch" href="/assets/并查集.html.2bdbf229.js"><link rel="prefetch" href="/assets/security排查.html.3bb3748b.js"><link rel="prefetch" href="/assets/01谈谈你对Java平台的理解.html.1513d4f6.js"><link rel="prefetch" href="/assets/02Exception和Error有什么区别.html.e00a7ca7.js"><link rel="prefetch" href="/assets/03谈谈final-finally-finalize有什么不同.html.d18a945d.js"><link rel="prefetch" href="/assets/04强引用-软引用-弱引用-幻象引用有什么区别.html.c9bf24e5.js"><link rel="prefetch" href="/assets/05String-StringBuffer-StringBuilder有什么区别.html.3874d3b4.js"><link rel="prefetch" href="/assets/1-两数之和.html.db2471f8.js"><link rel="prefetch" href="/assets/2-两数相加.html.8c926ec0.js"><link rel="prefetch" href="/assets/3-无重复字符的最长子串.html.26e32dc7.js"><link rel="prefetch" href="/assets/4-寻找两个有序数组的中位数.html.daae6f1b.js"><link rel="prefetch" href="/assets/5-最长回文子串.html.c0f4d80d.js"><link rel="prefetch" href="/assets/6-Z字形变换.html.02fa0cac.js"><link rel="prefetch" href="/assets/sfxc.html.f12120dc.js"><link rel="prefetch" href="/assets/刷二叉搜索树.html.d5b3ef6c.js"><link rel="prefetch" href="/assets/刷平衡二叉树.html.d0f4aecb.js"><link rel="prefetch" href="/assets/动态规划详解.html.865542e8.js"><link rel="prefetch" href="/assets/回溯算法详解.html.4d13c8b9.js"><link rel="prefetch" href="/assets/学习算法和刷题的思路指南.html.f43f3da4.js"><link rel="prefetch" href="/assets/带你刷二叉树.html.b23ec05f.js"><link rel="prefetch" href="/assets/1Spring的整体架构.html.a85b099b.js"><link rel="prefetch" href="/assets/2Spring的结构组成.html.7ef09266.js"><link rel="prefetch" href="/assets/3容器的基础XmlBeanFactory.html.c09e9816.js"><link rel="prefetch" href="/assets/4Spring中的FactoryBean.html.f8444763.js"><link rel="prefetch" href="/assets/01-进程与线程基本概念.html.cf9325ac.js"><link rel="prefetch" href="/assets/02-Java多线程入门类和接口.html.fcdf9d7f.js"><link rel="prefetch" href="/assets/03-线程组和线程优先级.html.f10fd9f7.js"><link rel="prefetch" href="/assets/04-Java线程的状态及主要转化方法.html.6b7e5aa6.js"><link rel="prefetch" href="/assets/05-Java线程间的通信.html.d5f58c74.js"><link rel="prefetch" href="/assets/06-Java内存模型基础知识.html.921e0455.js"><link rel="prefetch" href="/assets/07-重排序与happens-before.html.b9766bda.js"><link rel="prefetch" href="/assets/08-volatitle.html.2195929b.js"><link rel="prefetch" href="/assets/09-synchronized与锁.html.b3b12c33.js"><link rel="prefetch" href="/assets/10-CAS与原子操作.html.b6297f72.js"><link rel="prefetch" href="/assets/11-AQS.html.965fd067.js"><link rel="prefetch" href="/assets/12-线程池原理.html.3d2fba5c.js"><link rel="prefetch" href="/assets/13-阻塞队列.html.0dc4b715.js"><link rel="prefetch" href="/assets/14-锁接口和类.html.f6066eeb.js"><link rel="prefetch" href="/assets/15-并发容器集合.html.41a15835.js"><link rel="prefetch" href="/assets/16-CopyOnWrite容器.html.2b2b4ccc.js"><link rel="prefetch" href="/assets/17-通信工具类.html.974db0f0.js"><link rel="prefetch" href="/assets/18-Fork_Join框架.html.d3a9f68f.js"><link rel="prefetch" href="/assets/19-Java8Stream并行计算原理.html.5235c29c.js"><link rel="prefetch" href="/assets/20-计划任务.html.b217d694.js"><link rel="prefetch" href="/assets/深入浅出Java多线程.html.bcac0a65.js"><link rel="prefetch" href="/assets/01-冯·诺依曼体系结构.html.35638b0e.js"><link rel="prefetch" href="/assets/02-计算机组成原理应该这么学.html.ccea22ee.js"><link rel="prefetch" href="/assets/03-我们来谈谈性能究竟是什么.html.3aeeca0f.js"><link rel="prefetch" href="/assets/04-我们该从哪些方面提升性能.html.73d1066c.js"><link rel="prefetch" href="/assets/深入浅出计算机组成原理.html.dbe89e7c.js"><link rel="prefetch" href="/assets/01-记忆宫殿的起源.html.88ad2ed1.js"><link rel="prefetch" href="/assets/02-记忆宫殿的原理.html.4edd4f96.js"><link rel="prefetch" href="/assets/03-记忆宫殿速记体验.html.d1402286.js"><link rel="prefetch" href="/assets/04-机械记忆.html.d0fc7d4b.js"><link rel="prefetch" href="/assets/05-逻辑记忆.html.d100c614.js"><link rel="prefetch" href="/assets/06-图像记忆.html.f004ce69.js"><link rel="prefetch" href="/assets/07-代替法.html.833074ea.js"><link rel="prefetch" href="/assets/08-记忆术起点锁链法.html.c03c6c60.js"><link rel="prefetch" href="/assets/09-固定法.html.2ee0a699.js"><link rel="prefetch" href="/assets/10-固定法之记忆力测试.html.cd6bc8f5.js"><link rel="prefetch" href="/assets/11-固定法之地点桩记忆体验.html.e7eeaeb6.js"><link rel="prefetch" href="/assets/12-固定法之千位数字定位系统.html.14538688.js"><link rel="prefetch" href="/assets/13-固定法之记忆宫殿实战.html.1341d2b0.js"><link rel="prefetch" href="/assets/14-记忆的宏观理论.html.e4ef3e0b.js"><link rel="prefetch" href="/assets/15-视觉图像是一切记忆的基础.html.5a8d74ef.js"><link rel="prefetch" href="/assets/16-快速记忆的秘密.html.08f89002.js"><link rel="prefetch" href="/assets/17-什么是联想.html.fbf8f8a5.js"><link rel="prefetch" href="/assets/18-记忆思维的演变.html.61dda464.js"><link rel="prefetch" href="/assets/19-记忆术基本功发散训练.html.5a529b86.js"><link rel="prefetch" href="/assets/20-联结的技巧.html.5ba666aa.js"><link rel="prefetch" href="/assets/21-记忆术基本功之逻辑联想法.html.1c40e7e2.js"><link rel="prefetch" href="/assets/22-记忆术基本功之逻辑推理记忆信息.html.adfae4a1.js"><link rel="prefetch" href="/assets/23-记忆术基本功之故事法.html.c821a134.js"><link rel="prefetch" href="/assets/24-记忆术基础训练抽象词汇串联.html.51f50739.js"><link rel="prefetch" href="/assets/25-记忆术之词性串联训练.html.43c1ba18.js"><link rel="prefetch" href="/assets/26-记忆术基本功之归纳简化.html.6769fe1d.js"><link rel="prefetch" href="/assets/27-口诀记忆.html.b498d289.js"><link rel="prefetch" href="/assets/28-绘图记忆法.html.4fd15e75.js"><link rel="prefetch" href="/assets/29-比喻记忆法.html.6cb40d8c.js"><link rel="prefetch" href="/assets/30-内视觉出图七要素.html.5d3fee23.js"><link rel="prefetch" href="/assets/31-创造和加工图像.html.7b0cdf8b.js"><link rel="prefetch" href="/assets/32-万物皆桩.html.e63cc818.js"><link rel="prefetch" href="/assets/33-一对一联结训练.html.adea88b9.js"><link rel="prefetch" href="/assets/34-记忆初级万能公式.html.490a6806.js"><link rel="prefetch" href="/assets/35-记忆术的两种核心技巧谐音和逻辑.html.df1776e8.js"><link rel="prefetch" href="/assets/36-关键词记忆法.html.ceb170f4.js"><link rel="prefetch" href="/assets/37-如何集中注意力.html.f6489440.js"><link rel="prefetch" href="/assets/38-视觉化的窍门.html.ee0ef339.js"><link rel="prefetch" href="/assets/39-意群的逻辑图像转化.html.54f0d589.js"><link rel="prefetch" href="/assets/40-意群图像记忆的步骤.html.0baf1b3f.js"><link rel="prefetch" href="/assets/41-文字编码库.html.7ec2e948.js"><link rel="prefetch" href="/assets/42-现实记忆宫殿.html.5723a6c9.js"><link rel="prefetch" href="/assets/43-虚拟记忆宫殿.html.4676bc6e.js"><link rel="prefetch" href="/assets/44-随机记忆宫殿.html.32967b1e.js"><link rel="prefetch" href="/assets/45-记忆宫殿之人物系统.html.456d1498.js"><link rel="prefetch" href="/assets/46-五种方法记单词.html.acce09e4.js"><link rel="prefetch" href="/assets/01-命名风格.html.ed3841e8.js"><link rel="prefetch" href="/assets/02-常量定义.html.8cf934a6.js"><link rel="prefetch" href="/assets/03-代码格式.html.b171a47b.js"><link rel="prefetch" href="/assets/04-OOP规约.html.512bef3a.js"><link rel="prefetch" href="/assets/05-日期时间.html.d4599932.js"><link rel="prefetch" href="/assets/06-集合处理.html.91e34681.js"><link rel="prefetch" href="/assets/07-并发处理.html.94e1da2d.js"><link rel="prefetch" href="/assets/08-控制语句.html.06a4ae0d.js"><link rel="prefetch" href="/assets/09-注释规约.html.9b747d8a.js"><link rel="prefetch" href="/assets/10-其它.html.398e84f2.js"><link rel="prefetch" href="/assets/11-错误码.html.20d0c346.js"><link rel="prefetch" href="/assets/12-异常处理.html.d1032a59.js"><link rel="prefetch" href="/assets/13-日志规约.html.ad4f3771.js"><link rel="prefetch" href="/assets/14-单元测试.html.182e337a.js"><link rel="prefetch" href="/assets/15-安全规约.html.9726eb9a.js"><link rel="prefetch" href="/assets/16-建表规约.html.5f41730b.js"><link rel="prefetch" href="/assets/17-索引规约.html.2bbf1503.js"><link rel="prefetch" href="/assets/18-SQL语句.html.4ce8e295.js"><link rel="prefetch" href="/assets/19-ORM映射.html.2739f165.js"><link rel="prefetch" href="/assets/20-应用分层.html.9a8c4cda.js"><link rel="prefetch" href="/assets/21-二方库依赖.html.16e88a56.js"><link rel="prefetch" href="/assets/22-服务器.html.dfeb8984.js"><link rel="prefetch" href="/assets/23-设计规约.html.ab107cfb.js"><link rel="prefetch" href="/assets/24-专有名词解释.html.3d886b3b.js"><link rel="prefetch" href="/assets/25-错误码列表.html.ff456035.js"><link rel="prefetch" href="/assets/手抄版.html.097f04f9.js"><link rel="prefetch" href="/assets/404.html.ebf25b44.js"><link rel="prefetch" href="/assets/index.html.2e0b4132.js"><link rel="prefetch" href="/assets/index.html.c36f22c4.js"><link rel="prefetch" href="/assets/index.html.66f2a5c9.js"><link rel="prefetch" href="/assets/index.html.6d501d9d.js"><link rel="prefetch" href="/assets/index.html.5de2e56d.js"><link rel="prefetch" href="/assets/index.html.72905fb5.js"><link rel="prefetch" href="/assets/index.html.2a314b55.js"><link rel="prefetch" href="/assets/index.html.6f1fe3f6.js"><link rel="prefetch" href="/assets/index.html.e4619cbd.js"><link rel="prefetch" href="/assets/index.html.c8d14614.js"><link rel="prefetch" href="/assets/index.html.44e40c7d.js"><link rel="prefetch" href="/assets/index.html.aaeb789f.js"><link rel="prefetch" href="/assets/index.html.9eaa2298.js"><link rel="prefetch" href="/assets/index.html.db8ea907.js"><link rel="prefetch" href="/assets/index.html.a2fa5af7.js"><link rel="prefetch" href="/assets/index.html.bb15c424.js"><link rel="prefetch" href="/assets/index.html.3d51cf46.js"><link rel="prefetch" href="/assets/index.html.b94ffc24.js"><link rel="prefetch" href="/assets/index.html.a7ed61b6.js"><link rel="prefetch" href="/assets/index.html.0d05725d.js"><link rel="prefetch" href="/assets/index.html.6d0aa9c2.js"><link rel="prefetch" href="/assets/index.html.a9b8fd24.js"><link rel="prefetch" href="/assets/index.html.88d67a57.js"><link rel="prefetch" href="/assets/index.html.4eaac003.js"><link rel="prefetch" href="/assets/index.html.59d21196.js"><link rel="prefetch" href="/assets/index.html.45b79d3a.js"><link rel="prefetch" href="/assets/index.html.27492764.js"><link rel="prefetch" href="/assets/index.html.b9d31689.js"><link rel="prefetch" href="/assets/index.html.aafecb06.js"><link rel="prefetch" href="/assets/index.html.e439dcec.js"><link rel="prefetch" href="/assets/index.html.12614e6e.js"><link rel="prefetch" href="/assets/index.html.f3a717f9.js"><link rel="prefetch" href="/assets/index.html.1b6d1b29.js"><link rel="prefetch" href="/assets/index.html.d18333bc.js"><link rel="prefetch" href="/assets/index.html.003623a2.js"><link rel="prefetch" href="/assets/index.html.c2e82826.js"><link rel="prefetch" href="/assets/index.html.1f20313e.js"><link rel="prefetch" href="/assets/001-编译NIFI源码.html.1f2a7cbb.js"><link rel="prefetch" href="/assets/002-NIFI自定义开发规范.html.96109300.js"><link rel="prefetch" href="/assets/003-Processor的一些方法.html.9e9f2ad2.js"><link rel="prefetch" href="/assets/004-自定义Processor.html.33407e8a.js"><link rel="prefetch" href="/assets/005-自定义ExpressionLanguage.html.1a5e6d49.js"><link rel="prefetch" href="/assets/006-NIFI启动源码.html.d7dc74ec.js"><link rel="prefetch" href="/assets/007-在HTTP模式下开启权限模块.html.1b486a5a.js"><link rel="prefetch" href="/assets/008-JettyServer源码.html.22e6a025.js"><link rel="prefetch" href="/assets/009-NiFi源码.html.e2c2a46b.js"><link rel="prefetch" href="/assets/010-nifi注解.html.cde25264.js"><link rel="prefetch" href="/assets/011-Debezium详细嵌入NIFI.html.92d20920.js"><link rel="prefetch" href="/assets/RunNiFi源码.html.8702902d.js"><link rel="prefetch" href="/assets/nifi-env-sh.html.19500093.js"><link rel="prefetch" href="/assets/nifi-sh-start.html.c0bc34bf.js"><link rel="prefetch" href="/assets/nifi-sh.html.45d3de11.js"><link rel="prefetch" href="/assets/000-ApacheNIFI历史.html.8bef9691.js"><link rel="prefetch" href="/assets/001-NiFi术语.html.4c259261.js"><link rel="prefetch" href="/assets/002-带你体验ApacheNIFI.html.6896c977.js"><link rel="prefetch" href="/assets/003-NIFI入门.html.3b699716.js"><link rel="prefetch" href="/assets/004-数据抽取的常见方法.html.e258eee8.js"><link rel="prefetch" href="/assets/005-基于增量字段同步数据.html.aa6c9e76.js"><link rel="prefetch" href="/assets/006-NIFI各个NAR包功能概述.html.8d77a830.js"><link rel="prefetch" href="/assets/007-Nar包加载机制源码解读.html.64395718.js"><link rel="prefetch" href="/assets/008-Nar包下的MANIFEST.MF.html.88e48ebf.js"><link rel="prefetch" href="/assets/009-Apache NIFI类资源隔离机制.html.036ba48f.js"><link rel="prefetch" href="/assets/010-Apache NIFI Processor情况.html.0ad495d2.js"><link rel="prefetch" href="/assets/011-理解connection.html.1ca7be5c.js"><link rel="prefetch" href="/assets/012-理解maxThread设置.html.a0fa9eb0.js"><link rel="prefetch" href="/assets/013-RunDuration理解.html.4da4e4c2.js"><link rel="prefetch" href="/assets/014-ContentRepositoryArchiving理解.html.34f937cd.js"><link rel="prefetch" href="/assets/015-Controller Services是守护进程.html.db08f494.js"><link rel="prefetch" href="/assets/016-NIFI调度.html.d66a321b.js"><link rel="prefetch" href="/assets/017-NIFI高可用.html.e4b4737f.js"><link rel="prefetch" href="/assets/018-通过配置优化NiFi性能.html.94b6d584.js"><link rel="prefetch" href="/assets/019-NIFI里的数据库连接池.html.91336ea2.js"><link rel="prefetch" href="/assets/020-为什么建议使用NIFI里的Record.html.1ec41bd1.js"><link rel="prefetch" href="/assets/021-NIFI贡献代码.html.0aab5c5c.js"><link rel="prefetch" href="/assets/022-NIFI开启HTTPS.html.fb3110a3.js"><link rel="prefetch" href="/assets/023-ExecuteScript脚本教程.html.996b4a6e.js"><link rel="prefetch" href="/assets/024-内容存储库原理.html.50394454.js"><link rel="prefetch" href="/assets/025-FlowFile存储库原理.html.dbfee8e8.js"><link rel="prefetch" href="/assets/026-预写日志(WAL).html.fe008c8a.js"><link rel="prefetch" href="/assets/027-Provenance存储库原理.html.8dfa274a.js"><link rel="prefetch" href="/assets/028-NIFI架构.html.6183f9a4.js"><link rel="prefetch" href="/assets/029-NIFI事务原理.html.91cee190.js"><link rel="prefetch" href="/assets/030-数据库字段类型.html.693785dd.js"><link rel="prefetch" href="/assets/031-1.14.html.091fd5a6.js"><link rel="prefetch" href="/assets/032-CaptureChangeMySQL.html.c5ed652f.js"><link rel="prefetch" href="/assets/033-流程告警.html.8de2b4d7.js"><link rel="prefetch" href="/assets/034-JWT.html.a50ad9e6.js"><link rel="prefetch" href="/assets/037-MySQL全字段测试.html.1ab55eda.js"><link rel="prefetch" href="/assets/HikariCP文档简译.html.5c163cac.js"><link rel="prefetch" href="/assets/01-输入输出流.html.096160f1.js"><link rel="prefetch" href="/assets/02-File.html.2feb1029.js"><link rel="prefetch" href="/assets/03-缓冲流BufferedInputStream与BufferedOutputStream.html.402e410f.js"><link rel="prefetch" href="/assets/04-缓冲流BufferedReader与BufferedWriter.html.a319a0c7.js"><link rel="prefetch" href="/assets/05-转换流InputStreamReader与OutputStreamWriter.html.6a64d01f.js"><link rel="prefetch" href="/assets/06-ByteArrayInputStream与ByteArrayOutputStream.html.8ac085b3.js"><link rel="prefetch" href="/assets/07-CommonsIO2.5-FileUtils.html.05a10b7c.js"><link rel="prefetch" href="/assets/ByteArrayOutputStream.html.c655d3c2.js"><link rel="prefetch" href="/assets/Java SPI机制.html.513f4940.js"><link rel="prefetch" href="/assets/Java8_JVM内存模型.html.92c91fd9.js"><link rel="prefetch" href="/assets/Java中atomic包中的原子操作类总结.html.8ede6b52.js"><link rel="prefetch" href="/assets/Java中的锁.html.eb7b72e6.js"><link rel="prefetch" href="/assets/Java内存模型原理.html.6576ed8c.js"><link rel="prefetch" href="/assets/Java反射.html.0ed89255.js"><link rel="prefetch" href="/assets/Java导入语句中不宜使用通配符.html.14822534.js"><link rel="prefetch" href="/assets/Java类加载器.html.4673bf0a.js"><link rel="prefetch" href="/assets/Java里带标签的break和continue.html.69fbf9d8.js"><link rel="prefetch" href="/assets/Jvm-dump-jstack-jmap-jstat.html.1c952d78.js"><link rel="prefetch" href="/assets/java注解.html.18a8081d.js"><link rel="prefetch" href="/assets/web的发展历史.html.f7f770ec.js"><link rel="prefetch" href="/assets/代码设计原理.html.a40ec93a.js"><link rel="prefetch" href="/assets/使用List.html.0cf127b6.js"><link rel="prefetch" href="/assets/偏向锁批量重偏向与批量撤销.html.1543f92f.js"><link rel="prefetch" href="/assets/到底什么是classpath.html.c10cbbe6.js"><link rel="prefetch" href="/assets/动手体验JVM中Class对象的唯一性.html.c3551a63.js"><link rel="prefetch" href="/assets/多线程基础知识总结.html.bf005f27.js"><link rel="prefetch" href="/assets/打印Java对象头.html.b9b8df70.js"><link rel="prefetch" href="/assets/深入了解Java锁.html.ad9a7b57.js"><link rel="prefetch" href="/assets/相对路径与绝对路径去读取文件.html.fd9a4032.js"><link rel="prefetch" href="/assets/类加载机制.html.f8497a45.js"><link rel="prefetch" href="/assets/线程通信.html.20240e80.js"><link rel="prefetch" href="/assets/让你彻底理解Synchronized.html.95d5adc2.js"><link rel="prefetch" href="/assets/JsonJolt教程.html.e76ac4d3.js"><link rel="prefetch" href="/assets/JsonJolt教程英文版.html.965d049d.js"><link rel="prefetch" href="/assets/使用jolt替换值.html.57a161a2.js"><link rel="prefetch" href="/assets/linux之如何清理磁盘空间.html.f5edf3df.js"><link rel="prefetch" href="/assets/linux如何启动nginx.html.41686558.js"><link rel="prefetch" href="/assets/linux安装jdk8.html.953e0d02.js"><link rel="prefetch" href="/assets/linux查看crontab任务执行情况.html.9f3d4c3d.js"><link rel="prefetch" href="/assets/安装yum.html.29307f3a.js"><link rel="prefetch" href="/assets/Maven-Mirror配置.html.366db1da.js"><link rel="prefetch" href="/assets/MavenAssembly配置详细解释.html.1240d77b.js"><link rel="prefetch" href="/assets/Maven发版名词介绍.html.3d1565e3.js"><link rel="prefetch" href="/assets/POM文件中依赖的版本锁定.html.6d3605d6.js"><link rel="prefetch" href="/assets/clean-compile-build-install-package.html.35409efe.js"><link rel="prefetch" href="/assets/maven-assembly-plugin的使用.html.277b071c.js"><link rel="prefetch" href="/assets/maven压缩解压使jar文件损坏.html.724732d7.js"><link rel="prefetch" href="/assets/maven打包去除版本号.html.a60e5ffa.js"><link rel="prefetch" href="/assets/maven打包重命名jar.html.46e538a4.js"><link rel="prefetch" href="/assets/maven的dependency参数.html.8e928259.js"><link rel="prefetch" href="/assets/001Spring基础知识.html.d7e5d06e.js"><link rel="prefetch" href="/assets/002Bean定义常见错误.html.1317de85.js"><link rel="prefetch" href="/assets/003依赖注入常见错误上.html.ddd48c19.js"><link rel="prefetch" href="/assets/004依赖注入常见错误下.html.29edd004.js"><link rel="prefetch" href="/assets/005Bean生命周期常见错误.html.aac5d30a.js"><link rel="prefetch" href="/assets/intro.html.f618b6e8.js"><link rel="prefetch" href="/assets/qq.html.69edc377.js"><link rel="prefetch" href="/assets/wechat.html.d193fe74.js"><link rel="prefetch" href="/assets/Gitee Pages自动部署.html.989fd37c.js"><link rel="prefetch" href="/assets/Git切换远程仓库.html.e05e3416.js"><link rel="prefetch" href="/assets/Mac的Mat打开失败解决方案.html.f2297f93.js"><link rel="prefetch" href="/assets/什么是乐观锁_什么是悲观锁.html.eff2d5b1.js"><link rel="prefetch" href="/assets/大数据的4v.html.9422e98e.js"><link rel="prefetch" href="/assets/字体颜色工具.html.3c050fff.js"><link rel="prefetch" href="/assets/普罗米修斯安装MAC版.html.97b057eb.js"><link rel="prefetch" href="/assets/深入HTTPS加解密原理.html.50cbeb4f.js"><link rel="prefetch" href="/assets/编码和编码格式.html.94510bcc.js"><link rel="prefetch" href="/assets/聊聊HTTPS和SSL_TLS协议.html.6ea41f34.js"><link rel="prefetch" href="/assets/docker介绍.html.323cbf74.js"><link rel="prefetch" href="/assets/安装k8s.html.238ebc01.js"><link rel="prefetch" href="/assets/CAS底层原理.html.0eba937d.js"><link rel="prefetch" href="/assets/Contended.html.87eb5501.js"><link rel="prefetch" href="/assets/Java动态代理.html.bc12378f.js"><link rel="prefetch" href="/assets/从硬件层面理解memorybarrier.html.23b675eb.js"><link rel="prefetch" href="/assets/技术路线图.html.e6590112.js"><link rel="prefetch" href="/assets/磁盘原理介绍.html.3010bbf1.js"><link rel="prefetch" href="/assets/类加载器.html.e9426df0.js"><link rel="prefetch" href="/assets/锁.html.32073316.js"><link rel="prefetch" href="/assets/哪些操作导致了上下文切换.html.bef40eb3.js"><link rel="prefetch" href="/assets/如何优化多线程上下文切换.html.7f7ebd5e.js"><link rel="prefetch" href="/assets/如何用协程来优化多线程业务.html.36a1dda4.js"><link rel="prefetch" href="/assets/操作系统缓存.html.c00bfdd2.js"><link rel="prefetch" href="/assets/进程线程上下文切换会用掉你多少CPU.html.8771e343.js"><link rel="prefetch" href="/assets/001-管理OracleRedoLog.html.237edb31.js"><link rel="prefetch" href="/assets/BIT的字节序.html.a2393cb8.js"><link rel="prefetch" href="/assets/MySQL不要再使用UTF-8了.html.24a0b426.js"><link rel="prefetch" href="/assets/MySQL创建触发器.html.6b51a495.js"><link rel="prefetch" href="/assets/MySQL字段类型.html.d322ace4.js"><link rel="prefetch" href="/assets/java.sql.Types的具体对应值jdbcType.html.35199962.js"><link rel="prefetch" href="/assets/sqlserver对应Java中的数据类型.html.b75d526f.js"><link rel="prefetch" href="/assets/互联网术语.html.315a088f.js"><link rel="prefetch" href="/assets/基于水印的CDC框架.html.234976c6.js"><link rel="prefetch" href="/assets/按位置读取ResultSet比按名称快.html.7590155d.js"><link rel="prefetch" href="/assets/无效的列索引.html.c6f4c82d.js"><link rel="prefetch" href="/assets/sf.html.a2eb4faa.js"><link rel="prefetch" href="/assets/二叉搜索树的前驱和后继节点.html.b60cec33.js"><link rel="prefetch" href="/assets/什么是红黑树.html.fed3070e.js"><link rel="prefetch" href="/assets/冒泡排序.html.f73344df.js"><link rel="prefetch" href="/assets/十大经典排序算法最强总结.html.a4c9b37b.js"><link rel="prefetch" href="/assets/基于Java实现红黑树的基本操作.html.e62d69a2.js"><link rel="prefetch" href="/assets/并查集.html.bd135492.js"><link rel="prefetch" href="/assets/security排查.html.f7102c41.js"><link rel="prefetch" href="/assets/01谈谈你对Java平台的理解.html.5fc4ea8a.js"><link rel="prefetch" href="/assets/02Exception和Error有什么区别.html.2775409f.js"><link rel="prefetch" href="/assets/03谈谈final-finally-finalize有什么不同.html.30af20af.js"><link rel="prefetch" href="/assets/04强引用-软引用-弱引用-幻象引用有什么区别.html.c97f8756.js"><link rel="prefetch" href="/assets/05String-StringBuffer-StringBuilder有什么区别.html.2b1edc36.js"><link rel="prefetch" href="/assets/1-两数之和.html.06c54d60.js"><link rel="prefetch" href="/assets/2-两数相加.html.f49f4e89.js"><link rel="prefetch" href="/assets/3-无重复字符的最长子串.html.b573c7c2.js"><link rel="prefetch" href="/assets/4-寻找两个有序数组的中位数.html.13097dcc.js"><link rel="prefetch" href="/assets/5-最长回文子串.html.817a3b9e.js"><link rel="prefetch" href="/assets/6-Z字形变换.html.eaeb990b.js"><link rel="prefetch" href="/assets/sfxc.html.b5e04781.js"><link rel="prefetch" href="/assets/刷二叉搜索树.html.8dbab4b5.js"><link rel="prefetch" href="/assets/刷平衡二叉树.html.4adcf6e2.js"><link rel="prefetch" href="/assets/动态规划详解.html.a62ccc8a.js"><link rel="prefetch" href="/assets/回溯算法详解.html.38bc913f.js"><link rel="prefetch" href="/assets/学习算法和刷题的思路指南.html.0119054e.js"><link rel="prefetch" href="/assets/带你刷二叉树.html.b473d013.js"><link rel="prefetch" href="/assets/1Spring的整体架构.html.d6e2821c.js"><link rel="prefetch" href="/assets/2Spring的结构组成.html.4b548c2d.js"><link rel="prefetch" href="/assets/3容器的基础XmlBeanFactory.html.868bb341.js"><link rel="prefetch" href="/assets/4Spring中的FactoryBean.html.d1b40f8b.js"><link rel="prefetch" href="/assets/01-进程与线程基本概念.html.dfc79b03.js"><link rel="prefetch" href="/assets/02-Java多线程入门类和接口.html.933285b4.js"><link rel="prefetch" href="/assets/03-线程组和线程优先级.html.2f03e206.js"><link rel="prefetch" href="/assets/04-Java线程的状态及主要转化方法.html.23a2e204.js"><link rel="prefetch" href="/assets/05-Java线程间的通信.html.c0ffbedc.js"><link rel="prefetch" href="/assets/06-Java内存模型基础知识.html.695eec4a.js"><link rel="prefetch" href="/assets/07-重排序与happens-before.html.a94ca494.js"><link rel="prefetch" href="/assets/08-volatitle.html.a6d777ea.js"><link rel="prefetch" href="/assets/09-synchronized与锁.html.e0e1340a.js"><link rel="prefetch" href="/assets/10-CAS与原子操作.html.affcd98e.js"><link rel="prefetch" href="/assets/11-AQS.html.36f5465e.js"><link rel="prefetch" href="/assets/12-线程池原理.html.beed3b93.js"><link rel="prefetch" href="/assets/13-阻塞队列.html.65510cff.js"><link rel="prefetch" href="/assets/14-锁接口和类.html.690258e7.js"><link rel="prefetch" href="/assets/15-并发容器集合.html.45c690c3.js"><link rel="prefetch" href="/assets/16-CopyOnWrite容器.html.dc2baa93.js"><link rel="prefetch" href="/assets/17-通信工具类.html.04d2b3c6.js"><link rel="prefetch" href="/assets/18-Fork_Join框架.html.cef3e8dc.js"><link rel="prefetch" href="/assets/19-Java8Stream并行计算原理.html.99d00ab7.js"><link rel="prefetch" href="/assets/20-计划任务.html.fa7e9e8e.js"><link rel="prefetch" href="/assets/深入浅出Java多线程.html.24f22df4.js"><link rel="prefetch" href="/assets/01-冯·诺依曼体系结构.html.7745d153.js"><link rel="prefetch" href="/assets/02-计算机组成原理应该这么学.html.21c2f250.js"><link rel="prefetch" href="/assets/03-我们来谈谈性能究竟是什么.html.c0351971.js"><link rel="prefetch" href="/assets/04-我们该从哪些方面提升性能.html.14208856.js"><link rel="prefetch" href="/assets/深入浅出计算机组成原理.html.0ce2807c.js"><link rel="prefetch" href="/assets/01-记忆宫殿的起源.html.bfcbd0ce.js"><link rel="prefetch" href="/assets/02-记忆宫殿的原理.html.58179e62.js"><link rel="prefetch" href="/assets/03-记忆宫殿速记体验.html.c0d64867.js"><link rel="prefetch" href="/assets/04-机械记忆.html.30b47c45.js"><link rel="prefetch" href="/assets/05-逻辑记忆.html.edd45918.js"><link rel="prefetch" href="/assets/06-图像记忆.html.750c8737.js"><link rel="prefetch" href="/assets/07-代替法.html.c58693ce.js"><link rel="prefetch" href="/assets/08-记忆术起点锁链法.html.de5cdc00.js"><link rel="prefetch" href="/assets/09-固定法.html.25e28680.js"><link rel="prefetch" href="/assets/10-固定法之记忆力测试.html.f8942ed6.js"><link rel="prefetch" href="/assets/11-固定法之地点桩记忆体验.html.90901179.js"><link rel="prefetch" href="/assets/12-固定法之千位数字定位系统.html.a818705c.js"><link rel="prefetch" href="/assets/13-固定法之记忆宫殿实战.html.5323bff6.js"><link rel="prefetch" href="/assets/14-记忆的宏观理论.html.d2bf675d.js"><link rel="prefetch" href="/assets/15-视觉图像是一切记忆的基础.html.acd22b54.js"><link rel="prefetch" href="/assets/16-快速记忆的秘密.html.bc28171c.js"><link rel="prefetch" href="/assets/17-什么是联想.html.73bd6d65.js"><link rel="prefetch" href="/assets/18-记忆思维的演变.html.2e979c39.js"><link rel="prefetch" href="/assets/19-记忆术基本功发散训练.html.b14baa66.js"><link rel="prefetch" href="/assets/20-联结的技巧.html.1e14855a.js"><link rel="prefetch" href="/assets/21-记忆术基本功之逻辑联想法.html.a7a6ef05.js"><link rel="prefetch" href="/assets/22-记忆术基本功之逻辑推理记忆信息.html.02c42451.js"><link rel="prefetch" href="/assets/23-记忆术基本功之故事法.html.1e20fbfe.js"><link rel="prefetch" href="/assets/24-记忆术基础训练抽象词汇串联.html.947d58bc.js"><link rel="prefetch" href="/assets/25-记忆术之词性串联训练.html.482d66b0.js"><link rel="prefetch" href="/assets/26-记忆术基本功之归纳简化.html.9853c6c9.js"><link rel="prefetch" href="/assets/27-口诀记忆.html.64a28442.js"><link rel="prefetch" href="/assets/28-绘图记忆法.html.c3cc56f6.js"><link rel="prefetch" href="/assets/29-比喻记忆法.html.775b3343.js"><link rel="prefetch" href="/assets/30-内视觉出图七要素.html.ee34c6f0.js"><link rel="prefetch" href="/assets/31-创造和加工图像.html.959b129c.js"><link rel="prefetch" href="/assets/32-万物皆桩.html.ecc4896c.js"><link rel="prefetch" href="/assets/33-一对一联结训练.html.38e3348e.js"><link rel="prefetch" href="/assets/34-记忆初级万能公式.html.83ee00e4.js"><link rel="prefetch" href="/assets/35-记忆术的两种核心技巧谐音和逻辑.html.cf523f57.js"><link rel="prefetch" href="/assets/36-关键词记忆法.html.a868176d.js"><link rel="prefetch" href="/assets/37-如何集中注意力.html.d16acb7f.js"><link rel="prefetch" href="/assets/38-视觉化的窍门.html.52f5d555.js"><link rel="prefetch" href="/assets/39-意群的逻辑图像转化.html.7f1ed5c7.js"><link rel="prefetch" href="/assets/40-意群图像记忆的步骤.html.f1ad06af.js"><link rel="prefetch" href="/assets/41-文字编码库.html.27967dae.js"><link rel="prefetch" href="/assets/42-现实记忆宫殿.html.c95db73e.js"><link rel="prefetch" href="/assets/43-虚拟记忆宫殿.html.747ef788.js"><link rel="prefetch" href="/assets/44-随机记忆宫殿.html.6c78ea92.js"><link rel="prefetch" href="/assets/45-记忆宫殿之人物系统.html.334629b2.js"><link rel="prefetch" href="/assets/46-五种方法记单词.html.fe5676a2.js"><link rel="prefetch" href="/assets/01-命名风格.html.d7034cdf.js"><link rel="prefetch" href="/assets/02-常量定义.html.5dc08bd7.js"><link rel="prefetch" href="/assets/03-代码格式.html.5ecc28f8.js"><link rel="prefetch" href="/assets/04-OOP规约.html.b03870e1.js"><link rel="prefetch" href="/assets/05-日期时间.html.3c640883.js"><link rel="prefetch" href="/assets/06-集合处理.html.f8182afd.js"><link rel="prefetch" href="/assets/07-并发处理.html.b9a84179.js"><link rel="prefetch" href="/assets/08-控制语句.html.3cacf00e.js"><link rel="prefetch" href="/assets/09-注释规约.html.ff4282b7.js"><link rel="prefetch" href="/assets/10-其它.html.84c769e7.js"><link rel="prefetch" href="/assets/11-错误码.html.e50bc369.js"><link rel="prefetch" href="/assets/12-异常处理.html.a58b87f1.js"><link rel="prefetch" href="/assets/13-日志规约.html.a1d02887.js"><link rel="prefetch" href="/assets/14-单元测试.html.ef36ae3f.js"><link rel="prefetch" href="/assets/15-安全规约.html.2c6462f6.js"><link rel="prefetch" href="/assets/16-建表规约.html.5f4143cd.js"><link rel="prefetch" href="/assets/17-索引规约.html.8512e276.js"><link rel="prefetch" href="/assets/18-SQL语句.html.5ce2dc18.js"><link rel="prefetch" href="/assets/19-ORM映射.html.9759ab69.js"><link rel="prefetch" href="/assets/20-应用分层.html.1ce0c1e7.js"><link rel="prefetch" href="/assets/21-二方库依赖.html.d08ffae6.js"><link rel="prefetch" href="/assets/22-服务器.html.dec0cb76.js"><link rel="prefetch" href="/assets/23-设计规约.html.945e0851.js"><link rel="prefetch" href="/assets/24-专有名词解释.html.644d40cb.js"><link rel="prefetch" href="/assets/25-错误码列表.html.db4cabe0.js"><link rel="prefetch" href="/assets/手抄版.html.3c840841.js"><link rel="prefetch" href="/assets/404.html.5b0afddd.js"><link rel="prefetch" href="/assets/index.html.590a374e.js"><link rel="prefetch" href="/assets/index.html.a91bc183.js"><link rel="prefetch" href="/assets/index.html.66663023.js"><link rel="prefetch" href="/assets/index.html.ecd29537.js"><link rel="prefetch" href="/assets/index.html.25b22480.js"><link rel="prefetch" href="/assets/index.html.cffd6f29.js"><link rel="prefetch" href="/assets/index.html.908a68c9.js"><link rel="prefetch" href="/assets/index.html.6ccd8583.js"><link rel="prefetch" href="/assets/index.html.4dcf875d.js"><link rel="prefetch" href="/assets/index.html.b9f38957.js"><link rel="prefetch" href="/assets/index.html.55a774e4.js"><link rel="prefetch" href="/assets/index.html.fc0fe68d.js"><link rel="prefetch" href="/assets/index.html.169b35c4.js"><link rel="prefetch" href="/assets/index.html.eca1d6f1.js"><link rel="prefetch" href="/assets/index.html.f84c2f43.js"><link rel="prefetch" href="/assets/index.html.c9ad6b3e.js"><link rel="prefetch" href="/assets/index.html.360e6422.js"><link rel="prefetch" href="/assets/index.html.87fbc224.js"><link rel="prefetch" href="/assets/index.html.7f5dff82.js"><link rel="prefetch" href="/assets/index.html.467aa734.js"><link rel="prefetch" href="/assets/index.html.b7e7ab16.js"><link rel="prefetch" href="/assets/index.html.de0242a0.js"><link rel="prefetch" href="/assets/index.html.c9633428.js"><link rel="prefetch" href="/assets/index.html.ac226178.js"><link rel="prefetch" href="/assets/index.html.b3bfc617.js"><link rel="prefetch" href="/assets/index.html.9d1e6b30.js"><link rel="prefetch" href="/assets/index.html.a1844e50.js"><link rel="prefetch" href="/assets/index.html.dcd821f9.js"><link rel="prefetch" href="/assets/index.html.a61bb8f6.js"><link rel="prefetch" href="/assets/index.html.d3e7045f.js"><link rel="prefetch" href="/assets/index.html.275b9611.js"><link rel="prefetch" href="/assets/index.html.117c6db1.js"><link rel="prefetch" href="/assets/index.html.89780a04.js"><link rel="prefetch" href="/assets/index.html.10af7062.js"><link rel="prefetch" href="/assets/index.html.8ea24952.js"><link rel="prefetch" href="/assets/index.html.c2cfacfd.js"><link rel="prefetch" href="/assets/404.494e5611.js"><link rel="prefetch" href="/assets/Layout.acef3622.js"><link rel="prefetch" href="/assets/Slide.62f7d928.js"><link rel="prefetch" href="/assets/Blog.9114735e.js"><link rel="prefetch" href="/assets/auto.esm.36809f22.js"><link rel="prefetch" href="/assets/index.308e684a.js"><link rel="prefetch" href="/assets/index.1842ee54.js"><link rel="prefetch" href="/assets/mermaid.esm.min.0cec5e87.js"><link rel="prefetch" href="/assets/highlight.esm.d982e650.js"><link rel="prefetch" href="/assets/markdown.esm.832a189d.js"><link rel="prefetch" href="/assets/math.esm.a3f84b6f.js"><link rel="prefetch" href="/assets/notes.esm.3c361cb7.js"><link rel="prefetch" href="/assets/reveal.esm.b96f05d8.js"><link rel="prefetch" href="/assets/search.esm.80da4a02.js"><link rel="prefetch" href="/assets/zoom.esm.8514a202.js"><link rel="prefetch" href="/assets/photoswipe.esm.92018b73.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><a href="/" class="brand"><img class="logo" src="/panda.gif" alt="Panda诚的博客"><!----><span class="site-name hide-in-pad">Panda诚的博客</span></a><!----></div><div class="navbar-center"><!----><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/" class="nav-link" aria-label="Home"><span class="icon iconfont icon-home" style=""></span>Home<!----></a></div><div class="nav-item hide-in-mobile"><a href="/timeline/" class="nav-link" aria-label="时间轴"><span class="icon iconfont icon-date" style=""></span>时间轴<!----></a></div><div class="nav-item hide-in-mobile"><a href="/tag/" class="nav-link" aria-label="Tags"><span class="icon iconfont icon-tag" style=""></span>Tags<!----></a></div></nav><!----></div><div class="navbar-right"><!----><div class="nav-item"><!----></div><div class="nav-item"><a class="repo-link" href="https://github.com/zhangchengk" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><form class="search-box" role="search"><input type="search" placeholder="Search" autocomplete="off" spellcheck="false" value><!----></form><!----><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">🐼  操作系统</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">🐼  读书笔记</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">🐼  技术汇总</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">🐼  容器</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable active"><!----><span class="title">🐼  数据库</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a href="/%E6%95%B0%E6%8D%AE%E5%BA%93/001-%E7%AE%A1%E7%90%86OracleRedoLog.html" class="nav-link sidebar-link sidebar-page" aria-label="管理OracleRedoLog"><!---->管理OracleRedoLog<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/%E6%95%B0%E6%8D%AE%E5%BA%93/BIT%E7%9A%84%E5%AD%97%E8%8A%82%E5%BA%8F.html" class="nav-link sidebar-link sidebar-page" aria-label="BIT的字节序"><!---->BIT的字节序<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL%E4%B8%8D%E8%A6%81%E5%86%8D%E4%BD%BF%E7%94%A8UTF-8%E4%BA%86.html" class="nav-link sidebar-link sidebar-page" aria-label="MySQL不要再使用UTF-8了"><!---->MySQL不要再使用UTF-8了<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL%E5%88%9B%E5%BB%BA%E8%A7%A6%E5%8F%91%E5%99%A8.html" class="nav-link sidebar-link sidebar-page" aria-label="MySQL创建触发器（CREATE TRIGGER）"><!---->MySQL创建触发器（CREATE TRIGGER）<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL%E5%AD%97%E6%AE%B5%E7%B1%BB%E5%9E%8B.html" class="nav-link sidebar-link sidebar-page" aria-label="MySQL字段类型"><!---->MySQL字段类型<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="Oracle(12c)使用LogMiner分析Redo日志文件"><!---->Oracle(12c)使用LogMiner分析Redo日志文件<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#logminer-benefits" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="LogMiner Benefits"><!---->LogMiner Benefits<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#introduction-to-logminer" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Introduction to LogMiner"><!---->Introduction to LogMiner<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#logminer-configuration" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="LogMiner Configuration"><!---->LogMiner Configuration<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#directing-logminer-operations-and-retrieving-data-of-interest" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Directing LogMiner Operations and Retrieving Data of Interest"><!---->Directing LogMiner Operations and Retrieving Data of Interest<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#using-logminer-in-a-cdb" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Using LogMiner in a CDB"><!---->Using LogMiner in a CDB<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#logminer-v-views-and-dba-views-in-a-cdb" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="LogMiner V$ Views and DBA Views in a CDB"><!---->LogMiner V$ Views and DBA Views in a CDB<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#the-v-logmnr-contents-view-in-a-cdb" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="The V$LOGMNR_CONTENTS View in a CDB"><!---->The V$LOGMNR_CONTENTS View in a CDB<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#enabling-supplemental-logging-in-a-cdb" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Enabling Supplemental Logging in a CDB"><!---->Enabling Supplemental Logging in a CDB<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#logminer-dictionary-files-and-redo-log-files" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="LogMiner Dictionary Files and Redo Log Files"><!---->LogMiner Dictionary Files and Redo Log Files<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#logminer-dictionary-options" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="LogMiner Dictionary Options"><!---->LogMiner Dictionary Options<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#redo-log-file-options" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Redo Log File Options"><!---->Redo Log File Options<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#starting-logminer" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Starting LogMiner"><!---->Starting LogMiner<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#querying-v-logmnr-contents-for-redo-data-of-interest" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Querying V$LOGMNR_CONTENTS for Redo Data of Interest"><!---->Querying V$LOGMNR_CONTENTS for Redo Data of Interest<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#how-the-v-logmnr-contents-view-is-populated" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="How the V$LOGMNR_CONTENTS View Is Populated"><!---->How the V$LOGMNR_CONTENTS View Is Populated<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#querying-v-logmnr-contents-based-on-column-values" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Querying V$LOGMNR_CONTENTS Based on Column Values"><!---->Querying V$LOGMNR_CONTENTS Based on Column Values<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#querying-v-logmnr-contents-based-on-xmltype-columns-and-tables" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Querying V$LOGMNR_CONTENTS Based on XMLType Columns and Tables"><!---->Querying V$LOGMNR_CONTENTS Based on XMLType Columns and Tables<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#filtering-and-formatting-data-returned-to-v-logmnr-contents" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Filtering and Formatting Data Returned to V$LOGMNR_CONTENTS"><!---->Filtering and Formatting Data Returned to V$LOGMNR_CONTENTS<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#showing-only-committed-transactionsshowing-only-committed-transactions" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Showing Only Committed TransactionsShowing Only Committed Transactions"><!---->Showing Only Committed TransactionsShowing Only Committed Transactions<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#skipping-redo-corruptions" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Skipping Redo Corruptions"><!---->Skipping Redo Corruptions<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#filtering-data-by-time" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Filtering Data by Time"><!---->Filtering Data by Time<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#filtering-data-by-scn" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Filtering Data by SCN"><!---->Filtering Data by SCN<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#formatting-reconstructed-sql-statements-for-re-execution" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Formatting Reconstructed SQL Statements for Re-execution"><!---->Formatting Reconstructed SQL Statements for Re-execution<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#formatting-the-appearance-of-returned-data-for-readability" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Formatting the Appearance of Returned Data for Readability"><!---->Formatting the Appearance of Returned Data for Readability<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#reapplying-ddl-statements-returned-to-v-logmnr-contents" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Reapplying DDL Statements Returned to V$LOGMNR_CONTENTS"><!---->Reapplying DDL Statements Returned to V$LOGMNR_CONTENTS<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#calling-dbms-logmnr-start-logmnr-multiple-times" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Calling DBMS_LOGMNR.START_LOGMNR Multiple Times"><!---->Calling DBMS_LOGMNR.START_LOGMNR Multiple Times<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#supplemental-logging" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Supplemental Logging"><!---->Supplemental Logging<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#database-level-supplemental-logging" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Database-Level Supplemental Logging"><!---->Database-Level Supplemental Logging<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#disabling-database-level-supplemental-logging" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Disabling Database-Level Supplemental Logging"><!---->Disabling Database-Level Supplemental Logging<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#table-level-supplemental-logging" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Table-Level Supplemental Logging"><!---->Table-Level Supplemental Logging<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#tracking-ddl-statements-in-the-logminer-dictionary" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Tracking DDL Statements in the LogMiner Dictionary"><!---->Tracking DDL Statements in the LogMiner Dictionary<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#ddl-dict-tracking-and-supplemental-logging-settings" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="DDL_DICT_TRACKING and Supplemental Logging Settings"><!---->DDL_DICT_TRACKING and Supplemental Logging Settings<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#ddl-dict-tracking-and-specified-time-or-scn-ranges" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="DDL_DICT_TRACKING and Specified Time or SCN Ranges"><!---->DDL_DICT_TRACKING and Specified Time or SCN Ranges<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#accessing-logminer-operational-information-in-views" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Accessing LogMiner Operational Information in Views"><!---->Accessing LogMiner Operational Information in Views<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#querying-v-logmnr-logs" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Querying V$LOGMNR_LOGS"><!---->Querying V$LOGMNR_LOGS<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#querying-views-for-supplemental-logging-settings" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Querying Views for Supplemental Logging Settings"><!---->Querying Views for Supplemental Logging Settings<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#steps-in-a-typical-logminer-session" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Steps in a Typical LogMiner Session"><!---->Steps in a Typical LogMiner Session<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#typical-logminer-session-task-1-enable-supplemental-logging" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Typical LogMiner Session Task 1: Enable Supplemental Logging"><!---->Typical LogMiner Session Task 1: Enable Supplemental Logging<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#typical-logminer-session-task-2-extract-a-logminer-dictionary" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Typical LogMiner Session Task 2: Extract a LogMiner Dictionary"><!---->Typical LogMiner Session Task 2: Extract a LogMiner Dictionary<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#typical-logminer-session-task-3-specify-redo-log-files-for-analysis" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Typical LogMiner Session Task 3: Specify Redo Log Files for Analysis"><!---->Typical LogMiner Session Task 3: Specify Redo Log Files for Analysis<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#typical-logminer-session-task-4-start-logminer" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Typical LogMiner Session Task 4: Start LogMiner"><!---->Typical LogMiner Session Task 4: Start LogMiner<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#typical-logminer-session-task-5-query-v-logmnr-contents" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Typical LogMiner Session Task 5: Query V$LOGMNR_CONTENTS"><!---->Typical LogMiner Session Task 5: Query V$LOGMNR_CONTENTS<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#typical-logminer-session-task-6-end-the-logminer-session" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Typical LogMiner Session Task 6: End the LogMiner Session"><!---->Typical LogMiner Session Task 6: End the LogMiner Session<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#examples-using-logminer" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Examples Using LogMiner"><!---->Examples Using LogMiner<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#examples-of-mining-by-explicitly-specifying-the-redo-log-files-of-interest" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Examples of Mining by Explicitly Specifying the Redo Log Files of Interest"><!---->Examples of Mining by Explicitly Specifying the Redo Log Files of Interest<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#examples-of-mining-without-specifying-the-list-of-redo-log-files-explicitly" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Examples of Mining Without Specifying the List of Redo Log Files Explicitly"><!---->Examples of Mining Without Specifying the List of Redo Log Files Explicitly<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#example-scenarios" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Example Scenarios"><!---->Example Scenarios<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#supported-data-types-storage-attributes-and-database-and-redo-log-file-versions" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Supported Data Types, Storage Attributes, and Database and Redo Log File Versions"><!---->Supported Data Types, Storage Attributes, and Database and Redo Log File Versions<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#supported-data-types-and-table-storage-attributes" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Supported Data Types and Table Storage Attributes"><!---->Supported Data Types and Table Storage Attributes<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#unsupported-data-types-and-table-storage-attributes" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Unsupported Data Types and Table Storage Attributes"><!---->Unsupported Data Types and Table Storage Attributes<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#securefiles-lob-considerations" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="SecureFiles LOB Considerations"><!---->SecureFiles LOB Considerations<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li><li><!--[--><a href="/%E6%95%B0%E6%8D%AE%E5%BA%93/java.sql.Types%E7%9A%84%E5%85%B7%E4%BD%93%E5%AF%B9%E5%BA%94%E5%80%BCjdbcType.html" class="nav-link sidebar-link sidebar-page" aria-label="java.sql.Types的具体对应值(jdbcType)"><!---->java.sql.Types的具体对应值(jdbcType)<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/%E6%95%B0%E6%8D%AE%E5%BA%93/sqlserver%E5%AF%B9%E5%BA%94Java%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html" class="nav-link sidebar-link sidebar-page" aria-label="sqlserver数据库类型对应Java中的数据类型"><!---->sqlserver数据库类型对应Java中的数据类型<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/%E6%95%B0%E6%8D%AE%E5%BA%93/%E4%BA%92%E8%81%94%E7%BD%91%E6%9C%AF%E8%AF%AD.html" class="nav-link sidebar-link sidebar-page" aria-label="互联网术语"><!---->互联网术语<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/%E6%95%B0%E6%8D%AE%E5%BA%93/%E5%9F%BA%E4%BA%8E%E6%B0%B4%E5%8D%B0%E7%9A%84CDC%E6%A1%86%E6%9E%B6.html" class="nav-link sidebar-link sidebar-page" aria-label="DBLog 基于水印标记的CDC框架(译)"><!---->DBLog 基于水印标记的CDC框架(译)<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%8C%89%E4%BD%8D%E7%BD%AE%E8%AF%BB%E5%8F%96ResultSet%E6%AF%94%E6%8C%89%E5%90%8D%E7%A7%B0%E5%BF%AB.html" class="nav-link sidebar-link sidebar-page" aria-label="为什么按位置读取JDBC ResultSet的速度比按名称读取的速度快"><!---->为什么按位置读取JDBC ResultSet的速度比按名称读取的速度快<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%97%A0%E6%95%88%E7%9A%84%E5%88%97%E7%B4%A2%E5%BC%95.html" class="nav-link sidebar-link sidebar-page" aria-label="无效的列索引"><!---->无效的列索引<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">🐼  算法</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">🐼  ApacheNIFI教程</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">🐼  ApacheNIFI开发</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">🐼  Spring常见错误</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">🐼  HikariCP</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">🐼  IO流(java)</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">🐼  JAVA</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">🐼  JOLT</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">🐼  Linux</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">🐼  Maven</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">🐼  其他</span><span class="arrow right"></span></button><!----></section><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->Oracle(12c)使用LogMiner分析Redo日志文件</h1><div class="page-info"><span class="author-info" aria-label="作者🖊" data-balloon-pos="down" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="author-item" href="https://zhangchengk.github.io/about/intro.html" target="_blank" rel="noopener noreferrer">Panda诚</a></span><span property="author" content="Panda诚"></span></span><!----><span class="date-info" aria-label="写作日期📅" data-balloon-pos="down" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span>2020年6月9日</span><meta property="datePublished" content="2020-06-09T00:00:00.000Z"></span><span class="category-info" aria-label="分类🌈" data-balloon-pos="down" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><ul class="categories-wrapper"><li class="category category6 clickable" role="navigation">数据库</li><meta property="articleSection" content="数据库"></ul></span><!----><span class="reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="down" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 91 分钟</span><meta property="timeRequired" content="PT91M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">此页内容</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#logminer-benefits" class="router-link-active router-link-exact-active toc-link level2">LogMiner Benefits</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#introduction-to-logminer" class="router-link-active router-link-exact-active toc-link level2">Introduction to LogMiner</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#logminer-configuration" class="router-link-active router-link-exact-active toc-link level3">LogMiner Configuration</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#directing-logminer-operations-and-retrieving-data-of-interest" class="router-link-active router-link-exact-active toc-link level3">Directing LogMiner Operations and Retrieving Data of Interest</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#using-logminer-in-a-cdb" class="router-link-active router-link-exact-active toc-link level2">Using LogMiner in a CDB</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#logminer-v-views-and-dba-views-in-a-cdb" class="router-link-active router-link-exact-active toc-link level3">LogMiner V$ Views and DBA Views in a CDB</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#the-v-logmnr-contents-view-in-a-cdb" class="router-link-active router-link-exact-active toc-link level3">The V$LOGMNR_CONTENTS View in a CDB</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#enabling-supplemental-logging-in-a-cdb" class="router-link-active router-link-exact-active toc-link level3">Enabling Supplemental Logging in a CDB</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#logminer-dictionary-files-and-redo-log-files" class="router-link-active router-link-exact-active toc-link level2">LogMiner Dictionary Files and Redo Log Files</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#logminer-dictionary-options" class="router-link-active router-link-exact-active toc-link level3">LogMiner Dictionary Options</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#redo-log-file-options" class="router-link-active router-link-exact-active toc-link level3">Redo Log File Options</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#starting-logminer" class="router-link-active router-link-exact-active toc-link level2">Starting LogMiner</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#querying-v-logmnr-contents-for-redo-data-of-interest" class="router-link-active router-link-exact-active toc-link level2">Querying V$LOGMNR_CONTENTS for Redo Data of Interest</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#how-the-v-logmnr-contents-view-is-populated" class="router-link-active router-link-exact-active toc-link level3">How the V$LOGMNR_CONTENTS View Is Populated</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#querying-v-logmnr-contents-based-on-column-values" class="router-link-active router-link-exact-active toc-link level3">Querying V$LOGMNR_CONTENTS Based on Column Values</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#querying-v-logmnr-contents-based-on-xmltype-columns-and-tables" class="router-link-active router-link-exact-active toc-link level3">Querying V$LOGMNR_CONTENTS Based on XMLType Columns and Tables</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#filtering-and-formatting-data-returned-to-v-logmnr-contents" class="router-link-active router-link-exact-active toc-link level2">Filtering and Formatting Data Returned to V$LOGMNR_CONTENTS</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#showing-only-committed-transactionsshowing-only-committed-transactions" class="router-link-active router-link-exact-active toc-link level3">Showing Only Committed TransactionsShowing Only Committed Transactions</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#skipping-redo-corruptions" class="router-link-active router-link-exact-active toc-link level3">Skipping Redo Corruptions</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#filtering-data-by-time" class="router-link-active router-link-exact-active toc-link level3">Filtering Data by Time</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#filtering-data-by-scn" class="router-link-active router-link-exact-active toc-link level3">Filtering Data by SCN</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#formatting-reconstructed-sql-statements-for-re-execution" class="router-link-active router-link-exact-active toc-link level3">Formatting Reconstructed SQL Statements for Re-execution</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#formatting-the-appearance-of-returned-data-for-readability" class="router-link-active router-link-exact-active toc-link level3">Formatting the Appearance of Returned Data for Readability</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#reapplying-ddl-statements-returned-to-v-logmnr-contents" class="router-link-active router-link-exact-active toc-link level2">Reapplying DDL Statements Returned to V$LOGMNR_CONTENTS</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#calling-dbms-logmnr-start-logmnr-multiple-times" class="router-link-active router-link-exact-active toc-link level2">Calling DBMS_LOGMNR.START_LOGMNR Multiple Times</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#supplemental-logging" class="router-link-active router-link-exact-active toc-link level2">Supplemental Logging</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#database-level-supplemental-logging" class="router-link-active router-link-exact-active toc-link level3">Database-Level Supplemental Logging</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#disabling-database-level-supplemental-logging" class="router-link-active router-link-exact-active toc-link level3">Disabling Database-Level Supplemental Logging</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#table-level-supplemental-logging" class="router-link-active router-link-exact-active toc-link level3">Table-Level Supplemental Logging</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#tracking-ddl-statements-in-the-logminer-dictionary" class="router-link-active router-link-exact-active toc-link level3">Tracking DDL Statements in the LogMiner Dictionary</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#ddl-dict-tracking-and-supplemental-logging-settings" class="router-link-active router-link-exact-active toc-link level3">DDL_DICT_TRACKING and Supplemental Logging Settings</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#ddl-dict-tracking-and-specified-time-or-scn-ranges" class="router-link-active router-link-exact-active toc-link level3">DDL_DICT_TRACKING and Specified Time or SCN Ranges</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#accessing-logminer-operational-information-in-views" class="router-link-active router-link-exact-active toc-link level2">Accessing LogMiner Operational Information in Views</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#querying-v-logmnr-logs" class="router-link-active router-link-exact-active toc-link level3">Querying V$LOGMNR_LOGS</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#querying-views-for-supplemental-logging-settings" class="router-link-active router-link-exact-active toc-link level3">Querying Views for Supplemental Logging Settings</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#steps-in-a-typical-logminer-session" class="router-link-active router-link-exact-active toc-link level2">Steps in a Typical LogMiner Session</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#typical-logminer-session-task-1-enable-supplemental-logging" class="router-link-active router-link-exact-active toc-link level3">Typical LogMiner Session Task 1: Enable Supplemental Logging</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#typical-logminer-session-task-2-extract-a-logminer-dictionary" class="router-link-active router-link-exact-active toc-link level3">Typical LogMiner Session Task 2: Extract a LogMiner Dictionary</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#typical-logminer-session-task-3-specify-redo-log-files-for-analysis" class="router-link-active router-link-exact-active toc-link level3">Typical LogMiner Session Task 3: Specify Redo Log Files for Analysis</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#typical-logminer-session-task-4-start-logminer" class="router-link-active router-link-exact-active toc-link level3">Typical LogMiner Session Task 4: Start LogMiner</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#typical-logminer-session-task-5-query-v-logmnr-contents" class="router-link-active router-link-exact-active toc-link level3">Typical LogMiner Session Task 5: Query V$LOGMNR_CONTENTS</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#typical-logminer-session-task-6-end-the-logminer-session" class="router-link-active router-link-exact-active toc-link level3">Typical LogMiner Session Task 6: End the LogMiner Session</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#examples-using-logminer" class="router-link-active router-link-exact-active toc-link level2">Examples Using LogMiner</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#examples-of-mining-by-explicitly-specifying-the-redo-log-files-of-interest" class="router-link-active router-link-exact-active toc-link level3">Examples of Mining by Explicitly Specifying the Redo Log Files of Interest</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#examples-of-mining-without-specifying-the-list-of-redo-log-files-explicitly" class="router-link-active router-link-exact-active toc-link level3">Examples of Mining Without Specifying the List of Redo Log Files Explicitly</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#example-scenarios" class="router-link-active router-link-exact-active toc-link level3">Example Scenarios</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#supported-data-types-storage-attributes-and-database-and-redo-log-file-versions" class="router-link-active router-link-exact-active toc-link level2">Supported Data Types, Storage Attributes, and Database and Redo Log File Versions</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#supported-data-types-and-table-storage-attributes" class="router-link-active router-link-exact-active toc-link level3">Supported Data Types and Table Storage Attributes</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#unsupported-data-types-and-table-storage-attributes" class="router-link-active router-link-exact-active toc-link level3">Unsupported Data Types and Table Storage Attributes</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E6%95%B0%E6%8D%AE%E5%BA%93/Oracle12cLogMiner%E5%88%86%E6%9E%90Redo%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6.html#securefiles-lob-considerations" class="router-link-active router-link-exact-active toc-link level3">SecureFiles LOB Considerations</a></li><!----><!--]--></ul><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><p>官方文档(<a href="https://docs.oracle.com/database/121/SUTIL/GUID-3417B738-374C-4EE3-B15C-3A66E01AE2B5.htm#SUTIL019" target="_blank" rel="noopener noreferrer">https://docs.oracle.com/database/121/SUTIL/GUID-3417B738-374C-4EE3-B15C-3A66E01AE2B5.htm#SUTIL019<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>)</p><p>Oracle LogMiner是Oracle数据库的一部分，它允许你通过SQL接口在线查询和归档Redo日志文件。Redo日志文件包含关于数据库活动历史的信息。</p><h2 id="logminer-benefits" tabindex="-1"><a class="header-anchor" href="#logminer-benefits" aria-hidden="true">#</a> LogMiner Benefits</h2><p>对用户数据或数据库字典所做的所有更改都记录在Oracle redo日志文件中，以便可以执行数据库恢复操作。</p><p>由于LogMiner为Redo 日志文件提供了定义明确，易于使用且全面的关系接口，因此它既可以用作功能强大的数据审核工具，又可以用作复杂的数据分析工具。以下列表描述了LogMiner的一些关键功能：</p><ul><li><p>查明数据库何时发生了逻辑损坏（例如在应用程序级别发生的错误）。这些错误可能包括以下错误：由于WHERE子句中的值不正确而删除了错误的行，使用不正确的值更新了行，删除了错误的索引等等。例如，用户应用程序可能会错误地更新数据库，以使所有员工的工资增加100％，而不是增加10％，或者数据库管理员（DBA）可能会意外删除关键系统表。重要的是准确知道何时发生错误，以便知道何时启动基于时间或基于更改的恢复。这使我们可以将数据库还原到损坏之前的状态。更加详细的参阅<a href="#Querying-V$LOGMNR_CONTENTS-Based-on-Column-Values">Querying V$LOGMNR_CONTENTS Based on Column Values</a>。</p></li><li><p>确定在事务级别执行细粒度恢复所需采取的操作。如果你完全理解并考虑了现有的依赖关系，则可以执行特定于表的撤消操作以将表返回到其原始状态。这是通过应用LogMiner提供的特定于表的重建SQL语句来实现的。更加详细的参阅<a href="#Scenario-1----Using-LogMiner-to-Track-Changes-Made-by-a-Specific-User">Scenario 1: Using LogMiner to Track Changes Made by a Specific User</a>。</p><p>通常，您必须将表还原到以前的状态，然后应用存档的重做日志文件将其前滚。</p></li><li><p>通过趋势分析进行性能调整和容量规划。您可以确定哪些表有最多的更新和插入。该信息提供了有关磁盘历史访问统计信息，可用于调整目的。有关示例，请参见<a href="Scenario-2----Using-LogMiner-to-Calculate-Table-Access-Statistics">&quot;Scenario 2: Using LogMiner to Calculate Table Access Statistics</a></p></li><li><p>执行后审核。LogMiner可用于跟踪在数据库上执行的任何数据操作语言（DML）和数据定义语言（DDL）语句，和它们的执行顺序以及执行者。（但是，要使用LogMiner达到此目的，您需要了解事件发生的时间，以便可以指定适当的日志进行分析；否则，您可能必须挖掘大量的Redo日志文件，这可能需要长时间。考虑将LogMiner用作审核数据库使用情况的补充活动。有关数据库审核的信息，请参阅<a href="https://docs.oracle.com/database/121/ADMIN/secure.htm#ADMIN11241" target="_blank" rel="noopener noreferrer">Oracle数据库管理员指南<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。</p></li></ul><h2 id="introduction-to-logminer" tabindex="-1"><a class="header-anchor" href="#introduction-to-logminer" aria-hidden="true">#</a> Introduction to LogMiner</h2><h3 id="logminer-configuration" tabindex="-1"><a class="header-anchor" href="#logminer-configuration" aria-hidden="true">#</a> LogMiner Configuration</h3><p>你应该熟悉LogMiner配置中的四个基本对象：源数据库(source database)，挖掘数据库(mining database)，LogMiner词典(LogMiner dictionary)以及包含感兴趣数据的Redo日志文件(redo log files)：</p><ul><li><p>源数据库是生成您希望LogMiner分析的所有重做日志文件的数据库。</p></li><li><p>挖掘数据库是LogMiner执行分析时使用的数据库。</p></li><li><p>LogMiner字典允许LogMiner在显示您请求的重做日志数据时提供表名和列名，而不是内部对象id。</p><p>LogMiner使用字典将内部对象标识符和数据类型转换为对象名称和外部数据格式。如果没有字典，LogMiner将返回内部对象id并以二进制数据的形式显示数据。</p><p>例如，考虑以下SQL语句:</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> HR<span class="token punctuation">.</span>JOBS<span class="token punctuation">(</span>JOB_ID<span class="token punctuation">,</span> JOB_TITLE<span class="token punctuation">,</span> MIN_SALARY<span class="token punctuation">,</span> MAX_SALARY<span class="token punctuation">)</span>  <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token string">&#39;IT_WT&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;Technical Writer&#39;</span><span class="token punctuation">,</span> <span class="token number">4000</span><span class="token punctuation">,</span> <span class="token number">11000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>没有字典，LogMiner会显示:</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token string">&quot;UNKNOWN&quot;</span><span class="token punctuation">.</span><span class="token string">&quot;OBJ# 45522&quot;</span><span class="token punctuation">(</span><span class="token string">&quot;COL 1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;COL 2&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;COL 3&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;COL 4&quot;</span><span class="token punctuation">)</span> <span class="token keyword">values</span>
<span class="token punctuation">(</span>HEXTORAW<span class="token punctuation">(</span><span class="token string">&#39;45465f4748&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>HEXTORAW<span class="token punctuation">(</span><span class="token string">&#39;546563686e6963616c20577269746572&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
HEXTORAW<span class="token punctuation">(</span><span class="token string">&#39;c229&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>HEXTORAW<span class="token punctuation">(</span><span class="token string">&#39;c3020b&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>重做日志文件包含对数据库或数据库字典所做的更改。</p></li></ul><h3 id="directing-logminer-operations-and-retrieving-data-of-interest" tabindex="-1"><a class="header-anchor" href="#directing-logminer-operations-and-retrieving-data-of-interest" aria-hidden="true">#</a> Directing LogMiner Operations and Retrieving Data of Interest</h3><p>你可以直接使用LogMiner<code>DBMS_LOGMNR</code> and <code>DBMS_LOGMNR_D</code> PL/SQL程序包, 并使用 <code>V$LOGMNR_CONTENTS</code>视图, 如下:</p><ol><li><p>指定LogMiner字典.</p><p>使用<code>DBMS_LOGMNR_D.BUILD</code>程序生成或者当启动LogMiner(第三步)时指定数据字典，或者同时使用。具体取决于你想使用哪种数据字典。</p></li><li><p>指定要分析的Redo日志列表</p><p>使用<code>DBMS_LOGMNR.ADD_LOGFILE</code>程序添加或者当启动LogMiner(第三步)时自动创建要分析的日志文件列表</p></li><li><p>启动LogMiner.</p><p>使用 <code>DBMS_LOGMNR.START_LOGMNR</code>程序 .</p></li><li><p>获取想要的数据.</p><p>查询<code>V$LOGMNR_CONTENTS</code>视图.</p></li><li><p>结束LogMiner会话.</p><p>使用<code>DBMS_LOGMNR.END_LOGMNR</code>程序.</p></li></ol><p>你必须拥有<code>EXECUTE_CATALOG_ROLE</code>角色和 <code>LOGMINING</code>的权限去查询<code>V$LOGMNR_CONTENTS</code>视图和使用LogMiner PL/SQL 程序包 .</p><p>注意:</p><p>在由Oracle RAC数据库生成的归档日志中挖掘指定时间或感兴趣的SCN范围时，必须确保已从该时间段或SCN范围内处于活动状态的所有重做线程指定了所有归档日志。如果您无法执行此操作，则所有V$LOGMNR_CONTENTS返回部分结果的查询都将仅返回部分结果（基于通过该DBMS_LOGMNR.ADD_LOGFILE过程指定给LogMiner的存档日志）。使用该CONTINUOUS_MINE选项在源数据库中挖掘归档日志时，此限制也有效。CONTINUOUS_MINE如果没有启用或禁用线程，则仅应在Oracle RAC数据库上使用。</p><p>也可以看看一个使用LogMiner的例子<a href="https://docs.oracle.com/database/121/SUTIL/GUID-6609EBA2-B2D7-4EAE-8344-A1F6C0A24760.htm" target="_blank" rel="noopener noreferrer">Steps in a Typical LogMiner Session<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>您可以使用 DBMS_LOGMNR 和 DBMS_LOGMNR_D PL / SQL程序包，并使用 V$LOGMNR_CONTENTS 视图如下：</p><p>指定LogMiner字典。 使用 DBMS_LOGMNR_D.BUILD 在启动LogMiner时（在第3步中）或同时指定两者，这取决于您打算使用的字典类型。</p><p>指定重做日志文件列表以进行分析。 使用 DBMS_LOGMNR.ADD_LOGFILE 步骤，或指示LogMiner在启动LogMiner时自动创建要分析的日志文件列表（在步骤3中）。</p><p>启动LogMiner。 使用 DBMS_LOGMNR.START_LOGMNR 程序。</p><p>请求感兴趣的重做数据。 查询V$LOGMNR_CONTENTS视图。</p><p>结束LogMiner会话。 使用 DBMS_LOGMNR.END_LOGMNR 程序。</p><p>您必须具有查询视图和使用LogMiner PL / SQL包的EXECUTE_CATALOG_ROLE角色和LOGMINING特权V$LOGMNR_CONTENTS。</p><p>注意：</p><p>在由Oracle RAC数据库生成的归档日志中挖掘指定时间或感兴趣的SCN范围时，必须确保已从该时间段或SCN范围内处于活动状态的所有重做线程指定了所有归档日志。如果您无法执行此操作，则所有V$LOGMNR_CONTENTS返回部分结果的查询都将仅返回部分结果（基于通过该DBMS_LOGMNR.ADD_LOGFILE过程指定给LogMiner的存档日志）。使用该CONTINUOUS_MINE选项在源数据库中挖掘归档日志时，此限制也有效。CONTINUOUS_MINE如果没有启用或禁用线程，则仅应在Oracle RAC数据库上使用。</p><p>也可以看看：</p><p>有关使用LogMiner的示例，请参见 <a href="https://docs.oracle.com/database/121/SUTIL/GUID-6609EBA2-B2D7-4EAE-8344-A1F6C0A24760.htm" target="_blank" rel="noopener noreferrer">典型LogMiner会话中的步骤<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="using-logminer-in-a-cdb" tabindex="-1"><a class="header-anchor" href="#using-logminer-in-a-cdb" aria-hidden="true">#</a> Using LogMiner in a CDB</h2><p>LogMiner可以在多租户容器数据库(CDB)中使用，但是下面的小节讨论了在CDB中使用LogMiner与在非CDB中使用LogMiner时需要注意的一些区别:</p><h3 id="logminer-v-views-and-dba-views-in-a-cdb" tabindex="-1"><a class="header-anchor" href="#logminer-v-views-and-dba-views-in-a-cdb" aria-hidden="true">#</a> LogMiner V$ Views and DBA Views in a CDB</h3><p>在CDB中，LogMiner用于显示有关在系统中运行的LogMiner会话的信息的视图包含一个名为CON_ID的附加列。此列标识与显示其信息的会话相关联的容器ID。当从可插拔数据库(PDB)查询视图时，只显示与数据库相关的信息。以下视图受此新行为影响:</p><ol><li><p><code>V$LOGMNR_DICTIONARY_LOAD</code></p></li><li><p><code>V$LOGMNR_LATCH</code></p></li><li><p><code>V$LOGMNR_PROCESS</code></p></li><li><p><code>V$LOGMNR_SESSION</code></p></li><li><p><code>V$LOGMNR_STATS</code></p></li></ol><p>为了支持CDBs, 除了CON_ID之外<code>V$LOGMNR_CONTENTS</code>视图还有其他几个新列 <a href="https://docs.oracle.com/database/121/SUTIL/GUID-0D154805-40CB-47B8-B2D6-8CD86FBA9DC8.htm" target="_blank" rel="noopener noreferrer">The V$LOGMNR_CONTENTS View in a CDB<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>&quot;.</p><p>以下DBA视图具有类似的CDB视图，其名称以CDB开头。</p><table><thead><tr><th>DBA View</th><th>CDB_ View</th></tr></thead><tbody><tr><td><code>DBA_LOGMNR_LOG</code></td><td><code>CDB_LOGMNR_LOG</code></td></tr><tr><td><code>DBA_LOGMNR_PURGED_LOG</code></td><td><code>CDB_LOGMNR_PURGED_LOG</code></td></tr><tr><td><code>DBA_LOGMNR_SESSION</code></td><td><code>CDB_LOGMNR_SESSION</code></td></tr></tbody></table><p>DBA视图只显示与查询它们的容器中定义的会话相关的信息。</p><p>CDB视图包含一个附加的CON_ID列，它标识给定行所代表数据的容器。从根目录查询CDB视图时，可以使用它们查看所有容器的信息。</p><h3 id="the-v-logmnr-contents-view-in-a-cdb" tabindex="-1"><a class="header-anchor" href="#the-v-logmnr-contents-view-in-a-cdb" aria-hidden="true">#</a> The V$LOGMNR_CONTENTS View in a CDB</h3><p>在CDB中，<code>V$LOGMNR_CONTENTS</code>视图及其相关函数被限制在根数据库中。为支持CDBs，在视图中新增了几列:</p><ul><li><p><code>CON_ID</code> - 包含与执行查询的容器相关联的ID。因为<code>V$LOGMNR_CONTENTS</code>被限制在根数据库中，所以当在CDB上执行查询时，该列返回一个值1。</p></li><li><p><code>SRC_CON_NAME</code> - PDB的名字。此信息仅在使用LogMiner字典进行挖掘时可用。</p></li><li><p><code>SRC_CON_ID</code> - 生成重做记录的PDB的容器ID。此信息仅在使用LogMiner字典进行挖掘时可用。</p></li><li><p><code>SRC_CON_DBID</code> - PDB标识符。此信息仅在使用当前LogMiner字典进行挖掘时可用。</p></li><li><p><code>SRC_CON_GUID</code> - 包含与PDB关联的GUID。此信息仅在使用当前LogMiner字典进行挖掘时可用。</p></li></ul><p>在信息没有意义的情况下，这些列可能并不总是返回值。当在非cdb中进行挖掘时，SRC_CON_xxx列为空。</p><h3 id="enabling-supplemental-logging-in-a-cdb" tabindex="-1"><a class="header-anchor" href="#enabling-supplemental-logging-in-a-cdb" aria-hidden="true">#</a> Enabling Supplemental Logging in a CDB</h3><p>在CDB中，启用和禁用数据库范围的补充日志记录的语法与在非CDB数据库中相同:</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">DATABASE</span> <span class="token punctuation">[</span><span class="token keyword">ADD</span><span class="token operator">|</span><span class="token keyword">DROP</span><span class="token punctuation">]</span> SUPPLEMENTAL LOG <span class="token keyword">DATA</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>注意:</p><ul><li><p>在CDB中，从<code>CDB$ROOT</code>启用的补充日志记录级别在整个CDB中启用。</p></li><li><p>如果至少在<code>CDB$ROOT</code>中启用了最低限度的补充日志记录，那么可以在PDB级别启用额外的补充日志记录级别。</p></li><li><p>在PDB级别上不能禁用<code>CDB$ROOT</code>在CDB级别启用的补充日志记录级别。</p></li><li><p>从<code>CDB$ROOT</code>中删除所有补充日志记录将禁用整个CDB的所有补充日志记录，而不考虑以前的PDB级别设置。</p></li></ul><p>从CREATE TABLE和ALTER TABLE语句开始的附加日志操作可以在根数据库或PDB中执行，只影响它们所应用的表。</p><p>要管理多租户环境，您必须具有CDB_DBA角色。</p><p>获取更加详细信息请参考:</p><ul><li><p><a href="https://docs.oracle.com/database/121/CNCPT/cdblogic.htm#CNCPT89249" target="_blank" rel="noopener noreferrer">Oracle Database Concepts<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> for more information about CDBs</p></li><li><p><a href="https://docs.oracle.com/database/121/REFRN/GUID-8865F65B-EF6D-44A5-B0A1-3179EFF0C36A.htm#REFRN002" target="_blank" rel="noopener noreferrer">Oracle Database Reference<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> for more information about views</p></li><li><p><a href="https://docs.oracle.com/database/121/DBSEG/release_changes.htm#DBSEG800" target="_blank" rel="noopener noreferrer">Oracle Database Security Guide<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> for more information about privileges and roles in CDBs and PDBs</p></li></ul><h2 id="logminer-dictionary-files-and-redo-log-files" tabindex="-1"><a class="header-anchor" href="#logminer-dictionary-files-and-redo-log-files" aria-hidden="true">#</a> LogMiner Dictionary Files and Redo Log Files</h2><p>在开始使用LogMiner之前，了解LogMiner如何使用LogMiner字典文件(或多个文件)和重做日志文件是很重要的。这将帮助您获得准确的结果并计划系统资源的使用。</p><h3 id="logminer-dictionary-options" tabindex="-1"><a class="header-anchor" href="#logminer-dictionary-options" aria-hidden="true">#</a> LogMiner Dictionary Options</h3><p>当ogMiner返回重做数据时，它需要一个字典来将对象id转换成对象名。LogMiner提供了三个提供字典的选项:</p><h4 id="using-the-online-catalog" tabindex="-1"><a class="header-anchor" href="#using-the-online-catalog" aria-hidden="true">#</a> Using the Online Catalog</h4><p>要指示LogMiner使用当前数据库中使用的字典，在启动LogMiner时指定源数据库数据字典，如下所示:</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">EXECUTE</span> DBMS_LOGMNR<span class="token punctuation">.</span>START_LOGMNR<span class="token punctuation">(</span>OPTIONS <span class="token operator">=</span><span class="token operator">&gt;</span> DBMS_LOGMNR<span class="token punctuation">.</span>DICT_FROM_ONLINE_CATALOG<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>除了使用源数据库数据字典分析联机重做日志文件外，如果您在生成归档重做日志文件的同一系统上，还可以使用源数据库数据字典分析归档重做日志文件。</p><p>源数据库数据字典包含关于数据库的最新信息，可能是开始分析的最快方法。因为更改重要表的DDL操作比较少见，所以源数据库数据字典通常包含分析所需的信息。</p><p>但是，请记住，源数据库数据字典只能重构在表的最新版本上执行的SQL语句。一旦表被更改，源数据库数据字典就不再反映表的前一个版本。这意味着LogMiner将无法重构在表的前一个版本上执行的任何SQL语句。相反，LogMiner在<code>V$LOGMNR_CONTENTS</code>视图的SQL_REDO列中生成不可执行的SQL(包括二进制值的十六进制到原始格式)，类似于下面的示例:</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">insert</span> <span class="token keyword">into</span> HR<span class="token punctuation">.</span>EMPLOYEES<span class="token punctuation">(</span>col<span class="token comment">#1, col#2) values (hextoraw(&#39;4a6f686e20446f65&#39;),</span>
hextoraw<span class="token punctuation">(</span><span class="token string">&#39;c306&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>联机目录选项要求数据库是打开的。源数据库数据字典对于DBMS_LOGMNR.START_LOGMNR的DDL_DICT_TRACKING选项无效。</p><p>Oracle建议，当您可以访问创建重做日志文件的源数据库时，以及在预期不会更改相关表中的列定义时，使用此选项。这是最有效和最容易使用的选择。</p><h4 id="extracting-a-logminer-dictionary-to-the-redo-log-files" tabindex="-1"><a class="header-anchor" href="#extracting-a-logminer-dictionary-to-the-redo-log-files" aria-hidden="true">#</a> Extracting a LogMiner Dictionary to the Redo Log Files</h4><p>要将LogMiner字典提取到重做日志文件中，必须打开数据库，并且必须启用ARCHIVELOG模式和归档。当字典被提取到重做日志流时，不能执行DDL语句。因此，提取到重做日志文件的字典保证是一致的(而提取到平面文件的字典则不是)。</p><p>要将字典信息提取到重做日志文件中，请执行PL/SQL DBMS_LOGMNR_D。使用STORE_IN_REDO_LOGS选项构建过程。不要指定文件名或位置。</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">EXECUTE</span> DBMS_LOGMNR_D<span class="token punctuation">.</span>BUILD<span class="token punctuation">(</span>OPTIONS<span class="token operator">=</span><span class="token operator">&gt;</span> DBMS_LOGMNR_D<span class="token punctuation">.</span>STORE_IN_REDO_LOGS<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>See Also:</p><ul><li><p><a href="https://docs.oracle.com/database/121/ADMIN/archredo.htm#ADMIN11332" target="_blank" rel="noopener noreferrer">Oracle Database Administrator&#39;s Guide<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> for more information about <code>ARCHIVELOG</code> mode</p></li><li><p><a href="https://docs.oracle.com/database/121/ARPLS/d_logmnrd.htm#ARPLS66816" target="_blank" rel="noopener noreferrer">Oracle Database PL/SQL Packages and Types Reference<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> for a complete description of <code>DBMS_LOGMNR_D.BUILD</code></p></li></ul><p>将字典提取到重做日志文件的过程确实会消耗数据库资源，但是如果将提取限制在非高峰时间，那么这应该不是问题，而且它比提取到平面文件要快。根据字典的大小，它可能包含在多个重做日志文件中。如果相关的重做日志文件已经存档，那么您可以找出哪些重做日志文件包含提取的字典的开始和结束。为此，查询V$ARCHIVED_LOG视图，如下所示:</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> NAME <span class="token keyword">FROM</span> V$ARCHIVED_LOG <span class="token keyword">WHERE</span> DICTIONARY_BEGIN<span class="token operator">=</span><span class="token string">&#39;YES&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> NAME <span class="token keyword">FROM</span> V$ARCHIVED_LOG <span class="token keyword">WHERE</span> DICTIONARY_END<span class="token operator">=</span><span class="token string">&#39;YES&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>在准备开始LogMiner会话时，使用ADD_LOGFILE过程指定开始和结束重做日志文件的名称，以及它们之间可能的其他日志。</p><p>Oracle建议您定期备份重做日志文件，以便保存信息并在以后使用。理想情况下，这不会涉及任何额外的步骤，因为如果您的数据库得到了正确的管理，那么应该已经有了备份和恢复归档重做日志文件的过程。同样，由于所需的时间，最好在非高峰时间这样做。</p><p>Oracle建议，当您不希望访问创建重做日志文件的源数据库时，或者如果您预期将对相关表中的列定义进行更改时，请使用此选项。</p><h4 id="extracting-the-logminer-dictionary-to-a-flat-file" tabindex="-1"><a class="header-anchor" href="#extracting-the-logminer-dictionary-to-a-flat-file" aria-hidden="true">#</a> Extracting the LogMiner Dictionary to a Flat File</h4><p>当LogMiner字典位于平面文件中时，使用的系统资源要比包含在重做日志文件中时少。Oracle建议您定期备份字典提取，以确保对旧的重做日志文件的正确分析。</p><p>要将数据库字典信息提取到平面文件中，使用DBMS_LOGMNR_D。使用STORE_IN_FLAT_FILE选项构建过程。</p><p>确保在构建字典时没有发生DDL操作。</p><p>以下步骤描述如何将字典提取到平面文件中。步骤1和步骤2是准备步骤。您只需要执行一次，然后就可以根据需要多次将字典解压缩到平面文件中。</p><ol><li><p>DBMS_LOGMNR_D构建过程需要访问一个可以放置字典文件的目录。因为PL/SQL过程通常不访问用户目录，所以必须指定DBMS_LOGMNR_D使用的目录。要指定一个目录，请在初始化参数文件中设置初始化参数UTL_FILE_DIR。例如，要将UTL_FILE_DIR设置为使用/oracle/database作为字典文件所在的目录，请在初始化参数文件中放置以下内容:</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code>UTL_FILE_DIR <span class="token operator">=</span> <span class="token operator">/</span>oracle<span class="token operator">/</span><span class="token keyword">database</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>请记住，要使初始化参数文件的更改生效，必须停止并重新启动数据库。</p></li><li><p>如果数据库已关闭，则使用SQL*Plus挂载并打开要分析其重做日志文件的数据库。例如，输入SQL STARTUP命令挂载并打开数据库:</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code>STARTUP
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>执行PL/SQL过程DBMS_LOGMNR_D.BUILD来指定字典的文件名和文件的目录路径名。这个过程创建字典文件。例如，输入以下内容来在<code>/oracle/database</code>目录中创建<code>dictionary.ora</code>：</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">EXECUTE</span> DBMS_LOGMNR_D<span class="token punctuation">.</span>BUILD<span class="token punctuation">(</span><span class="token string">&#39;dictionary.ora&#39;</span><span class="token punctuation">,</span> <span class="token operator">-</span> 
   <span class="token string">&#39;/oracle/database/&#39;</span><span class="token punctuation">,</span> <span class="token operator">-</span>
    DBMS_LOGMNR_D<span class="token punctuation">.</span>STORE_IN_FLAT_FILE<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>您还可以只指定文件名和位置，而不需要指定STORE_IN_FLAT_FILE选项。结果是一样的。</p></li></ol><p>这个选项是为了向后兼容以前的版本而保留的。此选项不保证事务一致性。Oracle建议您使用在线目录或从重做日志文件中提取字典。</p><p>如下图显示一个决策树，根据您的情况帮助您选择LogMiner字典。</p><p><a href="./img/logminer/1.png"></a></p><h3 id="redo-log-file-options" tabindex="-1"><a class="header-anchor" href="#redo-log-file-options" aria-hidden="true">#</a> Redo Log File Options</h3><p>要在重做日志文件中挖掘数据，LogMiner需要关于要挖掘哪些重做日志文件的信息。在这些重做日志文件中对数据库所做的更改将通过<code>V$LOGMNR_CONTENTS</code>视图传递给你。</p><p>您可以指示LogMiner自动地、动态地创建要分析的重做日志文件列表，或者您可以显式地指定要分析的重做日志文件列表，如下所示:</p><ol><li>Automatically</li></ol><p>如果在源数据库上使用LogMiner，则可以指示LogMiner自动查找和创建用于分析的重做日志文件列表。使用DBMS_LOGMNR启动LogMiner时，请使用CONTINUOUS_MINE选项。START_LOGMNR过程，并指定时间或SCN范围。虽然本例指定了在线目录中的字典，但是任何LogMiner字典都可以使用。</p><pre><code>注意:CONTINUOUS_MINE选项要求挂载数据库并启用归档。

LogMiner将使用数据库控制文件查找并将满足指定时间或SCN范围的重做日志文件添加到LogMiner重做日志文件列表中。例如:

```sql
ALTER SESSION SET NLS_DATE_FORMAT = &#39;DD-MON-YYYY HH24:MI:SS&#39;;
EXECUTE DBMS_LOGMNR.START_LOGMNR( -
   STARTTIME =&gt; &#39;01-Jan-2012 08:30:00&#39;, -
   ENDTIME =&gt; &#39;01-Jan-2012 08:45:00&#39;, -
   OPTIONS =&gt; DBMS_LOGMNR.DICT_FROM_ONLINE_CATALOG + -
   DBMS_LOGMNR.CONTINUOUS_MINE);
```

(为了避免在对DBMS_LOGMNR的PL/SQL调用中指定日期格式。START_LOGMNR过程，本例首先使用SQL ALTER会话集NLS_DATE_FORMAT语句。)

您还可以使用DBMS_LOGMNR指定一个重做日志文件，从而指示LogMiner自动构建要分析的重做日志文件列表。然后在启动LogMiner时指定CONTINUOUS_MINE选项。然而，前面描述的方法更典型。
</code></pre><ol start="2"><li><p>Manually</p><p>使用DBMS_LOGMNR。在启动LogMiner之前手动创建重做日志文件列表的ADD_LOGFILE过程。将第一个重做日志文件添加到列表后，随后添加的每个重做日志文件必须来自相同的数据库，并与相同的数据库重做日志SCN相关联。使用此方法时，LogMiner不需要连接到源数据库。</p><p>例如，要启动重做日志文件的新列表，请指定DBMS_LOGMNR的新选项。ADD_LOGFILE PL/SQL过程，表明这是一个新列表的开始。例如，输入以下命令来指定/oracle/logs/log1.f:</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">EXECUTE</span> DBMS_LOGMNR<span class="token punctuation">.</span>ADD_LOGFILE<span class="token punctuation">(</span> <span class="token operator">-</span>
   LOGFILENAME <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">&#39;/oracle/logs/log1.f&#39;</span><span class="token punctuation">,</span> <span class="token operator">-</span>
   OPTIONS <span class="token operator">=</span><span class="token operator">&gt;</span> DBMS_LOGMNR<span class="token punctuation">.</span>NEW<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果需要，可以通过指定PL/SQL DBMS_LOGMNR的ADDFILE选项来添加更多的重做日志文件。ADD_LOGFILE过程。例如，输入以下内容来添加/oracle/logs/log2.f:</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">EXECUTE</span> DBMS_LOGMNR<span class="token punctuation">.</span>ADD_LOGFILE<span class="token punctuation">(</span> <span class="token operator">-</span>
   LOGFILENAME <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">&#39;/oracle/logs/log2.f&#39;</span><span class="token punctuation">,</span> <span class="token operator">-</span>
   OPTIONS <span class="token operator">=</span><span class="token operator">&gt;</span> DBMS_LOGMNR<span class="token punctuation">.</span>ADDFILE<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>要确定在当前LogMiner会话中分析哪些重做日志文件，可以查询<code>V$LOGMNR_LOGS</code>视图，其中包含每个重做日志文件的一行。</p></li></ol><h2 id="starting-logminer" tabindex="-1"><a class="header-anchor" href="#starting-logminer" aria-hidden="true">#</a> Starting LogMiner</h2><p>调用<code>DBMS_LOGMNR.START_LOGMNR</code>来启动LogMiner。因为DBMS_LOGMNR提供了可用的选项。START_LOGMNR过程允许你控制输出到<code>V$LOGMNR_CONTENTS</code>视图，在查询<code>V$LOGMNR_CONTENTS</code> 视图之前执行必须调用<code>DBMS_LOGMNR.START_LOGMNR</code>。</p><p>当你启动LogMiner，你可以:</p><ul><li><p>指定LogMiner应该如何过滤它返回的数据(例如，通过开始和结束时间或SCN值)</p></li><li><p>指定格式化LogMiner返回的数据的选项</p></li><li><p>指定要使用的LogMiner字典</p></li></ul><p>下面的列表是LogMiner设置的摘要，您可以使用DBMS_LOGMNR.START_LOGMNR的OPTIONS参数指定这些设置。</p><ul><li><p><code>DICT_FROM_ONLINE_CATALOG</code> — See &quot;<a href="https://docs.oracle.com/database/121/SUTIL/GUID-1D510A2F-4CE8-4D69-AB18-CDD58FB3458C.htm" target="_blank" rel="noopener noreferrer">Using the Online Catalog<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>&quot;</p></li><li><p><code>DICT_FROM_REDO_LOGS</code> — See &quot;<a href="https://docs.oracle.com/database/121/SUTIL/GUID-319446A8-6FEC-42CE-A6A4-582CA65377CF.htm" target="_blank" rel="noopener noreferrer">Start LogMiner<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>&quot;</p></li><li><p><code>CONTINUOUS_MINE</code> — See &quot;<a href="https://docs.oracle.com/database/121/SUTIL/GUID-C50E9C76-ABA1-4A27-AAB4-C65479EDFDE0.htm" target="_blank" rel="noopener noreferrer">Redo Log File Options<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>&quot;</p></li><li><p><code>COMMITTED_DATA_ONLY</code> — See &quot;<a href="https://docs.oracle.com/database/121/SUTIL/GUID-6A2398F7-D484-495A-8AD2-0A6B34C03536.htm" target="_blank" rel="noopener noreferrer">Showing Only Committed Transactions<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>&quot;</p></li><li><p><code>SKIP_CORRUPTION</code> — See &quot;<a href="https://docs.oracle.com/database/121/SUTIL/GUID-FAA95EFA-4AC0-4F5B-BE30-D79A9AC4C6B9.htm" target="_blank" rel="noopener noreferrer">Skipping Redo Corruptions<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>&quot;</p></li><li><p><code>NO_SQL_DELIMITER</code> — See &quot;<a href="https://docs.oracle.com/database/121/SUTIL/GUID-C2B8C741-9544-4A46-818E-16B233570599.htm" target="_blank" rel="noopener noreferrer">Formatting Reconstructed SQL Statements for Re-execution<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>&quot;</p></li><li><p><code>PRINT_PRETTY_SQL</code> — See &quot;<a href="https://docs.oracle.com/database/121/SUTIL/GUID-95841FA7-BE3F-4B78-B52B-47D5F6ED5623.htm" target="_blank" rel="noopener noreferrer">Formatting the Appearance of Returned Data for Readability<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>&quot;</p></li><li><p><code>NO_ROWID_IN_STMT</code> — See &quot;<a href="https://docs.oracle.com/database/121/SUTIL/GUID-C2B8C741-9544-4A46-818E-16B233570599.htm" target="_blank" rel="noopener noreferrer">Formatting Reconstructed SQL Statements for Re-execution<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>&quot;</p></li><li><p><code>DDL_DICT_TRACKING</code> — See &quot;<a href="https://docs.oracle.com/database/121/SUTIL/GUID-56743517-A0C0-4CCD-9D20-2883AFB5683B.htm" target="_blank" rel="noopener noreferrer">Tracking DDL Statements in the LogMiner Dictionary<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>&quot;</p></li></ul><p>当执行<code>DBMS_LOGMNR.START_LOGMNR</code>过程, LogMiner会检测确保你指定的参数是有效的并且重做日志和数据字典是存在可获得的。 在您查询视图之前，<code>V$LOGMNR_CONTENTS</code>视图不会被填充, 详见<a href="https://docs.oracle.com/database/121/SUTIL/GUID-CD389496-1D82-4E39-881F-C0C18355C573.htm" target="_blank" rel="noopener noreferrer">How the V$LOGMNR_CONTENTS View Is Populated<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p><p>注意，在调用DBMS_LOGMNR.START_LOGMNR时，参数和选项不是持久的。每次调用DBMS_LOGMNR.START_LOGMNR时，必须指定所有需要的参数和选项(包括SCN和时间范围)。</p><h2 id="querying-v-logmnr-contents-for-redo-data-of-interest" tabindex="-1"><a class="header-anchor" href="#querying-v-logmnr-contents-for-redo-data-of-interest" aria-hidden="true">#</a> Querying V$LOGMNR_CONTENTS for Redo Data of Interest</h2><p>通过查询<code>V$LOGMNR_CONTENTS</code>视图获取我们感兴趣的数据. (注意要有 <code>SYSDBA</code> or <code>LOGMINING</code> 权限来查询<code>V$LOGMNR_CONTENTS</code>.) 这个视图包括了数据库的历史变更信息，包括但不仅限于下列:</p><ul><li><p>对数据库的更改类型:插入、更新、删除或DDL(<code>OPERATION</code> column).</p></li><li><p>对其进行更改的SCN(<code>SCN</code> column).</p></li><li><p>提交更改的SCN (<code>COMMIT_SCN</code> column).</p></li><li><p>变更所属的事务 (<code>XIDUSN</code>, <code>XIDSLT</code>, and <code>XIDSQN</code> columns).</p></li><li><p>修改对象对应的表和schema (<code>SEG_NAME</code> and <code>SEG_OWNER</code> columns).</p></li><li><p>发出DDL或DML语句进行更改的用户的名称(<code>USERNAME</code> column).</p></li><li><p>如果更改是由于SQL DML语句造成的，则重构的SQL语句将显示与用于生成重做记录的SQL DML相同(但不一定相同)的SQL DML (<code>SQL_REDO</code> column).</p></li><li><p>如果密码是SQL_REDO列中语句的一部分，则对密码进行加密。与DDL语句对应的SQL_REDO列值总是与用于生成redo记录的SQL DDL相同。</p></li><li><p>如果更改是由于SQL DML更改造成的，则重构的SQL语句显示撤消更改所需的SQL DML语句 (<code>SQL_UNDO</code> column).</p><p>与DDL语句对应的SQL_UNDO列始终为空。对于某些数据类型和回滚操作，SQL_UNDO列可能也是NULL。</p></li></ul><p>Note:</p><p>LogMiner支持透明数据加密(TDE)，<code>V$LOGMNR_CONTENTS</code>显示对具有加密列的表执行的DML操作(包括正在更新的加密列)，前提是LogMiner数据字典包含有关对象的元数据，并且Oracle wallet中有适当的主密钥。必须打开wallet，否则<code>V$LOGMNR_CONTENTS</code>无法解释相关的重做记录。如果数据库未打开(只读或读写)，则不支持TDE。</p><p>See <a href="https://docs.oracle.com/database/121/ASOAG/asopart1.htm#ASOAG600" target="_blank" rel="noopener noreferrer">Oracle Database Advanced Security Guide<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> for more information about TDE.</p><p>Example of Querying <code>V$LOGMNR_CONTENTS</code></p><p>假设你想要查找有一个叫Ron的用户对<code>oe.orders</code>所做的删除操作，你可以执行一个类似于下面的SQL语句:</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> OPERATION<span class="token punctuation">,</span> SQL_REDO<span class="token punctuation">,</span> SQL_UNDO
   <span class="token keyword">FROM</span> V$LOGMNR_CONTENTS
   <span class="token keyword">WHERE</span> SEG_OWNER <span class="token operator">=</span> <span class="token string">&#39;OE&#39;</span> <span class="token operator">AND</span> SEG_NAME <span class="token operator">=</span> <span class="token string">&#39;ORDERS&#39;</span> <span class="token operator">AND</span>
   OPERATION <span class="token operator">=</span> <span class="token string">&#39;DELETE&#39;</span> <span class="token operator">AND</span> USERNAME <span class="token operator">=</span> <span class="token string">&#39;RON&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>下面是执行SQL查询出来的结果：</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code>OPERATION   SQL_REDO                        SQL_UNDO

<span class="token keyword">DELETE</span>      <span class="token keyword">delete</span> <span class="token keyword">from</span> <span class="token string">&quot;OE&quot;</span><span class="token punctuation">.</span><span class="token string">&quot;ORDERS&quot;</span>       <span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token string">&quot;OE&quot;</span><span class="token punctuation">.</span><span class="token string">&quot;ORDERS&quot;</span>        
            <span class="token keyword">where</span> <span class="token string">&quot;ORDER_ID&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;2413&#39;</span>       <span class="token punctuation">(</span><span class="token string">&quot;ORDER_ID&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;ORDER_MODE&quot;</span><span class="token punctuation">,</span>
            <span class="token operator">and</span> <span class="token string">&quot;ORDER_MODE&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;direct&#39;</span>      <span class="token string">&quot;CUSTOMER_ID&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;ORDER_STATUS&quot;</span><span class="token punctuation">,</span>
            <span class="token operator">and</span> <span class="token string">&quot;CUSTOMER_ID&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;101&#39;</span>        <span class="token string">&quot;ORDER_TOTAL&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;SALES_REP_ID&quot;</span><span class="token punctuation">,</span>
            <span class="token operator">and</span> <span class="token string">&quot;ORDER_STATUS&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;5&#39;</span>         <span class="token string">&quot;PROMOTION_ID&quot;</span><span class="token punctuation">)</span>
            <span class="token operator">and</span> <span class="token string">&quot;ORDER_TOTAL&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;48552&#39;</span>      <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">&#39;2413&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;direct&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;101&#39;</span><span class="token punctuation">,</span>
            <span class="token operator">and</span> <span class="token string">&quot;SALES_REP_ID&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;161&#39;</span>       <span class="token string">&#39;5&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;48552&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;161&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
            <span class="token operator">and</span> <span class="token string">&quot;PROMOTION_ID&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span>  
            <span class="token operator">and</span> ROWID <span class="token operator">=</span> <span class="token string">&#39;AAAHTCAABAAAZAPAAN&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">DELETE</span>      <span class="token keyword">delete</span> <span class="token keyword">from</span> <span class="token string">&quot;OE&quot;</span><span class="token punctuation">.</span><span class="token string">&quot;ORDERS&quot;</span>        <span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token string">&quot;OE&quot;</span><span class="token punctuation">.</span><span class="token string">&quot;ORDERS&quot;</span>
            <span class="token keyword">where</span> <span class="token string">&quot;ORDER_ID&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;2430&#39;</span>        <span class="token punctuation">(</span><span class="token string">&quot;ORDER_ID&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;ORDER_MODE&quot;</span><span class="token punctuation">,</span>
            <span class="token operator">and</span> <span class="token string">&quot;ORDER_MODE&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;direct&#39;</span>       <span class="token string">&quot;CUSTOMER_ID&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;ORDER_STATUS&quot;</span><span class="token punctuation">,</span>
            <span class="token operator">and</span> <span class="token string">&quot;CUSTOMER_ID&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;101&#39;</span>         <span class="token string">&quot;ORDER_TOTAL&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;SALES_REP_ID&quot;</span><span class="token punctuation">,</span>
            <span class="token operator">and</span> <span class="token string">&quot;ORDER_STATUS&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;8&#39;</span>          <span class="token string">&quot;PROMOTION_ID&quot;</span><span class="token punctuation">)</span>
            <span class="token operator">and</span> <span class="token string">&quot;ORDER_TOTAL&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;29669.9&#39;</span>     <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token string">&#39;2430&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;direct&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;101&#39;</span><span class="token punctuation">,</span>
            <span class="token operator">and</span> <span class="token string">&quot;SALES_REP_ID&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;159&#39;</span>        <span class="token string">&#39;8&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;29669.9&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;159&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token operator">and</span> <span class="token string">&quot;PROMOTION_ID&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span> 
            <span class="token operator">and</span> ROWID <span class="token operator">=</span> <span class="token string">&#39;AAAHTCAABAAAZAPAAe&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>输出显示Ron从<code>oe.orders</code>表删除了两条数据. 他重构的SQL语句与Ron发出的实际语句是等价的，但不一定完全相同。. 造成这种差异的原因是原始的WHERE子句没有记录在重做日志文件中，所以LogMiner只能单独显示已删除(或更新或插入)的行。</p><p>T因此，即使一条DELETE语句可能负责删除这两行，<code>V$LOGMNR_CONTENTS</code>中的输出也不能反映这一事实。 实际执行的<code>DELETE</code>可能是 <code>DELETE FROM OE.ORDERS WHERE CUSTOMER_ID =&#39;101</code>&#39; 或者是<code>DELETE FROM OE.ORDERS WHERE PROMOTION_ID = NULL.</code></p><h3 id="how-the-v-logmnr-contents-view-is-populated" tabindex="-1"><a class="header-anchor" href="#how-the-v-logmnr-contents-view-is-populated" aria-hidden="true">#</a> How the V$LOGMNR_CONTENTS View Is Populated</h3><p><code>V$LOGMNR_CONTENTS</code>与其他视图不同，不是反应表中数据关系，而是反应Redo日志的关系表示。</p><p>LogMiner仅在响应针对它的查询时填充视图。在查询<code>V$LOGMNR_CONTENTS</code>之前，必须成功启动LogMiner。</p><p>当对<code>V$LOGMNR_CONTENTS</code>视图执行select操作时，将按顺序读取重做日志文件。来自重做日志文件的翻译信息在<code>V$LOGMNR_CONTENTS</code>视图中以行形式返回。这将一直持续到满足在启动时指定的筛选条件或到达重做日志文件的结尾。</p><p>在某些情况下，<code>V$LOGMNR_CONTENTS</code>中的某些列可能不会被填充。例如：</p><ul><li>对于OPERATION列的值为DDL的行，不会填充TABLE_SPACE列。这是因为DDL可以在多个表空间上操作。例如，可以使用跨越多个表空间的多个分区创建一个表;因此，填充列并不准确。</li><li>LogMiner不为临时表生成SQL redo或SQL undo, SQL_REDO列会包含&quot;/* No SQL_REDO for temporary tables <em>/&quot;字符串，SQL_UNDO 列会包含&quot;/</em> No SQL_UNDO for temporary tables */&quot;字符串.</li></ul><p>LogMiner以SCN顺序返回所有行，除非您使用COMMITTED_DATA_ONLY选项指定只检索提交的事务。SCN顺序是媒体恢复中常用的顺序。</p><p>See Also:</p><p><a href="https://docs.oracle.com/en/database/oracle/oracle-database/19/sutil/oracle-logminer-utility.html#GUID-6A2398F7-D484-495A-8AD2-0A6B34C03536" title="When using the COMMITTED_DATA_ONLY option to DBMS_LOGMNR.START_LOGMNR, only rows belonging to committed transactions are shown in the V$LOGMNR_CONTENTS view." target="_blank" rel="noopener noreferrer">Showing Only Committed Transactions<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> for more information about the <code>COMMITTED_DATA_ONLY</code> option to <code>DBMS_LOGMNR.START_LOGMNR</code></p><p>Note:</p><p>因为LogMiner只在响应查询时填充V$LOGMNR_CONTENTS视图，而不将请求的数据存储在数据库中，所以以下是正确的:</p><ul><li><p>每次查询<code>V$LOGMNR_CONTENTS</code>时，LogMiner都会分析您请求的数据的重做日志文件。</p></li><li><p>查询消耗的内存量不依赖于必须返回满足查询的行数。</p></li><li><p>返回请求的数据所需的时间取决于为找到该数据而必须挖掘的重做日志数据的数量和类型。</p></li></ul><p>基于上面的注意事项，如果你需要保持查询结果以便日后分析，Oracle建议在实体表保存从<code>V$LOGMNR_CONTENTS</code>视图中查询到的结果，特别是当查询返回的数据量与LogMiner必须分析才能提供数据的重做数据量相比很小时。</p><h3 id="querying-v-logmnr-contents-based-on-column-values" tabindex="-1"><a class="header-anchor" href="#querying-v-logmnr-contents-based-on-column-values" aria-hidden="true">#</a> Querying V$LOGMNR_CONTENTS Based on Column Values</h3><p>LogMiner允许您基于列值进行查询。</p><p>例如你可以查询所有对hr.employees做的salary增长超过一定值的update操作，这样的数据可以用来分析系统行为和执行审计任务。</p><p>使用两个挖掘函数从重做日志文件中提取数据:DBMS_LOGMNR。MINE_VALUE DBMS_LOGMNR.COLUMN_PRESENT。V$LOGMNR_CONTENTS视图中的REDO_VALUE和UNDO_VALUE列提供了对这些mine函数的支持。</p><p>下面是一个示例，演示如何使用MINE_VALUE函数来选择hr的所有更新。将工资栏增加到原来的两倍以上的员工:</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> SQL_REDO <span class="token keyword">FROM</span> V$LOGMNR_CONTENTS
   <span class="token keyword">WHERE</span>
   SEG_NAME <span class="token operator">=</span> <span class="token string">&#39;EMPLOYEES&#39;</span> <span class="token operator">AND</span>
   SEG_OWNER <span class="token operator">=</span> <span class="token string">&#39;HR&#39;</span> <span class="token operator">AND</span>
   OPERATION <span class="token operator">=</span> <span class="token string">&#39;UPDATE&#39;</span> <span class="token operator">AND</span>
   DBMS_LOGMNR<span class="token punctuation">.</span>MINE_VALUE<span class="token punctuation">(</span>REDO_VALUE<span class="token punctuation">,</span> <span class="token string">&#39;HR.EMPLOYEES.SALARY&#39;</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span>
   <span class="token number">2</span><span class="token operator">*</span>DBMS_LOGMNR<span class="token punctuation">.</span>MINE_VALUE<span class="token punctuation">(</span>UNDO_VALUE<span class="token punctuation">,</span> <span class="token string">&#39;HR.EMPLOYEES.SALARY&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如下例所示，MINE_VALUE函数有两个参数:</p><ul><li><p>第一个参数指定是挖掘数据的redo (REDO_VALUE)部分还是undo (UNDO_VALUE)部分。数据的重做部分是插入、更新或删除操作后列中的数据;数据的撤消部分是插入、更新或删除操作之前列中的数据。将REDO_VALUE视为新值，将UNDO_VALUE视为旧值可能会有所帮助。</p></li><li><p>第二个参数是一个字符串，它指定要挖掘的列的完全限定名(在本例中是hr.employee .salary)。MINE_VALUE函数总是返回一个可以转换回原始数据类型的字符串。</p></li></ul><h4 id="the-meaning-of-null-values-returned-by-the-mine-value-function" tabindex="-1"><a class="header-anchor" href="#the-meaning-of-null-values-returned-by-the-mine-value-function" aria-hidden="true">#</a> The Meaning of NULL Values Returned by the MINE_VALUE Function</h4><p>描述MINE_VALUE函数返回的空值的含义。</p><p>如果MINE_VALUE函数返回一个空值，那么它可以表示:</p><ul><li><p>指定的列在数据的重做或撤消部分中不存在。</p></li><li><p>指定的列是存在的，并且有一个空值。</p></li></ul><p>要区分这两种情况，可以使用DBMS_LOGMNR.COLUMN_PRESENT函数，如果该列出现在数据的重做或撤消部分，则该函数返回1。否则，它返回0。例如，假设您希望找出修改salary列中的值的增量和相应的事务标识符。你可以发出以下SQL查询:</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 
  <span class="token punctuation">(</span>XIDUSN <span class="token operator">||</span> <span class="token string">&#39;.&#39;</span> <span class="token operator">||</span> XIDSLT <span class="token operator">||</span> <span class="token string">&#39;.&#39;</span> <span class="token operator">||</span> XIDSQN<span class="token punctuation">)</span> <span class="token keyword">AS</span> XID<span class="token punctuation">,</span>
  <span class="token punctuation">(</span>DBMS_LOGMNR<span class="token punctuation">.</span>MINE_VALUE<span class="token punctuation">(</span>REDO_VALUE<span class="token punctuation">,</span> <span class="token string">&#39;HR.EMPLOYEES.SALARY&#39;</span><span class="token punctuation">)</span> <span class="token operator">-</span>
   DBMS_LOGMNR<span class="token punctuation">.</span>MINE_VALUE<span class="token punctuation">(</span>UNDO_VALUE<span class="token punctuation">,</span> <span class="token string">&#39;HR.EMPLOYEES.SALARY&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> INCR_SAL
   <span class="token keyword">FROM</span> V$LOGMNR_CONTENTS
   <span class="token keyword">WHERE</span>
   OPERATION <span class="token operator">=</span> <span class="token string">&#39;UPDATE&#39;</span> <span class="token operator">AND</span>
   DBMS_LOGMNR<span class="token punctuation">.</span>COLUMN_PRESENT<span class="token punctuation">(</span>REDO_VALUE<span class="token punctuation">,</span> <span class="token string">&#39;HR.EMPLOYEES.SALARY&#39;</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">AND</span>
   DBMS_LOGMNR<span class="token punctuation">.</span>COLUMN_PRESENT<span class="token punctuation">(</span>UNDO_VALUE<span class="token punctuation">,</span> <span class="token string">&#39;HR.EMPLOYEES.SALARY&#39;</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="usage-rules-for-the-mine-value-and-column-present-functions" tabindex="-1"><a class="header-anchor" href="#usage-rules-for-the-mine-value-and-column-present-functions" aria-hidden="true">#</a> Usage Rules for the MINE_VALUE and COLUMN_PRESENT Functions</h4><p>描述应用于MINE_VALUE和COLUMN_PRESENT函数的使用规则。</p><p>具体来说:</p><ul><li>它们只能在LogMiner会话中使用。</li><li>它们必须在<code>V$LOGMNR_CONTENTS</code>视图的select操作上下文中启动。</li><li>它们不支持LONG、LONG RAW、CLOB、BLOB、NCLOB、ADT或集合数据类型。</li></ul><h4 id="restrictions-when-using-the-mine-value-function-to-get-an-nchar-value" tabindex="-1"><a class="header-anchor" href="#restrictions-when-using-the-mine-value-function-to-get-an-nchar-value" aria-hidden="true">#</a> Restrictions When Using the MINE_VALUE Function To Get an NCHAR Value</h4><p>描述使用MINE_VALUE函数时的限制。</p><p>如果DBMS_LOGMNR.MINE_VALUE函数用于获取一个NCHAR值，该值包含在数据库字符集中没有找到的字符，然后这些字符作为数据库字符集的替换字符(例如，反问号)返回。</p><h3 id="querying-v-logmnr-contents-based-on-xmltype-columns-and-tables" tabindex="-1"><a class="header-anchor" href="#querying-v-logmnr-contents-based-on-xmltype-columns-and-tables" aria-hidden="true">#</a> Querying V$LOGMNR_CONTENTS Based on XMLType Columns and Tables</h3><p>(XMLType也不常用 就不一一翻译) LogMiner支持为XMLType列生成重做。在兼容性设置为11.0.0.0或更高的情况下生成重做时，支持将XMLType数据存储为CLOB。</p><p>作为对象关系和二进制XML存储的XMLType数据支持在11.2.0.3或更高的兼容性设置下重新生成。</p><p>LogMiner根据XMLType存储以不同的方式在<code>V$LOGMNR_CONTENTS</code>中显示SQL_REDO。在所有情况下，SQL_REDO列的内容和STATUS列都需要仔细检查，并且通常需要重新组装才能生成SQL或PL/SQL语句来重新执行更改。在某些情况下，可能无法使用SQL_REDO数据来构造这样的更改。以下小节中的示例基于存储为CLOB的XMLType，这通常是用于重建完整行更改的最简单方法。</p><p>Note:存储为CLOB的XMLType数据在Oracle数据库12c版本1(12.1)中被弃用。</p><p>Querying <code>V$LOGMNR_CONTENTS</code> For Changes to Tables With XMLType Columns</p><p>The example in this section is for a table named <code>XML_CLOB_COL_TAB</code> that has the following columns:</p><ul><li><p>f1 <code>NUMBER</code></p></li><li><p>f2 <code>VARCHAR2(100)</code></p></li><li><p>f3 <code>XMLTYPE</code></p></li><li><p>f4 <code>XMLTYPE</code></p></li><li><p>f5 <code>VARCHAR2(10)</code></p></li></ul><p>Assume that a LogMiner session has been started with the logs and with the <code>COMMITED_DATA_ONLY</code> option. The following query is executed against <code>V$LOGMNR_CONTENTS</code> for changes to the <code>XML_CLOB_COL_TAB</code> table.</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> OPERATION<span class="token punctuation">,</span> <span class="token keyword">STATUS</span><span class="token punctuation">,</span> SQL_REDO <span class="token keyword">FROM</span> V$LOGMNR_CONTENTS 
  <span class="token keyword">WHERE</span> SEG_OWNER <span class="token operator">=</span> <span class="token string">&#39;SCOTT&#39;</span> <span class="token operator">AND</span> TABLE_NAME <span class="token operator">=</span> <span class="token string">&#39;XML_CLOB_COL_TAB&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>The query output looks similar to the following:</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code>OPERATION         <span class="token keyword">STATUS</span>  SQL_REDO

<span class="token keyword">INSERT</span>            <span class="token number">0</span>       <span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token string">&quot;SCOTT&quot;</span><span class="token punctuation">.</span><span class="token string">&quot;XML_CLOB_COL_TAB&quot;</span><span class="token punctuation">(</span><span class="token string">&quot;F1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;F2&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;F5&quot;</span><span class="token punctuation">)</span> <span class="token keyword">values</span>
                             <span class="token punctuation">(</span><span class="token string">&#39;5010&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;Aho40431&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;PETER&#39;</span><span class="token punctuation">)</span>

XML DOC <span class="token keyword">BEGIN</span>     <span class="token number">5</span>       <span class="token keyword">update</span> <span class="token string">&quot;SCOTT&quot;</span><span class="token punctuation">.</span><span class="token string">&quot;XML_CLOB_COL_TAB&quot;</span> a <span class="token keyword">set</span> a<span class="token punctuation">.</span><span class="token string">&quot;F3&quot;</span> <span class="token operator">=</span> XMLType<span class="token punctuation">(</span>:<span class="token number">1</span><span class="token punctuation">)</span>
                             <span class="token keyword">where</span> a<span class="token punctuation">.</span><span class="token string">&quot;F1&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;5010&#39;</span> <span class="token operator">and</span> a<span class="token punctuation">.</span><span class="token string">&quot;F2&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;Aho40431&#39;</span> <span class="token operator">and</span> a<span class="token punctuation">.</span><span class="token string">&quot;F5&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;PETER&#39;</span>

XML DOC <span class="token keyword">WRITE</span>     <span class="token number">5</span>       XML <span class="token keyword">Data</span>

XML DOC <span class="token keyword">WRITE</span>     <span class="token number">5</span>       XML <span class="token keyword">Data</span>

XML DOC <span class="token keyword">WRITE</span>     <span class="token number">5</span>       XML <span class="token keyword">Data</span>

XML DOC <span class="token keyword">END</span>       <span class="token number">5</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In the <code>SQL_REDO</code> columns for the <code>XML DOC WRITE</code> operations there will be actual data for the XML document. It will not be the string &#39;XML Data&#39;.</p><p>This output shows that the general model for an insert into a table with an <code>XMLType</code> column is the following:</p><ol><li><p>An initial insert with all of the scalar columns.</p></li><li><p>An <code>XML DOC BEGIN </code>operation with an update statement that sets the value for one <code>XMLType</code> column using a bind variable.</p></li><li><p>One or more <code>XML DOC WRITE</code> operations with the data for the XML document.</p></li><li><p>An <code>XML DOC END</code> operation to indicate that all of the data for that XML document has been seen.</p></li><li><p>If there is more than one <code>XMLType</code> column in the table, then steps 2 through 4 will be repeated for each <code>XMLType</code> column that is modified by the original DML.</p></li></ol><p>If the XML document is not stored as an out-of-line column, then there will be no <code>XML DOC BEGIN</code>, <code>XML DOC WRITE</code>, or <code>XML DOC END</code> operations for that column. The document will be included in an update statement similar to the following:</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code>OPERATION   <span class="token keyword">STATUS</span>         SQL_REDO

<span class="token keyword">UPDATE</span>      <span class="token number">0</span>              <span class="token keyword">update</span> <span class="token string">&quot;SCOTT&quot;</span><span class="token punctuation">.</span><span class="token string">&quot;XML_CLOB_COL_TAB&quot;</span> a
                           <span class="token keyword">set</span> a<span class="token punctuation">.</span><span class="token string">&quot;F3&quot;</span> <span class="token operator">=</span> XMLType<span class="token punctuation">(</span><span class="token string">&#39;&lt;?xml version=&quot;1.0&quot;?&gt;
                           &lt;PO pono=&quot;1&quot;&gt;
                           &lt;PNAME&gt;Po_99&lt;/PNAME&gt; 
                           &lt;CUSTNAME&gt;Dave Davids&lt;/CUSTNAME&gt; 
                           &lt;/PO&gt;&#39;</span><span class="token punctuation">)</span> 
                           <span class="token keyword">where</span> a<span class="token punctuation">.</span><span class="token string">&quot;F1&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;5006&#39;</span> <span class="token operator">and</span> a<span class="token punctuation">.</span><span class="token string">&quot;F2&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;Janosik&#39;</span> <span class="token operator">and</span> a<span class="token punctuation">.</span><span class="token string">&quot;F5&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;MMM&#39;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Querying V$LOGMNR_CONTENTS For Changes to XMLType Tables</p><p>DMLs to <code>XMLType</code> tables are slightly different from DMLs to <code>XMLType</code> columns. The XML document represents the value for the row in the <code>XMLType</code> table. Unlike the <code>XMLType</code> column case, an initial insert cannot be done which is then followed by an update containing the XML document. Rather, the whole document must be assembled before anything can be inserted into the table.</p><p>Another difference for <code>XMLType</code> tables is the presence of the <code>OBJECT_ID</code> column. An object identifier is used to uniquely identify every object in an object table. For <code>XMLType</code> tables, this value is generated by Oracle Database when the row is inserted into the table. The <code>OBJECT_ID</code> value cannot be directly inserted into the table using SQL. Therefore, LogMiner cannot generate <code>SQL_REDO</code> which is executable that includes this value.</p><p>The <code>V$LOGMNR_CONTENTS</code> view has a new <code>OBJECT_ID</code> column which is populated for changes to <code>XMLType</code> tables. This value is the object identifier from the original table. However, even if this same XML document is inserted into the same <code>XMLType</code> table, a new object identifier will be generated. The <code>SQL_REDO</code> for subsequent DMLs, such as updates and deletes, on the <code>XMLType</code> table will include the object identifier in the <code>WHERE</code> clause to uniquely identify the row from the original table.</p><h4 id="restrictions-when-using-logminer-with-xmltype-data" tabindex="-1"><a class="header-anchor" href="#restrictions-when-using-logminer-with-xmltype-data" aria-hidden="true">#</a> Restrictions When Using LogMiner With XMLType Data</h4><p>Describes restrictions when using LogMiner with XMLType data.</p><p>Mining <code>XMLType</code> data should only be done when using the <code>DBMS_LOGMNR.COMMITTED_DATA_ONLY</code> option. Otherwise, incomplete changes could be displayed or changes which should be displayed as XML might be displayed as <code>CLOB</code> changes due to missing parts of the row change. This can lead to incomplete and invalid <code>SQL_REDO</code> for these SQL DML statements.</p><p>The <code>SQL_UNDO</code> column is not populated for changes to <code>XMLType</code> data.</p><h4 id="example-of-a-pl-sql-procedure-for-assembling-xmltype-data" tabindex="-1"><a class="header-anchor" href="#example-of-a-pl-sql-procedure-for-assembling-xmltype-data" aria-hidden="true">#</a> Example of a PL/SQL Procedure for Assembling XMLType Data</h4><p>Example showing a procedure that can be used to mine and assemble XML redo for tables that contain out of line XML data.</p><p>This shows how to assemble the XML data using a temporary LOB. Once the XML document is assembled, it can be used in a meaningful way. This example queries the assembled document for the <code>EmployeeName</code> element and then stores the returned name, the XML document and the <code>SQL_REDO</code> for the original DML in the <code>EMPLOYEE_XML_DOCS</code> table.</p><p>Note:</p><p>This procedure is an example only and is simplified. It is only intended to illustrate that DMLs to tables with <code>XMLType</code> data can be mined and assembled using LogMiner.</p><p>Before calling this procedure, all of the relevant logs must be added to a LogMiner session and <code>DBMS_LOGMNR.START_LOGMNR()</code> must be called with the <code>COMMITTED_DATA_ONLY</code> option. The <code>MINE_AND_ASSEMBLE()</code> procedure can then be called with the schema and table name of the table that has XML data to be mined.</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- table to store assembled XML documents</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> employee_xml_docs  <span class="token punctuation">(</span>
  employee_name         varchar2<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  sql_stmt                     varchar2<span class="token punctuation">(</span><span class="token number">4000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  xml_doc                     SYS<span class="token punctuation">.</span>XMLType<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- procedure to assemble the XML documents</span>
<span class="token keyword">create</span> <span class="token operator">or</span> <span class="token keyword">replace</span> <span class="token keyword">procedure</span> mine_and_assemble<span class="token punctuation">(</span>
  schemaname        <span class="token operator">in</span> varchar2<span class="token punctuation">,</span>
  tablename         <span class="token operator">in</span> varchar2<span class="token punctuation">)</span>
<span class="token keyword">AS</span>
  loc_c      CLOB<span class="token punctuation">;</span> 
  row_op     VARCHAR2<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
  row_status NUMBER<span class="token punctuation">;</span> 
  stmt       VARCHAR2<span class="token punctuation">(</span><span class="token number">4000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  row_redo   VARCHAR2<span class="token punctuation">(</span><span class="token number">4000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  xml_data   VARCHAR2<span class="token punctuation">(</span><span class="token number">32767</span> <span class="token keyword">CHAR</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
  data_len   NUMBER<span class="token punctuation">;</span> 
  xml_lob    clob<span class="token punctuation">;</span>
  xml_doc    XMLType<span class="token punctuation">;</span>
<span class="token keyword">BEGIN</span> 

<span class="token comment">-- Look for the rows in V$LOGMNR_CONTENTS that are for the appropriate schema </span>
<span class="token comment">-- and table name but limit it to those that are valid sql or that need assembly</span>
<span class="token comment">-- because they are XML documents.</span>

 <span class="token keyword">For</span> item <span class="token operator">in</span> <span class="token punctuation">(</span> <span class="token keyword">SELECT</span> operation<span class="token punctuation">,</span> <span class="token keyword">status</span><span class="token punctuation">,</span> sql_redo  <span class="token keyword">FROM</span> v$logmnr_contents
 <span class="token keyword">where</span> seg_owner <span class="token operator">=</span> schemaname <span class="token operator">and</span> table_name <span class="token operator">=</span> tablename
 <span class="token operator">and</span> <span class="token keyword">status</span> <span class="token operator">IN</span> <span class="token punctuation">(</span>DBMS_LOGMNR<span class="token punctuation">.</span>VALID_SQL<span class="token punctuation">,</span> DBMS_LOGMNR<span class="token punctuation">.</span>ASSEMBLY_REQUIRED_SQL<span class="token punctuation">)</span><span class="token punctuation">)</span>
 <span class="token keyword">LOOP</span>
    row_op :<span class="token operator">=</span> item<span class="token punctuation">.</span>operation<span class="token punctuation">;</span>
    row_status :<span class="token operator">=</span> item<span class="token punctuation">.</span><span class="token keyword">status</span><span class="token punctuation">;</span>
    row_redo :<span class="token operator">=</span> item<span class="token punctuation">.</span>sql_redo<span class="token punctuation">;</span>

     <span class="token keyword">CASE</span> row_op 

          <span class="token keyword">WHEN</span> <span class="token string">&#39;XML DOC BEGIN&#39;</span> <span class="token keyword">THEN</span> 
             <span class="token keyword">BEGIN</span> 
               <span class="token comment">-- save statement and begin assembling XML data </span>
               stmt :<span class="token operator">=</span> row_redo<span class="token punctuation">;</span> 
               xml_data :<span class="token operator">=</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">;</span> 
               data_len :<span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> 
               DBMS_LOB<span class="token punctuation">.</span>CreateTemporary<span class="token punctuation">(</span>xml_lob<span class="token punctuation">,</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
             <span class="token keyword">END</span><span class="token punctuation">;</span> 

          <span class="token keyword">WHEN</span> <span class="token string">&#39;XML DOC WRITE&#39;</span> <span class="token keyword">THEN</span> 
             <span class="token keyword">BEGIN</span> 
               <span class="token comment">-- Continue to assemble XML data</span>
               xml_data :<span class="token operator">=</span> xml_data <span class="token operator">||</span> row_redo<span class="token punctuation">;</span> 
               data_len :<span class="token operator">=</span> data_len <span class="token operator">+</span> length<span class="token punctuation">(</span>row_redo<span class="token punctuation">)</span><span class="token punctuation">;</span> 
               DBMS_LOB<span class="token punctuation">.</span>WriteAppend<span class="token punctuation">(</span>xml_lob<span class="token punctuation">,</span> length<span class="token punctuation">(</span>row_redo<span class="token punctuation">)</span><span class="token punctuation">,</span> row_redo<span class="token punctuation">)</span><span class="token punctuation">;</span>
             <span class="token keyword">END</span><span class="token punctuation">;</span> 

          <span class="token keyword">WHEN</span> <span class="token string">&#39;XML DOC END&#39;</span> <span class="token keyword">THEN</span> 
             <span class="token keyword">BEGIN</span> 
               <span class="token comment">-- Now that assembly is complete, we can use the XML document </span>
              xml_doc :<span class="token operator">=</span> XMLType<span class="token punctuation">.</span>createXML<span class="token punctuation">(</span>xml_lob<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token keyword">insert</span> <span class="token keyword">into</span> employee_xml_docs <span class="token keyword">values</span>
                        <span class="token punctuation">(</span>extractvalue<span class="token punctuation">(</span>xml_doc<span class="token punctuation">,</span> <span class="token string">&#39;/EMPLOYEE/NAME&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> stmt<span class="token punctuation">,</span> xml_doc<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token keyword">commit</span><span class="token punctuation">;</span>

              <span class="token comment">-- reset</span>
              xml_data :<span class="token operator">=</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">;</span> 
              data_len :<span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> 
              xml_lob :<span class="token operator">=</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>
             <span class="token keyword">END</span><span class="token punctuation">;</span> 

          <span class="token keyword">WHEN</span> <span class="token string">&#39;INSERT&#39;</span> <span class="token keyword">THEN</span> 
             <span class="token keyword">BEGIN</span> 
                stmt :<span class="token operator">=</span> row_redo<span class="token punctuation">;</span>
             <span class="token keyword">END</span><span class="token punctuation">;</span> 

          <span class="token keyword">WHEN</span> <span class="token string">&#39;UPDATE&#39;</span> <span class="token keyword">THEN</span> 
             <span class="token keyword">BEGIN</span> 
                stmt :<span class="token operator">=</span> row_redo<span class="token punctuation">;</span>
             <span class="token keyword">END</span><span class="token punctuation">;</span> 

          <span class="token keyword">WHEN</span> <span class="token string">&#39;INTERNAL&#39;</span> <span class="token keyword">THEN</span> 
             DBMS_OUTPUT<span class="token punctuation">.</span>PUT_LINE<span class="token punctuation">(</span><span class="token string">&#39;Skip rows marked INTERNAL&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

          <span class="token keyword">ELSE</span> 
             <span class="token keyword">BEGIN</span> 
                stmt :<span class="token operator">=</span> row_redo<span class="token punctuation">;</span>
                DBMS_OUTPUT<span class="token punctuation">.</span>PUT_LINE<span class="token punctuation">(</span><span class="token string">&#39;Other - &#39;</span> <span class="token operator">||</span> stmt<span class="token punctuation">)</span><span class="token punctuation">;</span> 
                <span class="token keyword">IF</span> row_status <span class="token operator">!=</span> DBMS_LOGMNR<span class="token punctuation">.</span>VALID_SQL <span class="token keyword">then</span> 
                   DBMS_OUTPUT<span class="token punctuation">.</span>PUT_LINE<span class="token punctuation">(</span><span class="token string">&#39;Skip rows marked non-executable&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
                <span class="token keyword">ELSE</span> 
                   dbms_output<span class="token punctuation">.</span>put_line<span class="token punctuation">(</span><span class="token string">&#39;Status : &#39;</span> <span class="token operator">||</span> row_status<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">END</span> <span class="token keyword">IF</span><span class="token punctuation">;</span> 
             <span class="token keyword">END</span><span class="token punctuation">;</span> 

     <span class="token keyword">END</span> <span class="token keyword">CASE</span><span class="token punctuation">;</span>

 <span class="token keyword">End</span> <span class="token keyword">LOOP</span><span class="token punctuation">;</span> 

<span class="token keyword">End</span><span class="token punctuation">;</span>
<span class="token operator">/</span>

<span class="token keyword">show</span> <span class="token keyword">errors</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This procedure can then be called to mine the changes to the <code>SCOTT.XML_DATA_TAB</code> and apply the DMLs.</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">EXECUTE</span> MINE_AND_ASSEMBLE <span class="token punctuation">(</span><span class="token string">&#39;SCOTT&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;XML_DATA_TAB&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>As a result of this procedure, the <code>EMPLOYEE_XML_DOCS</code> table will have a row for each out-of-line XML column that was changed. The <code>EMPLOYEE_NAME</code> column will have the value extracted from the XML document and the <code>SQL_STMT</code> column and the <code>XML_DOC</code> column reflect the original row change.</p><p>The following is an example query to the resulting table that displays only the employee name and SQL statement:</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> EMPLOYEE_NAME<span class="token punctuation">,</span> SQL_STMT <span class="token keyword">FROM</span> EMPLOYEE_XML_DOCS<span class="token punctuation">;</span>

EMPLOYEE_NAME          SQL_STMT                                                                                           

Scott Davis          <span class="token keyword">update</span> <span class="token string">&quot;SCOTT&quot;</span><span class="token punctuation">.</span><span class="token string">&quot;XML_DATA_TAB&quot;</span> a <span class="token keyword">set</span> a<span class="token punctuation">.</span><span class="token string">&quot;F3&quot;</span> <span class="token operator">=</span> XMLType<span class="token punctuation">(</span>:<span class="token number">1</span><span class="token punctuation">)</span> 
                         <span class="token keyword">where</span> a<span class="token punctuation">.</span><span class="token string">&quot;F1&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;5000&#39;</span> <span class="token operator">and</span> a<span class="token punctuation">.</span><span class="token string">&quot;F2&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;Chen&#39;</span> <span class="token operator">and</span> a<span class="token punctuation">.</span><span class="token string">&quot;F5&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;JJJ&#39;</span>

Richard Harry        <span class="token keyword">update</span> <span class="token string">&quot;SCOTT&quot;</span><span class="token punctuation">.</span><span class="token string">&quot;XML_DATA_TAB&quot;</span> a <span class="token keyword">set</span> a<span class="token punctuation">.</span><span class="token string">&quot;F4&quot;</span> <span class="token operator">=</span> XMLType<span class="token punctuation">(</span>:<span class="token number">1</span><span class="token punctuation">)</span>  
                         <span class="token keyword">where</span> a<span class="token punctuation">.</span><span class="token string">&quot;F1&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;5000&#39;</span> <span class="token operator">and</span> a<span class="token punctuation">.</span><span class="token string">&quot;F2&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;Chen&#39;</span> <span class="token operator">and</span> a<span class="token punctuation">.</span><span class="token string">&quot;F5&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;JJJ&#39;</span>

Margaret Sally       <span class="token keyword">update</span> <span class="token string">&quot;SCOTT&quot;</span><span class="token punctuation">.</span><span class="token string">&quot;XML_DATA_TAB&quot;</span> a <span class="token keyword">set</span> a<span class="token punctuation">.</span><span class="token string">&quot;F4&quot;</span> <span class="token operator">=</span> XMLType<span class="token punctuation">(</span>:<span class="token number">1</span><span class="token punctuation">)</span>  
                         <span class="token keyword">where</span> a<span class="token punctuation">.</span><span class="token string">&quot;F1&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;5006&#39;</span> <span class="token operator">and</span> a<span class="token punctuation">.</span><span class="token string">&quot;F2&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;Janosik&#39;</span> <span class="token operator">and</span> a<span class="token punctuation">.</span><span class="token string">&quot;F5&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;MMM&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="filtering-and-formatting-data-returned-to-v-logmnr-contents" tabindex="-1"><a class="header-anchor" href="#filtering-and-formatting-data-returned-to-v-logmnr-contents" aria-hidden="true">#</a> Filtering and Formatting Data Returned to V$LOGMNR_CONTENTS</h2><p>LogMiner可以处理大量的信息。您可以限制返回给<code>V$LOGMNR_CONTENTS</code>视图的信息，以及它返回的速度。</p><h3 id="showing-only-committed-transactionsshowing-only-committed-transactions" tabindex="-1"><a class="header-anchor" href="#showing-only-committed-transactionsshowing-only-committed-transactions" aria-hidden="true">#</a> Showing Only Committed TransactionsShowing Only Committed Transactions</h3><p>当将COMMITTED_DATA_ONLY选项用于DBMS_LOGMNR时。START_LOGMNR中，只有属于提交事务的行才显示在<code>V$LOGMNR_CONTENTS</code>视图中。</p><p>这使您能够过滤回滚的事务、正在进行的事务和内部操作。</p><p>要启用此选项，请在启动LogMiner时指定它，如下所示:</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">EXECUTE</span> DBMS_LOGMNR<span class="token punctuation">.</span>START_LOGMNR<span class="token punctuation">(</span>OPTIONS <span class="token operator">=</span><span class="token operator">&gt;</span> DBMS_LOGMNR<span class="token punctuation">.</span>COMMITTED_DATA_ONLY<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>当您指定COMMITTED_DATA_ONLY选项时，LogMiner将属于同一事务的所有DML操作分组在一起。事务按提交的顺序返回。</p><p>注意:如果指定了COMMITTED_DATA_ONLY选项，并且发出了一个查询，那么LogMiner将在内存中的单个事务中执行所有重做记录，直到LogMiner找到该事务的提交记录。因此，可能会耗尽内存，在这种情况下将返回“内存不足”错误。如果发生这种情况，则必须在不指定COMMITTED_DATA_ONLY选项的情况下重新启动LogMiner并重新发出查询。</p><p>默认情况下，LogMiner将显示与所有事务对应的行，并按照它们在重做日志文件中遇到的顺序返回它们。</p><p>例如，假设您在没有指定COMMITTED_DATA_ONLY选项的情况下启动LogMiner，然后执行以下查询:</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token punctuation">(</span>XIDUSN <span class="token operator">||</span> <span class="token string">&#39;.&#39;</span> <span class="token operator">||</span> XIDSLT <span class="token operator">||</span> <span class="token string">&#39;.&#39;</span> <span class="token operator">||</span> XIDSQN<span class="token punctuation">)</span> <span class="token keyword">AS</span> XID<span class="token punctuation">,</span> 
   USERNAME<span class="token punctuation">,</span> SQL_REDO <span class="token keyword">FROM</span> V$LOGMNR_CONTENTS <span class="token keyword">WHERE</span> USERNAME <span class="token operator">!=</span> <span class="token string">&#39;SYS&#39;</span> 
   <span class="token operator">AND</span> SEG_OWNER <span class="token operator">IS</span> <span class="token boolean">NULL</span> <span class="token operator">OR</span> SEG_OWNER <span class="token operator">NOT</span> <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token string">&#39;SYS&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;SYSTEM&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>输出如下。提交和未提交的事务都会返回，不同事务的行会交织在一起。</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code>XID         USERNAME  SQL_REDO

<span class="token number">1.15</span><span class="token number">.3045</span>   RON       <span class="token keyword">set</span> <span class="token keyword">transaction</span> <span class="token keyword">read</span> <span class="token keyword">write</span><span class="token punctuation">;</span>
<span class="token number">1.15</span><span class="token number">.3045</span>   RON       <span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token string">&quot;HR&quot;</span><span class="token punctuation">.</span><span class="token string">&quot;JOBS&quot;</span><span class="token punctuation">(</span><span class="token string">&quot;JOB_ID&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;JOB_TITLE&quot;</span><span class="token punctuation">,</span>
                      <span class="token string">&quot;MIN_SALARY&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;MAX_SALARY&quot;</span><span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">&#39;9782&#39;</span><span class="token punctuation">,</span>
                      <span class="token string">&#39;HR_ENTRY&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">1.18</span><span class="token number">.3046</span>   JANE      <span class="token keyword">set</span> <span class="token keyword">transaction</span> <span class="token keyword">read</span> <span class="token keyword">write</span><span class="token punctuation">;</span>
<span class="token number">1.18</span><span class="token number">.3046</span>   JANE      <span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token string">&quot;OE&quot;</span><span class="token punctuation">.</span><span class="token string">&quot;CUSTOMERS&quot;</span><span class="token punctuation">(</span><span class="token string">&quot;CUSTOMER_ID&quot;</span><span class="token punctuation">,</span>
                      <span class="token string">&quot;CUST_FIRST_NAME&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;CUST_LAST_NAME&quot;</span><span class="token punctuation">,</span>
                      <span class="token string">&quot;CUST_ADDRESS&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;PHONE_NUMBERS&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;NLS_LANGUAGE&quot;</span><span class="token punctuation">,</span>
                      <span class="token string">&quot;NLS_TERRITORY&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;CREDIT_LIMIT&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;CUST_EMAIL&quot;</span><span class="token punctuation">,</span>
                      <span class="token string">&quot;ACCOUNT_MGR_ID&quot;</span><span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">&#39;9839&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;Edgar&#39;</span><span class="token punctuation">,</span>
                      <span class="token string">&#39;Cummings&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span>
                       <span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">1.9</span><span class="token number">.3041</span>    RAJIV      <span class="token keyword">set</span> <span class="token keyword">transaction</span> <span class="token keyword">read</span> <span class="token keyword">write</span><span class="token punctuation">;</span>
<span class="token number">1.9</span><span class="token number">.3041</span>    RAJIV      <span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token string">&quot;OE&quot;</span><span class="token punctuation">.</span><span class="token string">&quot;CUSTOMERS&quot;</span><span class="token punctuation">(</span><span class="token string">&quot;CUSTOMER_ID&quot;</span><span class="token punctuation">,</span>
                       <span class="token string">&quot;CUST_FIRST_NAME&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;CUST_LAST_NAME&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;CUST_ADDRESS&quot;</span><span class="token punctuation">,</span>
                       <span class="token string">&quot;PHONE_NUMBERS&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;NLS_LANGUAGE&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;NLS_TERRITORY&quot;</span><span class="token punctuation">,</span>
                       <span class="token string">&quot;CREDIT_LIMIT&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;CUST_EMAIL&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;ACCOUNT_MGR_ID&quot;</span><span class="token punctuation">)</span> 
                       <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">&#39;9499&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;Rodney&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;Emerson&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span>
                       <span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">1.15</span><span class="token number">.3045</span>    RON       <span class="token keyword">commit</span><span class="token punctuation">;</span>
<span class="token number">1.8</span><span class="token number">.3054</span>     RON       <span class="token keyword">set</span> <span class="token keyword">transaction</span> <span class="token keyword">read</span> <span class="token keyword">write</span><span class="token punctuation">;</span>
<span class="token number">1.8</span><span class="token number">.3054</span>     RON       <span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token string">&quot;HR&quot;</span><span class="token punctuation">.</span><span class="token string">&quot;JOBS&quot;</span><span class="token punctuation">(</span><span class="token string">&quot;JOB_ID&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;JOB_TITLE&quot;</span><span class="token punctuation">,</span>
                       <span class="token string">&quot;MIN_SALARY&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;MAX_SALARY&quot;</span><span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">&#39;9566&#39;</span><span class="token punctuation">,</span>
                       <span class="token string">&#39;FI_ENTRY&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">1.18</span><span class="token number">.3046</span>    JANE      <span class="token keyword">commit</span><span class="token punctuation">;</span>
<span class="token number">1.11</span><span class="token number">.3047</span>    JANE      <span class="token keyword">set</span> <span class="token keyword">transaction</span> <span class="token keyword">read</span> <span class="token keyword">write</span><span class="token punctuation">;</span>
<span class="token number">1.11</span><span class="token number">.3047</span>    JANE      <span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token string">&quot;OE&quot;</span><span class="token punctuation">.</span><span class="token string">&quot;CUSTOMERS&quot;</span><span class="token punctuation">(</span><span class="token string">&quot;CUSTOMER_ID&quot;</span><span class="token punctuation">,</span>
                       <span class="token string">&quot;CUST_FIRST_NAME&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;CUST_LAST_NAME&quot;</span><span class="token punctuation">,</span>
                       <span class="token string">&quot;CUST_ADDRESS&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;PHONE_NUMBERS&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;NLS_LANGUAGE&quot;</span><span class="token punctuation">,</span>
                       <span class="token string">&quot;NLS_TERRITORY&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;CREDIT_LIMIT&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;CUST_EMAIL&quot;</span><span class="token punctuation">,</span>
                       <span class="token string">&quot;ACCOUNT_MGR_ID&quot;</span><span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">&#39;8933&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;Ronald&#39;</span><span class="token punctuation">,</span>
                       <span class="token string">&#39;Frost&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">1.11</span><span class="token number">.3047</span>    JANE      <span class="token keyword">commit</span><span class="token punctuation">;</span>
<span class="token number">1.8</span><span class="token number">.3054</span>     RON       <span class="token keyword">commit</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>现在假设您启动了LogMiner，但是这一次您指定了COMMITTED_DATA_ONLY选项。如果再次执行前面的查询，则输出如下:</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token number">1.15</span><span class="token number">.3045</span>   RON       <span class="token keyword">set</span> <span class="token keyword">transaction</span> <span class="token keyword">read</span> <span class="token keyword">write</span><span class="token punctuation">;</span>
<span class="token number">1.15</span><span class="token number">.3045</span>   RON       <span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token string">&quot;HR&quot;</span><span class="token punctuation">.</span><span class="token string">&quot;JOBS&quot;</span><span class="token punctuation">(</span><span class="token string">&quot;JOB_ID&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;JOB_TITLE&quot;</span><span class="token punctuation">,</span>
                      <span class="token string">&quot;MIN_SALARY&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;MAX_SALARY&quot;</span><span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">&#39;9782&#39;</span><span class="token punctuation">,</span>
                      <span class="token string">&#39;HR_ENTRY&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">1.15</span><span class="token number">.3045</span>    RON       <span class="token keyword">commit</span><span class="token punctuation">;</span>
<span class="token number">1.18</span><span class="token number">.3046</span>   JANE      <span class="token keyword">set</span> <span class="token keyword">transaction</span> <span class="token keyword">read</span> <span class="token keyword">write</span><span class="token punctuation">;</span>
<span class="token number">1.18</span><span class="token number">.3046</span>   JANE      <span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token string">&quot;OE&quot;</span><span class="token punctuation">.</span><span class="token string">&quot;CUSTOMERS&quot;</span><span class="token punctuation">(</span><span class="token string">&quot;CUSTOMER_ID&quot;</span><span class="token punctuation">,</span>
                      <span class="token string">&quot;CUST_FIRST_NAME&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;CUST_LAST_NAME&quot;</span><span class="token punctuation">,</span>
                      <span class="token string">&quot;CUST_ADDRESS&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;PHONE_NUMBERS&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;NLS_LANGUAGE&quot;</span><span class="token punctuation">,</span>
                      <span class="token string">&quot;NLS_TERRITORY&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;CREDIT_LIMIT&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;CUST_EMAIL&quot;</span><span class="token punctuation">,</span>
                      <span class="token string">&quot;ACCOUNT_MGR_ID&quot;</span><span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">&#39;9839&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;Edgar&#39;</span><span class="token punctuation">,</span>
                      <span class="token string">&#39;Cummings&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span>
                       <span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">1.18</span><span class="token number">.3046</span>    JANE      <span class="token keyword">commit</span><span class="token punctuation">;</span>
<span class="token number">1.11</span><span class="token number">.3047</span>    JANE      <span class="token keyword">set</span> <span class="token keyword">transaction</span> <span class="token keyword">read</span> <span class="token keyword">write</span><span class="token punctuation">;</span>
<span class="token number">1.11</span><span class="token number">.3047</span>    JANE      <span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token string">&quot;OE&quot;</span><span class="token punctuation">.</span><span class="token string">&quot;CUSTOMERS&quot;</span><span class="token punctuation">(</span><span class="token string">&quot;CUSTOMER_ID&quot;</span><span class="token punctuation">,</span>
                       <span class="token string">&quot;CUST_FIRST_NAME&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;CUST_LAST_NAME&quot;</span><span class="token punctuation">,</span>
                       <span class="token string">&quot;CUST_ADDRESS&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;PHONE_NUMBERS&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;NLS_LANGUAGE&quot;</span><span class="token punctuation">,</span>
                       <span class="token string">&quot;NLS_TERRITORY&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;CREDIT_LIMIT&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;CUST_EMAIL&quot;</span><span class="token punctuation">,</span>
                       <span class="token string">&quot;ACCOUNT_MGR_ID&quot;</span><span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">&#39;8933&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;Ronald&#39;</span><span class="token punctuation">,</span>
                       <span class="token string">&#39;Frost&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">1.11</span><span class="token number">.3047</span>    JANE      <span class="token keyword">commit</span><span class="token punctuation">;</span>
<span class="token number">1.8</span><span class="token number">.3054</span>     RON       <span class="token keyword">set</span> <span class="token keyword">transaction</span> <span class="token keyword">read</span> <span class="token keyword">write</span><span class="token punctuation">;</span>
<span class="token number">1.8</span><span class="token number">.3054</span>     RON       <span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token string">&quot;HR&quot;</span><span class="token punctuation">.</span><span class="token string">&quot;JOBS&quot;</span><span class="token punctuation">(</span><span class="token string">&quot;JOB_ID&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;JOB_TITLE&quot;</span><span class="token punctuation">,</span>
                       <span class="token string">&quot;MIN_SALARY&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;MAX_SALARY&quot;</span><span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">&#39;9566&#39;</span><span class="token punctuation">,</span>
                       <span class="token string">&#39;FI_ENTRY&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">1.8</span><span class="token number">.3054</span>     RON       <span class="token keyword">commit</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>因为1.15.3045事务的COMMIT语句是在1.18.3046事务的COMMIT语句之前发出的，所以整个1.15.3045事务首先返回。即使1.18.3046事务是在1.15.3045事务之前启动的，也是如此。因为没有为1.9.3041事务发出COMMIT语句，所以没有返回任何事务。</p><p>See Also:</p><p>See <a href="https://docs.oracle.com/en/database/oracle/oracle-database/19/sutil/oracle-logminer-utility.html#GUID-40619B3B-8BDF-4D90-B924-5A0F8A631F98" title="Examples using LogMiner." target="_blank" rel="noopener noreferrer">Examples Using LogMiner<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> for a complete example that uses the <code>COMMITTED_DATA_ONLY</code> option</p><h3 id="skipping-redo-corruptions" tabindex="-1"><a class="header-anchor" href="#skipping-redo-corruptions" aria-hidden="true">#</a> Skipping Redo Corruptions</h3><p>当您将SKIP_CORRUPTION选项用于DBMS_LOGMNR时。START_LOGMNR，在<code>V$LOGMNR_CONTENTS</code>视图的选择操作期间，将跳过重做日志文件中的任何损坏。</p><p>对于遇到的每个损坏的重做记录，都会返回一行，其中包含OPERATION列中的值ted_blocks、STATUS列中的1343和INFO列中跳过的块的数量。</p><p>请注意，跳过的记录可能包括对已损坏块中正在进行的事务的更改;这些更改不会反映在<code>V$LOGMNR_CONTENTS</code>视图返回的数据中。</p><p>默认情况下，select操作在重做日志文件中遇到第一个损坏时终止。</p><p>下面的SQL示例演示了这个选项的工作方式:</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- Add redo log files of interest.</span>
<span class="token comment">--</span>
<span class="token keyword">EXECUTE</span> DBMS_LOGMNR<span class="token punctuation">.</span>ADD_LOGFILE<span class="token punctuation">(</span><span class="token operator">-</span>
   logfilename <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">&#39;/usr/oracle/data/db1arch_1_16_482701534.log&#39;</span> <span class="token operator">-</span>
   options <span class="token operator">=</span><span class="token operator">&gt;</span> DBMS_LOGMNR<span class="token punctuation">.</span>NEW<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- Start LogMiner</span>
<span class="token comment">--</span>
<span class="token keyword">EXECUTE</span> DBMS_LOGMNR<span class="token punctuation">.</span>START_LOGMNR<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- Select from the V$LOGMNR_CONTENTS view. This example shows corruptions are -- in the redo log files.</span>
<span class="token comment">-- </span>
<span class="token keyword">SELECT</span> rbasqn<span class="token punctuation">,</span> rbablk<span class="token punctuation">,</span> rbabyte<span class="token punctuation">,</span> operation<span class="token punctuation">,</span> <span class="token keyword">status</span><span class="token punctuation">,</span> info 
   <span class="token keyword">FROM</span> V$LOGMNR_CONTENTS<span class="token punctuation">;</span>

ERROR at line <span class="token number">3</span>:
ORA<span class="token operator">-</span><span class="token number">00368</span>: checksum error <span class="token operator">in</span> redo log block 
ORA<span class="token operator">-</span><span class="token number">00353</span>: log corruption near block <span class="token number">6</span> change <span class="token number">73528</span> <span class="token keyword">time</span> <span class="token number">11</span><span class="token operator">/</span><span class="token number">06</span><span class="token operator">/</span><span class="token number">2011</span> <span class="token number">11</span>:<span class="token number">30</span>:<span class="token number">23</span> 
ORA<span class="token operator">-</span><span class="token number">00334</span>: archived log: <span class="token operator">/</span>usr<span class="token operator">/</span>oracle<span class="token operator">/</span><span class="token keyword">data</span><span class="token operator">/</span>dbarch1_16_482701534<span class="token punctuation">.</span>log

<span class="token comment">-- Restart LogMiner. This time, specify the SKIP_CORRUPTION option.</span>
<span class="token comment">-- </span>
<span class="token keyword">EXECUTE</span> DBMS_LOGMNR<span class="token punctuation">.</span>START_LOGMNR<span class="token punctuation">(</span><span class="token operator">-</span>
   options <span class="token operator">=</span><span class="token operator">&gt;</span> DBMS_LOGMNR<span class="token punctuation">.</span>SKIP_CORRUPTION<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- Select from the V$LOGMNR_CONTENTS view again. The output indicates that </span>
<span class="token comment">-- corrupted blocks were skipped: CORRUPTED_BLOCKS is in the OPERATION </span>
<span class="token comment">-- column, 1343 is in the STATUS column, and the number of corrupt blocks </span>
<span class="token comment">-- skipped is in the INFO column.</span>
<span class="token comment">--</span>
<span class="token keyword">SELECT</span> rbasqn<span class="token punctuation">,</span> rbablk<span class="token punctuation">,</span> rbabyte<span class="token punctuation">,</span> operation<span class="token punctuation">,</span> <span class="token keyword">status</span><span class="token punctuation">,</span> info 
   <span class="token keyword">FROM</span> V$LOGMNR_CONTENTS<span class="token punctuation">;</span>

RBASQN  RBABLK RBABYTE  OPERATION        <span class="token keyword">STATUS</span>  INFO
<span class="token number">13</span>      <span class="token number">2</span>        <span class="token number">76</span>     <span class="token keyword">START</span>              <span class="token number">0</span>
<span class="token number">13</span>      <span class="token number">2</span>        <span class="token number">76</span>     <span class="token keyword">DELETE</span>             <span class="token number">0</span>
<span class="token number">13</span>      <span class="token number">3</span>       <span class="token number">100</span>     INTERNAL           <span class="token number">0</span>
<span class="token number">13</span>      <span class="token number">3</span>       <span class="token number">380</span>     <span class="token keyword">DELETE</span>             <span class="token number">0</span>
<span class="token number">13</span>      <span class="token number">0</span>         <span class="token number">0</span>     CORRUPTED_BLOCKS   <span class="token number">1343</span>  corrupt blocks <span class="token number">4</span> <span class="token keyword">to</span> <span class="token number">19</span> skipped
<span class="token number">13</span>      <span class="token number">20</span>      <span class="token number">116</span>     <span class="token keyword">UPDATE</span>             <span class="token number">0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="filtering-data-by-time" tabindex="-1"><a class="header-anchor" href="#filtering-data-by-time" aria-hidden="true">#</a> Filtering Data by Time</h3><p>要按时间过滤数据，请在DBMS_LOGMNR.START_LOGMNR过程中设置STARTTIME和ENDTIME参数。</p><p>为了避免在调用PL/SQL DBMS_LOGMNR时指定日期格式。START_LOGMNR过程中，可以首先使用SQL ALTER SESSION SET NLS_DATE_FORMAT语句，如下面的示例所示。</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">SESSION</span> <span class="token keyword">SET</span> NLS_DATE_FORMAT <span class="token operator">=</span> <span class="token string">&#39;DD-MON-YYYY HH24:MI:SS&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">EXECUTE</span> DBMS_LOGMNR<span class="token punctuation">.</span>START_LOGMNR<span class="token punctuation">(</span> <span class="token operator">-</span>
   DICTFILENAME <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">&#39;/oracle/database/dictionary.ora&#39;</span><span class="token punctuation">,</span> <span class="token operator">-</span>
   STARTTIME <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">&#39;01-Jan-2012 08:30:00&#39;</span><span class="token punctuation">,</span> <span class="token operator">-</span>
   ENDTIME <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">&#39;01-Jan-2012 08:45:00&#39;</span><span class="token operator">-</span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>不应该使用时间戳来推断重做记录的顺序。您可以使用SCN来推断重做记录的顺序。</p><h3 id="filtering-data-by-scn" tabindex="-1"><a class="header-anchor" href="#filtering-data-by-scn" aria-hidden="true">#</a> Filtering Data by SCN</h3><p>要根据SCN(系统更改号)过滤数据，请使用PL/SQL DBMS_LOGMNR的STARTSCN和ENDSCN参数。START_LOGMNR过程。例如：</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">EXECUTE</span> DBMS_LOGMNR<span class="token punctuation">.</span>START_LOGMNR<span class="token punctuation">(</span><span class="token operator">-</span>
    STARTSCN <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">621047</span><span class="token punctuation">,</span> <span class="token operator">-</span>
    ENDSCN   <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">625695</span><span class="token punctuation">,</span> <span class="token operator">-</span>
    OPTIONS  <span class="token operator">=</span><span class="token operator">&gt;</span> DBMS_LOGMNR<span class="token punctuation">.</span>DICT_FROM_ONLINE_CATALOG <span class="token operator">+</span> <span class="token operator">-</span>
                <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在指定所有参数的情况下，STARTSCN和ENDSCN参数会覆盖STARTTIME和ENDTIME参数。</p><h3 id="formatting-reconstructed-sql-statements-for-re-execution" tabindex="-1"><a class="header-anchor" href="#formatting-reconstructed-sql-statements-for-re-execution" aria-hidden="true">#</a> Formatting Reconstructed SQL Statements for Re-execution</h3><p>默认情况下，重构的SQL_REDO和SQL_UNDO语句中包含一个ROWID子句，这些语句以分号结束。</p><p>但是，您可以覆盖默认设置，如下所示:</p><ul><li><p>在启动LogMiner时指定NO_ROWID_IN_STMT选项。 这将ROWID子句排除在重构语句之外。由于数据库之间的行id不一致，如果您打算针对不同于最初执行它们的数据库重新执行SQL_REDO或SQL_UNDO语句，那么在启动LogMiner时指定NO_ROWID_IN_STMT选项。</p></li><li><p>在启动LogMiner时指定NO_SQL_DELIMITER选项。这将从重构语句中取消分号。这对于打开游标然后执行重构语句的应用程序很有帮助。</p></li></ul><p>注意，如果<code>V$LOGMNR_CONTENTS</code>视图的STATUS字段值为2(无效sql)，则无法执行关联的sql语句。</p><h3 id="formatting-the-appearance-of-returned-data-for-readability" tabindex="-1"><a class="header-anchor" href="#formatting-the-appearance-of-returned-data-for-readability" aria-hidden="true">#</a> Formatting the Appearance of Returned Data for Readability</h3><p>LogMiner提供PRINT_PRETTY_SQL选项，用于格式化返回数据的外观，以提高可读性。</p><p>有时候，一个查询可能会导致包含重构SQL语句的大量列，这些语句在视觉上很繁忙，很难阅读。LogMiner提供PRINT_PRETTY_SQL选项来解决这个问题。DBMS_LOGMNR的PRINT_PRETTY_SQL选项。START_LOGMNR过程将重建的SQL语句格式化如下，使其更易于阅读:</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token string">&quot;HR&quot;</span><span class="token punctuation">.</span><span class="token string">&quot;JOBS&quot;</span>
 <span class="token keyword">values</span>
    <span class="token string">&quot;JOB_ID&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;9782&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;JOB_TITLE&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;HR_ENTRY&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;MIN_SALARY&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;MAX_SALARY&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>
  <span class="token keyword">update</span> <span class="token string">&quot;HR&quot;</span><span class="token punctuation">.</span><span class="token string">&quot;JOBS&quot;</span>
  <span class="token keyword">set</span>
    <span class="token string">&quot;JOB_TITLE&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;FI_ENTRY&#39;</span>
  <span class="token keyword">where</span>
    <span class="token string">&quot;JOB_TITLE&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;HR_ENTRY&#39;</span> <span class="token operator">and</span>
    ROWID <span class="token operator">=</span> <span class="token string">&#39;AAAHSeAABAAAY+CAAX&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">update</span> <span class="token string">&quot;HR&quot;</span><span class="token punctuation">.</span><span class="token string">&quot;JOBS&quot;</span>
  <span class="token keyword">set</span>
    <span class="token string">&quot;JOB_TITLE&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;FI_ENTRY&#39;</span>
  <span class="token keyword">where</span>
    <span class="token string">&quot;JOB_TITLE&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;HR_ENTRY&#39;</span> <span class="token operator">and</span>
    ROWID <span class="token operator">=</span> <span class="token string">&#39;AAAHSeAABAAAY+CAAX&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">delete</span> <span class="token keyword">from</span> <span class="token string">&quot;HR&quot;</span><span class="token punctuation">.</span><span class="token string">&quot;JOBS&quot;</span>
 <span class="token keyword">where</span>
    <span class="token string">&quot;JOB_ID&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;9782&#39;</span> <span class="token operator">and</span>
    <span class="token string">&quot;JOB_TITLE&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;FI_ENTRY&#39;</span> <span class="token operator">and</span>
    <span class="token string">&quot;MIN_SALARY&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span> <span class="token operator">and</span>
    <span class="token string">&quot;MAX_SALARY&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span> <span class="token operator">and</span>
    ROWID <span class="token operator">=</span> <span class="token string">&#39;AAAHSeAABAAAY+CAAX&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>当启用PRINT_PRETTY_SQL选项时重建的SQL语句是不可执行的，因为它们不使用标准的SQL语法。</p><h2 id="reapplying-ddl-statements-returned-to-v-logmnr-contents" tabindex="-1"><a class="header-anchor" href="#reapplying-ddl-statements-returned-to-v-logmnr-contents" aria-hidden="true">#</a> Reapplying DDL Statements Returned to V$LOGMNR_CONTENTS</h2><p>您发出的一些DDL语句会导致Oracle在内部执行一个或多个其他DDL语句。</p><p>要从<code>V$LOGMNR_CONTENTS</code>视图的SQL_REDO或SQL_UNDO列重新应用最初应用于数据库的SQL DDL，请不要执行Oracle内部执行的语句。</p><p>Note:</p><p>If you execute DML statements that were executed internally by Oracle, then you may corrupt your database. See Step 5 of <a href="https://docs.oracle.com/en/database/oracle/oracle-database/19/sutil/oracle-logminer-utility.html#GUID-90944343-46BB-4BD5-A0C6-7A4B79D9BEF0" target="_blank" rel="noopener noreferrer">Example 4: Using the LogMiner Dictionary in the Redo Log Files<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> for an example.</p><p>要区分用户发出的DDL语句和Oracle内部发出的DDL语句，请查询<code>V$LOGMNR_CONTENTS</code>的INFO列。INFO列的值指示DDL是由用户执行还是由Oracle执行。</p><h2 id="calling-dbms-logmnr-start-logmnr-multiple-times" tabindex="-1"><a class="header-anchor" href="#calling-dbms-logmnr-start-logmnr-multiple-times" aria-hidden="true">#</a> Calling DBMS_LOGMNR.START_LOGMNR Multiple Times</h2><p>即使您已经成功地调用了DBMS_LOGMNR.START_LOGMNR并从<code>V$LOGMNR_CONTENTS</code>视图中开始查询。你也能够再次以不同的参数配置调用START_LOGMNR切仍然不结束当前LogMiner会话。下面列出了你可能想要这样做的原因:</p><ul><li>您希望限制LogMiner必须分析的重做数据的数量。</li><li>您希望指定不同的选项。例如，您可能决定指定PRINT_PRETTY_SQL选项，或者只希望看到提交的事务(因此您可以指定COMMITTED_DATA_ONLY选项)。</li><li>您希望更改要分析的时间或SCN范围。</li></ul><p>Examples: Calling DBMS_LOGMNR.START_LOGMNR Multiple Times</p><p>The following are some examples of when it could be useful to call<code> DBMS_LOGMNR.START_LOGMNR</code> multiple times.</p><p>Example 1: Mining Only a Subset of the Data in the Redo Log Files</p><p>Suppose the list of redo log files that LogMiner has to mine include those generated for an entire week. However, you want to analyze only what happened from 12:00 to 1:00 each day. You could do this most efficiently by:</p><ol><li><p>Calling <code>DBMS_LOGMNR.START_LOGMNR</code> with this time range for Monday.</p></li><li><p>Selecting changes from the <code>V$LOGMNR_CONTENTS</code> view.</p></li><li><p>Repeating Steps 1 and 2 for each day of the week.</p></li></ol><p>If the total amount of redo data is large for the week, then this method would make the whole analysis much faster, because only a small subset of each redo log file in the list would be read by LogMiner.</p><p>Example 2: Adjusting the Time Range or SCN Range</p><p>Suppose you specify a redo log file list and specify a time (or SCN) range when you start LogMiner. When you query the <code>V$LOGMNR_CONTENTS</code> view, you find that only part of the data of interest is included in the time range you specified. You can call <code>DBMS_LOGMNR.START_LOGMNR</code> again to expand the time range by an hour (or adjust the SCN range).</p><p>Example 3: Analyzing Redo Log Files As They Arrive at a Remote Database</p><p>Suppose you have written an application to analyze changes or to replicate changes from one database to another database. The source database sends its redo log files to the mining database and drops them into an operating system directory. Your application:</p><ol><li><p>Adds all redo log files currently in the directory to the redo log file list</p></li><li><p>Calls <code>DBMS_LOGMNR.START_LOGMNR</code> with appropriate settings and selects from the <code>V$LOGMNR_CONTENTS</code> view</p></li><li><p>Adds additional redo log files that have newly arrived in the directory</p></li><li><p>Repeats Steps 2 and 3, indefinitely</p></li></ol><h2 id="supplemental-logging" tabindex="-1"><a class="header-anchor" href="#supplemental-logging" aria-hidden="true">#</a> Supplemental Logging</h2><p>描述补充日志记录。</p><p>重做日志文件通常用于实例恢复和媒体恢复。这些操作所需的数据自动记录在重做日志文件中。但是，基于恢复的应用程序可能需要在重做日志文件中记录其他列。记录这些附加列的过程称为辅助日志记录。</p><p>默认情况下，Oracle数据库不提供任何补充日志记录，这意味着在默认情况下LogMiner不可用。因此，在生成将由LogMiner分析的日志文件之前，必须至少启用最少的补充日志记录。</p><p>以下是可能需要增加列的例子：</p><ul><li><p>将重新构造的SQL语句应用于不同数据库的应用程序必须通过一组列来标识update语句，这些列要是唯一地标识行(例如，主键)，不是由<code>V$LOGMNR_CONTENTS</code>视图返回的重构SQL中显示的ROWID，因为不同数据库的ROWID是不同的，因此在另一个数据库中没有意义。</p></li><li><p>应用程序可能要求记录整个行的前映像，而不只是记录修改后的列，以便更有效地跟踪行更改。</p></li></ul><p>补充日志组是启用补充日志记录时要记录的一组附加列。有两种类型的补充日志组，它们决定了日志组中的列何时被记录:</p><ul><li>Unconditional supplemental log groups:无论更新是否影响任何指定列，在更新行时都会记录指定列的前映像。这有时被称为总是日志组。</li><li>Conditional supplemental log groups: 只有更新日志组中的至少一列时，才会记录所有指定列的前映像。</li></ul><p>补充日志组可以由系统生成，也可以由用户定义。</p><h3 id="database-level-supplemental-logging" tabindex="-1"><a class="header-anchor" href="#database-level-supplemental-logging" aria-hidden="true">#</a> Database-Level Supplemental Logging</h3><p>LogMiner提供不同类型的数据库级补充日志记录:最小补充日志记录、标识键日志记录和过程性补充日志记录，如本部分所述。</p><p>最小的补充日志记录不会给生成重做日志文件的数据库带来很大的开销。但是，启用数据库范围的标识键日志记录会给生成重做日志文件的数据库带来开销。Oracle建议您至少为LogMiner启用最低限度的补充日志记录。</p><h4 id="minimal-supplemental-logging" tabindex="-1"><a class="header-anchor" href="#minimal-supplemental-logging" aria-hidden="true">#</a> Minimal Supplemental Logging</h4><p>最低限度的补充日志记录LogMiner识别、分组和合并与DML更改相关的重做操作所需的最低限度的信息。</p><p>它确保LogMiner(以及任何基于LogMiner技术的产品)有足够的信息来支持链式行和各种存储安排，比如集群表和索引组织的表。要启用最小的辅助日志记录，请执行以下SQL语句:</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">DATABASE</span> <span class="token keyword">ADD</span> SUPPLEMENTAL LOG <span class="token keyword">DATA</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="database-level-identification-key-logging" tabindex="-1"><a class="header-anchor" href="#database-level-identification-key-logging" aria-hidden="true">#</a> Database-Level Identification Key Logging</h4><p>当源数据库实例上不会挖掘重做日志文件时(例如，当在逻辑备用数据库上挖掘重做日志文件时)，标识键日志记录是必要的。</p><p>使用数据库标识键日志记录，您可以通过为SQL ALTER database ADD additional LOG语句指定以下一个或多个选项来为所有更新启用数据库范围的before-image日志记录:</p><ul><li><p>这个选项指定当更新一行时，该行的所有列(lob、long和adt除外)都放在重做日志文件中。要启用数据库级别的所有列日志记录，请执行以下语句:这个选项指定当更新一行时，该行的所有列(lob、long和adt除外)都放在重做日志文件中。要启用数据库级别的所有列日志记录，请执行以下语句:</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code>   <span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">ALTER</span> <span class="token keyword">DATABASE</span> <span class="token keyword">ADD</span> SUPPLEMENTAL LOG <span class="token keyword">DATA</span> <span class="token punctuation">(</span><span class="token keyword">ALL</span><span class="token punctuation">)</span> <span class="token keyword">COLUMNS</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>主密钥系统生成的无条件补充日志组 此选项使数据库在更新包含主键的行(即使主键中的值没有改变)时，将行主键的所有列放在重做日志文件中。 如果一个表没有主键，但是有一个或多个非空惟一索引键约束或索引键，那么将选择其中一个惟一索引键进行日志记录，作为惟一标识更新行的一种方法。 如果表既没有主键也没有非空的惟一索引键，那么除了LONG和LOB之外的所有列都被记录;这相当于为该行指定所有补充日志记录。因此，Oracle建议在使用数据库级主键补充日志记录时，将所有或大多数表定义为具有主键或惟一索引键。 若要在数据库级别启用主键日志记录，请执行以下语句:</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">ALTER</span> <span class="token keyword">DATABASE</span> <span class="token keyword">ADD</span> SUPPLEMENTAL LOG <span class="token keyword">DATA</span> <span class="token punctuation">(</span><span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">)</span> <span class="token keyword">COLUMNS</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>如果属于复合唯一键或位图索引的任何列被修改，则此选项会导致数据库将行的复合唯一键或位图索引的所有列放在重做日志文件中。惟一键可以由惟一约束或惟一索引决定。要在数据库级别启用唯一索引键和位图索引日志记录，请执行以下语句:</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">ALTER</span> <span class="token keyword">DATABASE</span> <span class="token keyword">ADD</span> SUPPLEMENTAL LOG <span class="token keyword">DATA</span> <span class="token punctuation">(</span><span class="token keyword">UNIQUE</span><span class="token punctuation">)</span> <span class="token keyword">COLUMNS</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>外键系统生成的条件补充日志groupThis选项使数据库在任何属于外键的列被修改时将行外键的所有列放在重做日志文件中。要在数据库级别启用外键日志记录，请执行以下SQL语句:</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">DATABASE</span> <span class="token keyword">ADD</span> SUPPLEMENTAL LOG <span class="token keyword">DATA</span> <span class="token punctuation">(</span><span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span><span class="token punctuation">)</span> <span class="token keyword">COLUMNS</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul><p>Note:</p><p>Regardless of whether identification key logging is enabled, the SQL statements returned by LogMiner always contain the <code>ROWID</code> clause. You can filter out the <code>ROWID</code> clause by using the <code>NO_ROWID_IN_STMT</code> option to the <code>DBMS_LOGMNR.START_LOGMNR</code> procedure call. See <a href="https://docs.oracle.com/en/database/oracle/oracle-database/19/sutil/oracle-logminer-utility.html#GUID-C2B8C741-9544-4A46-818E-16B233570599" title="By default, a ROWID clause is included in the reconstructed SQL_REDO and SQL_UNDO statements and the statements are ended with a semicolon." target="_blank" rel="noopener noreferrer">Formatting Reconstructed SQL Statements for Re-execution<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> for details.</p><p>当您使用识别键记录时，请记住以下几点:</p><ul><li>如果启用标识键记录时数据库处于打开状态，那么游标缓存中的所有DML游标都将无效。这会影响性能，直到重新填充游标缓存。</li><li>当您在数据库级别启用标识键日志记录时，将隐式启用最低限度的补充日志记录。</li><li>补充的日志语句是累积的。如果您发出以下SQL语句，那么主键和唯一键补充日志记录都是启用的:<div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">DATABASE</span> <span class="token keyword">ADD</span> SUPPLEMENTAL LOG <span class="token keyword">DATA</span> <span class="token punctuation">(</span><span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">)</span> <span class="token keyword">COLUMNS</span><span class="token punctuation">;</span>

<span class="token keyword">ALTER</span> <span class="token keyword">DATABASE</span> <span class="token keyword">ADD</span> SUPPLEMENTAL LOG <span class="token keyword">DATA</span> <span class="token punctuation">(</span><span class="token keyword">UNIQUE</span><span class="token punctuation">)</span> <span class="token keyword">COLUMNS</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><p>要重新应用最初应用的SQL DDL，重新执行<code>V$LOGMNR_CONTENTS</code>INFO列包含USER_DDL值的SQL_REDO或SQL_UNDO列中包含的DDL SQL。</p><h4 id="procedural-supplemental-logging" tabindex="-1"><a class="header-anchor" href="#procedural-supplemental-logging" aria-hidden="true">#</a> Procedural Supplemental Logging</h4><p>过程性补充日志记录会导致LogMiner记录某些过程性调用来重做，以便通过滚动升级或Oracle GoldenGate来复制它们。</p><p>对于滚动升级和Oracle GoldenGate必须启用过程性补充日志记录，以支持复制AQ队列表、启用分层结构的表以及具有SDO_TOPO_GEOMETRY或SDO_GEORASTER列的表。使用以下SQL语句来启用过程性补充日志记录:</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">DATABASE</span> <span class="token keyword">ADD</span> SUPPLEMENTAL LOG <span class="token keyword">DATA</span> <span class="token keyword">FOR</span> PROCEDURAL <span class="token keyword">REPLICATION</span> <span class="token keyword">END</span> SUBHEADING
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>如果启用了过程性补充日志记录，则除非首先删除过程性补充日志记录，否则无法删除最低限度的补充日志记录。</p><h3 id="disabling-database-level-supplemental-logging" tabindex="-1"><a class="header-anchor" href="#disabling-database-level-supplemental-logging" aria-hidden="true">#</a> Disabling Database-Level Supplemental Logging</h3><p>使用带有DROP补充日志子句的SQL ALTER DATABASE语句禁用数据库级补充日志记录。</p><p>您可以增量地删除附加的日志属性。例如，假设您按以下顺序发出以下SQL语句:</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">DATABASE</span> <span class="token keyword">ADD</span> SUPPLEMENTAL LOG <span class="token keyword">DATA</span> <span class="token punctuation">(</span><span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">)</span> <span class="token keyword">COLUMNS</span><span class="token punctuation">;</span>
<span class="token keyword">ALTER</span> <span class="token keyword">DATABASE</span> <span class="token keyword">ADD</span> SUPPLEMENTAL LOG <span class="token keyword">DATA</span> <span class="token punctuation">(</span><span class="token keyword">UNIQUE</span><span class="token punctuation">)</span> <span class="token keyword">COLUMNS</span><span class="token punctuation">;</span>
<span class="token keyword">ALTER</span> <span class="token keyword">DATABASE</span> <span class="token keyword">DROP</span> SUPPLEMENTAL LOG <span class="token keyword">DATA</span> <span class="token punctuation">(</span><span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">)</span> <span class="token keyword">COLUMNS</span><span class="token punctuation">;</span>
<span class="token keyword">ALTER</span> <span class="token keyword">DATABASE</span> <span class="token keyword">DROP</span> SUPPLEMENTAL LOG <span class="token keyword">DATA</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这些声明将产生下列影响:</p><ul><li><p>在第一个语句之后，启用主键补充日志记录。</p></li><li><p>在第二个语句之后，将启用主键和惟一键补充日志记录。</p></li><li><p>在第三条语句之后，只启用惟一的键补充日志记录。</p></li><li><p>在第四个语句之后，没有禁用所有补充日志记录。返回以下错误: <code>ORA-32589: unable to drop minimal supplemental logging</code>.</p></li></ul><p>要禁用所有数据库补充日志记录，必须首先禁用已启用的任何标识键日志记录，然后禁用最小补充日志记录。下面的例子显示了正确的顺序:</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">DATABASE</span> <span class="token keyword">ADD</span> SUPPLEMENTAL LOG <span class="token keyword">DATA</span> <span class="token punctuation">(</span><span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">)</span> <span class="token keyword">COLUMNS</span><span class="token punctuation">;</span>
<span class="token keyword">ALTER</span> <span class="token keyword">DATABASE</span> <span class="token keyword">ADD</span> SUPPLEMENTAL LOG <span class="token keyword">DATA</span> <span class="token punctuation">(</span><span class="token keyword">UNIQUE</span><span class="token punctuation">)</span> <span class="token keyword">COLUMNS</span><span class="token punctuation">;</span>
<span class="token keyword">ALTER</span> <span class="token keyword">DATABASE</span> <span class="token keyword">DROP</span> SUPPLEMENTAL LOG <span class="token keyword">DATA</span> <span class="token punctuation">(</span><span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">)</span> <span class="token keyword">COLUMNS</span><span class="token punctuation">;</span>
<span class="token keyword">ALTER</span> <span class="token keyword">DATABASE</span> <span class="token keyword">DROP</span> SUPPLEMENTAL LOG <span class="token keyword">DATA</span> <span class="token punctuation">(</span><span class="token keyword">UNIQUE</span><span class="token punctuation">)</span> <span class="token keyword">COLUMNS</span><span class="token punctuation">;</span>
<span class="token keyword">ALTER</span> <span class="token keyword">DATABASE</span> <span class="token keyword">DROP</span> SUPPLEMENTAL LOG <span class="token keyword">DATA</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>只有在不启用数据库级补充日志记录的其他变体的情况下，才允许删除最小的补充日志数据。</p><h3 id="table-level-supplemental-logging" tabindex="-1"><a class="header-anchor" href="#table-level-supplemental-logging" aria-hidden="true">#</a> Table-Level Supplemental Logging</h3><p>（表级别的一般就不关心了，就不逐一分析了） 在表级，级别的补充日志指定哪些列将被补充到日志中。</p><h4 id="table-level-identification-key-logging" tabindex="-1"><a class="header-anchor" href="#table-level-identification-key-logging" aria-hidden="true">#</a> Table-Level Identification Key Logging</h4><p>Identification key logging at the table level offers the same options as those provided at the database level: all, primary key, foreign key, and unique key.</p><p>However, when you specify identification key logging at the table level, only the specified table is affected. For example, if you enter the following SQL statement (specifying database-level supplemental logging), then whenever a column in any database table is changed, the entire row containing that column (except columns for LOBs, <code>LONG</code>s, and <code>ADT</code>s) will be placed in the redo log file:</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">DATABASE</span> <span class="token keyword">ADD</span> SUPPLEMENTAL LOG <span class="token keyword">DATA</span> <span class="token punctuation">(</span><span class="token keyword">ALL</span><span class="token punctuation">)</span> <span class="token keyword">COLUMNS</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>However, if you enter the following SQL statement (specifying table-level supplemental logging) instead, then only when a column in the <code>employees</code> table is changed will the entire row (except for LOB, <code>LONG</code>s, and <code>ADT</code>s) of the table be placed in the redo log file. If a column changes in the <code>departments</code> table, then only the changed column will be placed in the redo log file.</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> HR<span class="token punctuation">.</span>EMPLOYEES <span class="token keyword">ADD</span> SUPPLEMENTAL LOG <span class="token keyword">DATA</span> <span class="token punctuation">(</span><span class="token keyword">ALL</span><span class="token punctuation">)</span> <span class="token keyword">COLUMNS</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Keep the following in mind when you use table-level identification key logging:</p><ul><li><p>If the database is open when you enable identification key logging on a table, then all DML cursors for that table in the cursor cache are invalidated. This can affect performance until the cursor cache is repopulated.</p></li><li><p>Supplemental logging statements are cumulative. If you issue the following SQL statements, then both primary key and unique index key table-level supplemental logging is enabled:</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> HR<span class="token punctuation">.</span>EMPLOYEES 
  <span class="token keyword">ADD</span> SUPPLEMENTAL LOG <span class="token keyword">DATA</span> <span class="token punctuation">(</span><span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">)</span> <span class="token keyword">COLUMNS</span><span class="token punctuation">;</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> HR<span class="token punctuation">.</span>EMPLOYEES 
  <span class="token keyword">ADD</span> SUPPLEMENTAL LOG <span class="token keyword">DATA</span> <span class="token punctuation">(</span><span class="token keyword">UNIQUE</span><span class="token punctuation">)</span> <span class="token keyword">COLUMNS</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><p>See <a href="https://docs.oracle.com/en/database/oracle/oracle-database/19/sutil/oracle-logminer-utility.html#GUID-E3E015C4-B0EB-4072-92A6-FD3079C68242" title="Identification key logging is necessary when redo log files will not be mined at the source database instance, for example, when the redo log files will be mined at a logical standby database." target="_blank" rel="noopener noreferrer">Database-Level Identification Key Logging<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> for a description of each of the identification key logging options.</p><h4 id="table-level-user-defined-supplemental-log-groups" tabindex="-1"><a class="header-anchor" href="#table-level-user-defined-supplemental-log-groups" aria-hidden="true">#</a> Table-Level User-Defined Supplemental Log Groups</h4><p>In addition to table-level identification key logging, Oracle supports user-defined supplemental log groups.</p><p>With user-defined supplemental log groups, you can specify which columns are supplementally logged. You can specify conditional or unconditional log groups, as follows:</p><ul><li><p>User-defined unconditional log groups</p><p>To enable supplemental logging that uses user-defined unconditional log groups, use the <code>ALWAYS</code> clause as shown in the following example:</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> HR<span class="token punctuation">.</span>EMPLOYEES
   <span class="token keyword">ADD</span> SUPPLEMENTAL LOG <span class="token keyword">GROUP</span> emp_parttime <span class="token punctuation">(</span>EMPLOYEE_ID<span class="token punctuation">,</span> LAST_NAME<span class="token punctuation">,</span> 
   DEPARTMENT_ID<span class="token punctuation">)</span> ALWAYS<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This creates a log group named <code>emp_parttime</code> on the <code>hr.employees</code> table that consists of the columns <code>employee_id</code>, <code>last_name</code>, and <code>department_id</code>. These columns are logged every time an <code>UPDATE</code> statement is executed on the <code>hr.employees</code> table, regardless of whether the update affected these columns. (To have the entire row image logged any time an update is made, use table-level <code>ALL</code> identification key logging, as described previously).</p><p>Note:</p><p>LOB, <code>LONG</code>, and <code>ADT</code> columns cannot be supplementally logged.</p></li><li><p>User-defined conditional supplemental log groups</p><p>To enable supplemental logging that uses user-defined conditional log groups, omit the <code>ALWAYS</code> clause from the SQL <code>ALTER</code> <code>TABLE</code> statement, as shown in the following example:</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> HR<span class="token punctuation">.</span>EMPLOYEES
   <span class="token keyword">ADD</span> SUPPLEMENTAL LOG <span class="token keyword">GROUP</span> emp_fulltime <span class="token punctuation">(</span>EMPLOYEE_ID<span class="token punctuation">,</span> LAST_NAME<span class="token punctuation">,</span> 
   DEPARTMENT_ID<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This creates a log group named <code>emp_fulltime</code> on table <code>hr.employees</code>. As in the previous example, it consists of the columns <code>employee_id</code>, <code>last_name</code>, and <code>department_id</code>. But because the <code>ALWAYS</code> clause was omitted, before-images of the columns are logged only if at least one of the columns is updated.</p></li></ul><p>For both unconditional and conditional user-defined supplemental log groups, you can explicitly specify that a column in the log group be excluded from supplemental logging by specifying the <code>NO LOG</code> option. When you specify a log group and use the <code>NO LOG</code> option, you must specify at least one column in the log group without the <code>NO LOG</code> option, as shown in the following example:</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> HR<span class="token punctuation">.</span>EMPLOYEES
   <span class="token keyword">ADD</span> SUPPLEMENTAL LOG <span class="token keyword">GROUP</span> emp_parttime<span class="token punctuation">(</span>
   DEPARTMENT_ID <span class="token keyword">NO</span> LOG<span class="token punctuation">,</span> EMPLOYEE_ID<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>This enables you to associate this column with other columns in the named supplemental log group such that any modification to the <code>NO LOG</code> column causes the other columns in the supplemental log group to be placed in the redo log file. This might be useful, for example, for logging certain columns in a group if a <code>LONG</code> column changes. You cannot supplementally log the <code>LONG</code> column itself; however, you can use changes to that column to trigger supplemental logging of other columns in the same row.</p><h4 id="usage-notes-for-user-defined-supplemental-log-groups" tabindex="-1"><a class="header-anchor" href="#usage-notes-for-user-defined-supplemental-log-groups" aria-hidden="true">#</a> Usage Notes for User-Defined Supplemental Log Groups</h4><p>Hints for using user-defined supplemental log groups.</p><p>Keep the following in mind when you specify user-defined supplemental log groups:</p><ul><li><p>A column can belong to more than one supplemental log group. However, the before-image of the columns gets logged only once.</p></li><li><p>If you specify the same columns to be logged both conditionally and unconditionally, then the columns are logged unconditionally.</p></li></ul><h3 id="tracking-ddl-statements-in-the-logminer-dictionary" tabindex="-1"><a class="header-anchor" href="#tracking-ddl-statements-in-the-logminer-dictionary" aria-hidden="true">#</a> Tracking DDL Statements in the LogMiner Dictionary</h3><p>LogMiner从LogMiner字典自动构建自己的内部字典，该字典是在启动LogMiner时指定的(在线目录、重做日志文件中的字典或平面文件)。</p><p>此字典提供数据库对象及其定义的快照。</p><p>如果LogMiner字典在重做日志文件中，或者是平面文件，那么可以使用PL/SQL DBMS_LOGMNR.START_LOGMNR过程的DDL_DICT_TRACKING选项，用于指示LogMiner跟踪数据定义语言(DDL)语句。DDL跟踪使LogMiner能够成功地跟踪对数据库对象所做的结构更改，比如从表中添加或删除列。例如:</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">EXECUTE</span> DBMS_LOGMNR<span class="token punctuation">.</span>START_LOGMNR<span class="token punctuation">(</span>OPTIONS <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token operator">-</span>
   DBMS_LOGMNR<span class="token punctuation">.</span>DDL_DICT_TRACKING <span class="token operator">+</span> DBMS_LOGMNR<span class="token punctuation">.</span>DICT_FROM_REDO_LOGS<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>过设置这个选项，LogMiner将在重做日志文件中看到的任何DDL语句应用到它的内部字典中。</p><p>注意:一般来说，最好启用补充日志记录和DDL跟踪功能，因为如果没有启用这些功能，并且发生了DDL事件，那么LogMiner将一些重做数据作为二进制数据返回。此外，可能会出现元数据版本不匹配。</p><p>启用DDL_DICT_TRACKING时，可以正确显示在提取LogMiner字典后创建的表上执行的数据操作语言(DML)操作。</p><p>例如，如果通过两个连续的DDL操作更新一个表employees，比如在一个操作中添加列gender，在下一个操作中删除列commiton_pct，那么LogMiner将为每个这些更改保留雇员的版本信息。这意味着LogMiner可以成功地挖掘来自这些DDL更改之前和之后的重做日志文件，并且不会为SQL_REDO或SQL_UNDO列显示二进制数据。</p><p>因为LogMiner自动将版本分配给数据库元数据，所以它将检测并通知您其内部字典与重做日志文件中的字典之间的任何不匹配。如果LogMiner检测到不匹配，那么它将在<code>V$LOGMNR_CONTENTS</code>视图的SQL_REDO列中生成二进制数据，INFO列包含字符串“Dictionary Version mismatch”，STATUS列将包含值2。</p><p>注意:LogMiner内部字典与平面文件、重做日志文件或在线目录中包含的LogMiner字典不同，理解这一点很重要。LogMiner会更新它的内部字典，但它不会更新平面文件、重做日志文件或在线目录中包含的字典。</p><p>下面的列表描述了使用DBMS_LOGMNR.START_LOGMNR过程指定DDL_DICT_TRACKING选项的要求。</p><ul><li>DDL_DICT_TRACKING选项对于DICT_FROM_ONLINE_CATALOG选项无效。</li><li>DDL_DICT_TRACKING选项要求数据库打开。</li><li>必须在整个数据库范围内启用补充日志记录，或者必须为感兴趣的表创建日志组。</li></ul><h3 id="ddl-dict-tracking-and-supplemental-logging-settings" tabindex="-1"><a class="header-anchor" href="#ddl-dict-tracking-and-supplemental-logging-settings" aria-hidden="true">#</a> DDL_DICT_TRACKING and Supplemental Logging Settings</h3><p>描述合并字典跟踪和辅助日志记录的各种设置时发生的交互。</p><p>Note the following:</p><ul><li><p>If <code>DDL_DICT_TRACKING</code> is enabled, but supplemental logging is not enabled and:</p><ul><li><p>A DDL transaction is encountered in the redo log file, then a query of <code>V$LOGMNR_CONTENTS</code> will terminate with the ORA-01347 error.</p></li><li><p>A DML transaction is encountered in the redo log file, then LogMiner will not assume that the current version of the table (underlying the DML) in its dictionary is correct, and columns in <code>V$LOGMNR_CONTENTS</code> will be set as follows:</p><ul><li><p>The <code>SQL_REDO</code> column will contain binary data.</p></li><li><p>The <code>STATUS</code> column will contain a value of <code>2</code> (which indicates that the SQL is not valid).</p></li><li><p>The <code>INFO</code> column will contain the string &#39;Dictionary Mismatch&#39;.</p></li></ul></li></ul></li><li><p>If <code>DDL_DICT_TRACKING</code> is not enabled and supplemental logging is not enabled, and the columns referenced in a DML operation match the columns in the LogMiner dictionary, then LogMiner assumes that the latest version in its dictionary is correct, and columns in <code>V$LOGMNR_CONTENTS</code> will be set as follows:</p><ul><li><p>LogMiner will use the definition of the object in its dictionary to generate values for the <code>SQL_REDO</code> and <code>SQL_UNDO</code> columns.</p></li><li><p>The status column will contain a value of <code>3</code> (which indicates that the SQL is not guaranteed to be accurate).</p></li><li><p>The <code>INFO</code> column will contain the string &#39;no supplemental log data found&#39;.</p></li></ul></li><li><p>If <code>DDL_DICT_TRACKING</code> is not enabled and supplemental logging is not enabled and there are more modified columns in the redo log file for a table than the LogMiner dictionary definition for the table defines, then:</p><ul><li><p>The <code>SQL_REDO</code> and <code>SQL_UNDO</code> columns will contain the string &#39;Dictionary Version Mismatch&#39;.</p></li><li><p>The <code>STATUS</code> column will contain a value of <code>2</code> (which indicates that the SQL is not valid).</p></li><li><p>The <code>INFO</code> column will contain the string &#39;Dictionary Mismatch&#39;.</p></li></ul><p>Also be aware that it is possible to get unpredictable behavior if the dictionary definition of a column indicates one type but the column is really another type.</p></li></ul><h3 id="ddl-dict-tracking-and-specified-time-or-scn-ranges" tabindex="-1"><a class="header-anchor" href="#ddl-dict-tracking-and-specified-time-or-scn-ranges" aria-hidden="true">#</a> DDL_DICT_TRACKING and Specified Time or SCN Ranges</h3><p>Because LogMiner must not miss a DDL statement if it is to ensure the consistency of its dictionary, LogMiner may start reading redo log files before your requested starting time or SCN (as specified with <code>DBMS_LOGMNR.START_LOGMNR</code>) when the <code>DDL_DICT_TRACKING</code> option is enabled.</p><p>The actual time or SCN at which LogMiner starts reading redo log files is referred to as the required starting time or the required starting SCN.</p><p>No missing redo log files (based on sequence numbers) are allowed from the required starting time or the required starting SCN.</p><p>LogMiner determines where it will start reading redo log data as follows:</p><ul><li><p>After the dictionary is loaded, the first time that you call <code>DBMS_LOGMNR.START_LOGMNR</code>, LogMiner begins reading as determined by one of the following, whichever causes it to begin earlier:</p><ul><li><p>Your requested starting time or SCN value</p></li><li><p>The commit SCN of the dictionary dump</p></li></ul></li><li><p>On subsequent calls to <code>DBMS_LOGMNR.START_LOGMNR</code>, LogMiner begins reading as determined for one of the following, whichever causes it to begin earliest:</p><ul><li><p>Your requested starting time or SCN value</p></li><li><p>The start of the earliest DDL transaction where the <code>COMMIT</code> statement has not yet been read by LogMiner</p></li><li><p>The highest SCN read by LogMiner</p></li></ul></li></ul><p>The following scenario helps illustrate this:</p><p>Suppose you create a redo log file list containing five redo log files. Assume that a dictionary is contained in the first redo file, and the changes that you have indicated you want to see (using <code>DBMS_LOGMNR.START_LOGMNR</code>) are recorded in the third redo log file. You then do the following:</p><ol><li><p>Call <code>DBMS_LOGMNR.START_LOGMNR</code>. LogMiner will read:</p><ol><li><p>The first log file to load the dictionary</p></li><li><p>The second redo log file to pick up any possible DDLs contained within it</p></li><li><p>The third log file to retrieve the data of interest</p></li></ol></li><li><p>Call <code>DBMS_LOGMNR.START_LOGMNR</code> again with the same requested range.</p><p>LogMiner will begin with redo log file 3; it no longer needs to read redo log file 2, because it has already processed any DDL statements contained within it.</p></li><li><p>Call <code>DBMS_LOGMNR.START_LOGMNR</code> again, this time specifying parameters that require data to be read from redo log file 5.</p><p>LogMiner will start reading from redo log file 4 to pick up any DDL statements that may be contained within it.</p></li></ol><p>Query the <code>REQUIRED_START_DATE</code> or the <code>REQUIRED_START_SCN</code> columns of the <code>V$LOGMNR_PARAMETERS</code> view to see where LogMiner will actually start reading. Regardless of where LogMiner starts reading, only rows in your requested range will be returned from the <code>V$LOGMNR_CONTENTS</code> view.</p><h2 id="accessing-logminer-operational-information-in-views" tabindex="-1"><a class="header-anchor" href="#accessing-logminer-operational-information-in-views" aria-hidden="true">#</a> Accessing LogMiner Operational Information in Views</h2><p>LogMiner操作信息(相对于重做数据)包含在视图中。</p><p>可以像查询其他视图一样使用SQL查询它们。</p><ol><li><p><code>V$LOGMNR_DICTIONARY</code></p><p>Shows information about a LogMiner dictionary file that was created using the <code>STORE_IN_FLAT_FILE</code> option to <code>DBMS_LOGMNR.START_LOGMNR</code>. The information shown includes information about the database from which the LogMiner dictionary was created.</p></li><li><p><code>V$LOGMNR_LOGS</code></p><p>Shows information about specified redo log files, as described in <a href="https://docs.oracle.com/en/database/oracle/oracle-database/19/sutil/oracle-logminer-utility.html#GUID-A4779AA3-EE5B-43CA-A64A-0A6B8CFC5D4F" title="You can query the V$LOGMNR_LOGS view to determine which redo log files have been manually or automatically added to the list of redo log files for LogMiner to analyze." target="_blank" rel="noopener noreferrer">Querying <code>V$LOGMNR_LOGS</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p></li><li><p><code>V$LOGMNR_PARAMETERS</code></p><p>Shows information about optional LogMiner parameters, including starting and ending system change numbers (SCNs) and starting and ending times.</p></li><li><p><code>V$DATABASE</code>, <code>DBA_LOG_GROUPS</code>, <code>ALL_LOG_GROUPS</code>, <code>USER_LOG_GROUPS</code>, <code>DBA_LOG_GROUP_COLUMNS</code>, <code>ALL_LOG_GROUP_COLUMNS</code>, <code>USER_LOG_GROUP_COLUMNS</code></p></li></ol><h3 id="querying-v-logmnr-logs" tabindex="-1"><a class="header-anchor" href="#querying-v-logmnr-logs" aria-hidden="true">#</a> Querying V$LOGMNR_LOGS</h3><p>您可以查询<code>V$LOGMNR_LOGS</code>视图，以确定哪些重做日志文件已手动或自动添加到重做日志文件列表中，以便LogMiner进行分析。</p><p>此视图包含每个重做日志文件的一行。它提供关于每个重做日志文件的有价值的信息，包括文件名、SCN和时间范围，以及它是否包含LogMiner字典的全部或部分内容。 成功调用DBMS_LOGMNR.START_LOGMNR之后, <code>V$LOGMNR_LOGS</code>视图的STATUS 列包含以下值之一:</p><ol><li><p><code>0</code></p><p>指示将在<code>V$LOGMNR_CONTENTS</code>视图的查询期间处理重做日志文件。</p></li><li><p><code>1</code></p><p>指示这将是LogMiner在对<code>V$LOGMNR_CONTENTS</code>视图执行选择操作期间要处理的第一个重做日志文件。</p></li><li><p><code>2</code></p><p>指示重做日志文件已被删除，因此在查询<code>V$LOGMNR_CONTENTS</code>视图期间LogMiner不会处理该文件。它已经修剪，因为它不需要满足您所要求的时间或SCN范围。.</p></li><li><p><code>4</code></p><p>指示在LogMiner重做日志文件列表中缺少重做日志文件(基于序列号)。</p></li></ol><p><code>V$LOGMNR_LOGS</code>视图包含列表中缺少的每个重做日志文件的行，如下所示:</p><ol><li><p>FILENAME列将包含序列号的连续范围和总SCN范围间隔。</p><p>例如:线程1的日志文件丢失，序列号从100到102&#39;。</p></li><li><p>NFO列将包含字符串&#39;MISSING_LOGFILE&#39;。</p></li></ol><p>关于从重做日志文件列表中丢失的文件的信息是有用的，原因如下:</p><ol><li><p>The <code>DDL_DICT_TRACKING</code> option that can be specified when you call <code>DBMS_LOGMNR.START_LOGMNR</code> will not allow redo log files to be missing from the LogMiner redo log file list for the requested time or SCN range. If a call to <code>DBMS_LOGMNR.START_LOGMNR</code> fails, then you can query the <code>STATUS</code> column in the <code>V$LOGMNR_LOGS</code> view to determine which redo log files are missing from the list. You can then find and manually add these redo log files and attempt to call <code>DBMS_LOGMNR.START_LOGMNR</code> again.</p><p>Note:The <code>continuous_mine</code> option for the <code>dbms_logmnr.start_logmnr</code> package is desupported in Oracle Database 19c (19.1), and is no longer available.</p></li><li><p>Although all other options that can be specified when you call <code>DBMS_LOGMNR.START_LOGMNR</code> allow files to be missing from the LogMiner redo log file list, you may not want to have missing files. You can query the <code>V$LOGMNR_LOGS</code> view before querying the <code>V$LOGMNR_CONTENTS</code> view to ensure that all required files are in the list. If the list is left with missing files and you query the <code>V$LOGMNR_CONTENTS</code> view, then a row is returned in <code>V$LOGMNR_CONTENTS</code> with the following column values:</p><ul><li><p>In the <code>OPERATION</code> column, a value of &#39;MISSING_SCN&#39;</p></li><li><p>In the <code>STATUS</code> column, a value of <code>1291</code></p></li><li><p>In the <code>INFO</code> column, a string indicating the missing SCN range (for example, &#39;Missing SCN 100 - 200&#39;)</p></li></ul></li></ol><h3 id="querying-views-for-supplemental-logging-settings" tabindex="-1"><a class="header-anchor" href="#querying-views-for-supplemental-logging-settings" aria-hidden="true">#</a> Querying Views for Supplemental Logging Settings</h3><p>描述如何查询多个视图以确定补充日志记录的当前设置。</p><p>Specificallyt:</p><ul><li><p><code>V$DATABASE</code> view</p><ul><li><p><code>SUPPLEMENTAL_LOG_DATA_FK</code> column</p><p>This column contains one of the following values:</p><ul><li><p><code>NO</code> - if database-level identification key logging with the <code>FOREIGN KEY</code> option is not enabled</p></li><li><p><code>YES</code> - if database-level identification key logging with the <code>FOREIGN KEY</code> option is enabled</p></li></ul></li><li><p><code>SUPPLEMENTAL_LOG_DATA_ALL</code> column</p><p>This column contains one of the following values:</p><ul><li><p><code>NO</code> - if database-level identification key logging with the <code>ALL</code> option is not enabled</p></li><li><p><code>YES</code> - if database-level identification key logging with the <code>ALL</code> option is enabled</p></li></ul></li><li><p><code>SUPPLEMENTAL_LOG_DATA_UI</code> column</p><ul><li><p><code>NO</code> - if database-level identification key logging with the <code>UNIQUE</code> option is not enabled</p></li><li><p><code>YES</code> - if database-level identification key logging with the <code>UNIQUE</code> option is enabled</p></li></ul></li><li><p><code>SUPPLEMENTAL_LOG_DATA_MIN</code> column</p><p>This column contains one of the following values:</p><ul><li><p><code>NO</code> - if no database-level supplemental logging is enabled</p></li><li><p><code>IMPLICIT</code> - if minimal supplemental logging is enabled because database-level identification key logging options is enabled</p></li><li><p><code>YES</code> - if minimal supplemental logging is enabled because the SQL <code>ALTER</code> <code>DATABASE</code> <code>ADD</code> <code>SUPPLEMENTAL</code> <code>LOG</code> <code>DATA</code> statement was issued</p></li></ul></li></ul></li><li><p><code>DBA_LOG_GROUPS</code>, <code>ALL_LOG_GROUPS</code>, and <code>USER_LOG_GROUPS</code> views</p><ul><li><p><code>ALWAYS</code> column</p><p>This column contains one of the following values:</p><ul><li><p><code>ALWAYS</code> - indicates that the columns in this log group will be supplementally logged if any column in the associated row is updated</p></li><li><p><code>CONDITIONAL</code> - indicates that the columns in this group will be supplementally logged only if a column in the log group is updated</p></li></ul></li><li><p><code>GENERATED</code> column</p><p>This column contains one of the following values:</p><ul><li><p><code>GENERATED NAME</code> - if the <code>LOG_GROUP</code> name was system-generated</p></li><li><p><code>USER NAME</code> - if the <code>LOG_GROUP</code> name was user-defined</p></li></ul></li><li><p><code>LOG_GROUP_TYPE</code> column</p><p>This column contains one of the following values to indicate the type of logging defined for this log group. <code>USER LOG GROUP</code> indicates that the log group was user-defined (as opposed to system-generated).</p><ul><li><p><code>ALL COLUMN LOGGING</code></p></li><li><p><code>FOREIGN KEY LOGGING</code></p></li><li><p><code>PRIMARY KEY LOGGING</code></p></li><li><p><code>UNIQUE KEY LOGGING</code></p></li><li><p><code>USER LOG GROUP</code></p></li></ul></li></ul></li><li><p><code>DBA_LOG_GROUP_COLUMNS</code>, <code>ALL_LOG_GROUP_COLUMNS</code>, and <code>USER_LOG_GROUP_COLUMNS</code> views</p><ul><li><p>The <code>LOGGING_PROPERTY</code> column</p><p>This column contains one of the following values:</p><ul><li><p><code>LOG</code> - indicates that this column in the log group will be supplementally logged</p></li><li><p><code>NO</code> <code>LOG</code> - indicates that this column in the log group will not be supplementally logged</p></li></ul></li></ul></li></ul><h2 id="steps-in-a-typical-logminer-session" tabindex="-1"><a class="header-anchor" href="#steps-in-a-typical-logminer-session" aria-hidden="true">#</a> Steps in a Typical LogMiner Session</h2><p>描述典型LogMiner会话中的步骤。</p><p>要运行LogMiner，可以使用DBMS_LOGMNR PL/SQL包。此外，如果选择提取LogMiner字典而不是使用联机编目，还可以使用DBMS_LOGMNR_D包。</p><p>DBMS_LOGMNR包包含用于初始化和运行LogMiner的过程，包括用于指定重做日志文件名称、筛选条件和会话特征的接口。DBMS_LOGMNR_D包查询当前数据库的数据库字典表，以创建LogMiner字典文件。</p><p>ogMiner PL/SQL包属于SYS模式。因此，如果您没有作为用户系统连接，则:</p><ol><li><p>You must include <code>SYS</code> in your call. For example:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>EXECUTE SYS.DBMS_LOGMNR.END_LOGMNR
```;

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>You must have been granted the <code>EXECUTE_CATALOG_ROLE</code> role.</p><p>See Also:</p><ul><li><p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sutil&amp;id=ARPLS022" target="_blank" rel="noopener noreferrer">Oracle Database PL/SQL Packages and Types Reference<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> for details about syntax and parameters for these LogMiner packages</p></li><li><p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sutil&amp;id=ADFNS1398" target="_blank" rel="noopener noreferrer">Oracle Database Development Guide<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> for more information about PL/SQL packages</p></li></ul></li></ol><h3 id="typical-logminer-session-task-1-enable-supplemental-logging" tabindex="-1"><a class="header-anchor" href="#typical-logminer-session-task-1-enable-supplemental-logging" aria-hidden="true">#</a> Typical LogMiner Session Task 1: Enable Supplemental Logging</h3><p>使补充日志记录。启用要使用的辅助日志记录类型。至少，您必须启用最低限度的补充日志记录，如下所示:</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">DATABASE</span> <span class="token keyword">ADD</span> SUPPLEMENTAL LOG <span class="token keyword">DATA</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="typical-logminer-session-task-2-extract-a-logminer-dictionary" tabindex="-1"><a class="header-anchor" href="#typical-logminer-session-task-2-extract-a-logminer-dictionary" aria-hidden="true">#</a> Typical LogMiner Session Task 2: Extract a LogMiner Dictionary</h3><p>提取LogMiner字典。要使用LogMiner，您必须通过以下操作之一为它提供一个字典:</p><ol><li><p>Specify use of the online catalog by using the <code>DICT_FROM_ONLINE_CATALOG</code> option when you start LogMiner. See <a href="https://docs.oracle.com/en/database/oracle/oracle-database/19/sutil/oracle-logminer-utility.html#GUID-1D510A2F-4CE8-4D69-AB18-CDD58FB3458C" title="To direct LogMiner to use the dictionary currently in use for the database, specify the online catalog as your dictionary source when you start LogMiner." target="_blank" rel="noopener noreferrer">Using the Online Catalog<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p></li><li><p>Extract database dictionary information to the redo log files. See <a href="https://docs.oracle.com/en/database/oracle/oracle-database/19/sutil/oracle-logminer-utility.html#GUID-A0D89906-C787-4EB4-BA47-171A457445EC" title="To extract a LogMiner dictionary to the redo log files, the database must be open and in ARCHIVELOG mode and archiving must be enabled." target="_blank" rel="noopener noreferrer">Extracting a LogMiner Dictionary to the Redo Log Files<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p></li><li><p>Extract database dictionary information to a flat file. See <a href="https://docs.oracle.com/en/database/oracle/oracle-database/19/sutil/oracle-logminer-utility.html#GUID-DA37874F-6637-4205-AB5C-A8AC1914D018" title="When the LogMiner dictionary is in a flat file, fewer system resources are used than when it is contained in the redo log files. Oracle recommends that you regularly back up the dictionary extract to ensure correct analysis of older redo log files." target="_blank" rel="noopener noreferrer">Extracting the LogMiner Dictionary to a Flat File <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p></li></ol><h3 id="typical-logminer-session-task-3-specify-redo-log-files-for-analysis" tabindex="-1"><a class="header-anchor" href="#typical-logminer-session-task-3-specify-redo-log-files-for-analysis" aria-hidden="true">#</a> Typical LogMiner Session Task 3: Specify Redo Log Files for Analysis</h3><p>指定用于分析的重做日志文件。在启动LogMiner之前，必须指定要分析的重做日志文件。为此，执行DBMS_LOGMNR。ADD_LOGFILE过程，如下面的步骤所示。您可以按任何顺序添加和删除重做日志文件。</p><p>Note:</p><p>If you are mining in the database instance that is generating the redo log files, then you only need to specify one of the following when you start LogMiner:</p><ul><li><p>The <code>STARTSCN</code> parameter</p></li><li><p>The <code>STARTTIME</code> parameter</p></li></ul><ol><li><p>Use SQL*Plus to start an Oracle instance, with the database either mounted or unmounted. For example, enter the <code>STARTUP</code> statement at the SQL prompt:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>STARTUP
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>Create a list of redo log files. Specify the <code>NEW</code> option of the <code>DBMS_LOGMNR.ADD_LOGFILE</code> PL/SQL procedure to signal that this is the beginning of a new list. For example, enter the following to specify the <code>/oracle/logs/log1.f</code> redo log file:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>EXECUTE DBMS_LOGMNR.ADD_LOGFILE( -
   LOGFILENAME =&gt; &#39;/oracle/logs/log1.f&#39;, -
   OPTIONS =&gt; DBMS_LOGMNR.NEW);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>If desired, add more redo log files by specifying the <code>ADDFILE</code> option of the <code>DBMS_LOGMNR.ADD_LOGFILE</code> PL/SQL procedure. For example, enter the following to add the <code>/oracle/logs/log2.f</code> redo log file:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>EXECUTE DBMS_LOGMNR.ADD_LOGFILE( -
   LOGFILENAME =&gt; &#39;/oracle/logs/log2.f&#39;, -
   OPTIONS =&gt; DBMS_LOGMNR.ADDFILE);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The <code>OPTIONS</code> parameter is optional when you are adding additional redo log files. For example, you could simply enter the following:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>EXECUTE DBMS_LOGMNR.ADD_LOGFILE( -
   LOGFILENAME=&gt;&#39;/oracle/logs/log2.f&#39;);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>If desired, remove redo log files by using the <code>DBMS_LOGMNR.REMOVE_LOGFILE </code>PL/SQL procedure. For example, enter the following to remove the <code>/oracle/logs/log2.f</code> redo log file:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>EXECUTE DBMS_LOGMNR.REMOVE_LOGFILE( -
   LOGFILENAME =&gt; &#39;/oracle/logs/log2.f&#39;);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="typical-logminer-session-task-4-start-logminer" tabindex="-1"><a class="header-anchor" href="#typical-logminer-session-task-4-start-logminer" aria-hidden="true">#</a> Typical LogMiner Session Task 4: Start LogMiner</h3><p>LogMiner开始。创建LogMiner字典文件并指定要分析哪些重做日志文件之后，必须启动LogMiner。采取以下步骤:</p><ol><li><p>Execute the <code>DBMS_LOGMNR.START_LOGMNR</code> procedure to start LogMiner.</p><p>Oracle recommends that you specify a LogMiner dictionary option. If you do not, then LogMiner cannot translate internal object identifiers and data types to object names and external data formats. Therefore, it would return internal object IDs and present data as binary data. Additionally, the <code>MINE_VALUE</code> and <code>COLUMN_PRESENT</code> functions cannot be used without a dictionary.</p><p>If you are specifying the name of a flat file LogMiner dictionary, then you must supply a fully qualified file name for the dictionary file. For example, to start LogMiner using <code>/oracle/database/dictionary.ora</code>, issue the following statement:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>EXECUTE DBMS_LOGMNR.START_LOGMNR( -
   DICTFILENAME =&gt;&#39;/oracle/database/dictionary.ora&#39;);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>If you are not specifying a flat file dictionary name, then use the <code>OPTIONS</code> parameter to specify either the <code>DICT_FROM_REDO_LOGS</code> or <code>DICT_FROM_ONLINE_CATALOG</code> option.</p><p>If you specify <code>DICT_FROM_REDO_LOGS</code>, then LogMiner expects to find a dictionary in the redo log files that you specified with the <code>DBMS_LOGMNR.ADD_LOGFILE</code> procedure. To determine which redo log files contain a dictionary, look at the <code>V$ARCHIVED_LOG</code> view. See <a href="https://docs.oracle.com/en/database/oracle/oracle-database/19/sutil/oracle-logminer-utility.html#GUID-A0D89906-C787-4EB4-BA47-171A457445EC" title="To extract a LogMiner dictionary to the redo log files, the database must be open and in ARCHIVELOG mode and archiving must be enabled." target="_blank" rel="noopener noreferrer">Extracting a LogMiner Dictionary to the Redo Log Files<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> for an example.</p><p>Note:</p><p>If you add additional redo log files after LogMiner has been started, you must restart LogMiner. LogMiner will not retain options that were included in the previous call to <code>DBMS_LOGMNR.START_LOGMNR</code>; you must respecify the options you want to use. However, LogMiner will retain the dictionary specification from the previous call if you do not specify a dictionary in the current call to <code>DBMS_LOGMNR.START_LOGMNR</code>.</p><p>For more information about the <code>DICT_FROM_ONLINE_CATALOG</code> option, see <a href="https://docs.oracle.com/en/database/oracle/oracle-database/19/sutil/oracle-logminer-utility.html#GUID-1D510A2F-4CE8-4D69-AB18-CDD58FB3458C" title="To direct LogMiner to use the dictionary currently in use for the database, specify the online catalog as your dictionary source when you start LogMiner." target="_blank" rel="noopener noreferrer">Using the Online Catalog<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p></li><li><p>Optionally, you can filter your query by time or by SCN. See <a href="https://docs.oracle.com/en/database/oracle/oracle-database/19/sutil/oracle-logminer-utility.html#GUID-0AA13EFD-8118-4061-A215-9D3AF9EEB1D5" title="To filter data by time, set the STARTTIME and ENDTIME parameters in the DBMS_LOGMNR.START_LOGMNR procedure." target="_blank" rel="noopener noreferrer">Filtering Data by Time<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> or <a href="https://docs.oracle.com/en/database/oracle/oracle-database/19/sutil/oracle-logminer-utility.html#GUID-011AA230-32A7-4DE7-9DC0-CE1FF55CFAF3" title="To filter data by SCN (system change number), use the STARTSCN and ENDSCN parameters to the PL/SQL DBMS_LOGMNR.START_LOGMNR procedure." target="_blank" rel="noopener noreferrer">Filtering Data by SCN<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p></li><li><p>You can also use the <code>OPTIONS</code> parameter to specify additional characteristics of your LogMiner session. For example, you might decide to use the online catalog as your LogMiner dictionary and to have only committed transactions shown in the <code>V$LOGMNR_CONTENTS</code> view, as follows:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>EXECUTE DBMS_LOGMNR.START_LOGMNR(OPTIONS =&gt; -
   DBMS_LOGMNR.DICT_FROM_ONLINE_CATALOG + -
   DBMS_LOGMNR.COMMITTED_DATA_ONLY);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>For more information about <code>DBMS_LOGMNR.START_LOGMNR</code> options, see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sutil&amp;id=ARPLS022" target="_blank" rel="noopener noreferrer">Oracle Database PL/SQL Packages and Types Reference<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p><p>You can execute the <code>DBMS_LOGMNR</code>.<code>START_LOGMNR</code> procedure multiple times, specifying different options each time. This can be useful, for example, if you did not get the desired results from a query of <code>V$LOGMNR_CONTENTS</code>, and want to restart LogMiner with different options. Unless you need to respecify the LogMiner dictionary, you do not need to add redo log files if they were already added with a previous call to <code>DBMS_LOGMNR</code>.<code>START_LOGMNR</code>.</p></li></ol><h3 id="typical-logminer-session-task-5-query-v-logmnr-contents" tabindex="-1"><a class="header-anchor" href="#typical-logminer-session-task-5-query-v-logmnr-contents" aria-hidden="true">#</a> Typical LogMiner Session Task 5: Query V$LOGMNR_CONTENTS</h3><p>Querying the <code>V$LOGMNR_CONTENTS</code> view.</p><p>At this point, LogMiner is started. You can perform queries against the <code>V$LOGMNR_CONTENTS</code> view. See<a href="https://docs.oracle.com/en/database/oracle/oracle-database/19/sutil/oracle-logminer-utility.html#GUID-C659DAB0-03D0-4958-BB2F-E81C2928BE24" title="LogMiner can potentially deal with large amounts of information. You can limit the information that is returned to the V$LOGMNR_CONTENTS view, and the speed at which it is returned." target="_blank" rel="noopener noreferrer">Filtering and Formatting Data Returned to <code>V$LOGMNR_CONTENTS</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> for examples of this.</p><h3 id="typical-logminer-session-task-6-end-the-logminer-session" tabindex="-1"><a class="header-anchor" href="#typical-logminer-session-task-6-end-the-logminer-session" aria-hidden="true">#</a> Typical LogMiner Session Task 6: End the LogMiner Session</h3><p>Ending the LogMiner session.</p><p>To properly end a LogMiner session, use the <code>DBMS_LOGMNR.END_LOGMNR</code> PL/SQL procedure, as follows:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>EXECUTE DBMS_LOGMNR.END_LOGMNR;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>This procedure closes all the redo log files and allows all the database and system resources allocated by LogMiner to be released.</p><p>If this procedure is not executed, then LogMiner retains all its allocated resources until the end of the Oracle session in which it was called. It is particularly important to use this procedure to end the LogMiner session if either the <code>DDL_DICT_TRACKING</code> option or the <code>DICT_FROM_REDO_LOGS</code> option was used.</p><h2 id="examples-using-logminer" tabindex="-1"><a class="header-anchor" href="#examples-using-logminer" aria-hidden="true">#</a> Examples Using LogMiner</h2><p>This section provides several examples of using LogMiner.</p><p>Note:</p><p>All examples in this section assume that minimal supplemental logging has been enabled:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>SQL&gt; ALTER DATABASE ADD SUPPLEMENTAL LOG DATA;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>See <a href="https://docs.oracle.com/en/database/oracle/oracle-database/19/sutil/oracle-logminer-utility.html#GUID-D857AF96-AC24-4CA1-B620-8EA3DF30D72E" title="Describes supplemental logging." target="_blank" rel="noopener noreferrer">Supplemental Logging<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> for more information.</p><p>All examples, except <a href="https://docs.oracle.com/en/database/oracle/oracle-database/19/sutil/oracle-logminer-utility.html#GUID-97F5B369-A905-4BCF-AA7F-E9F932D3D14A" target="_blank" rel="noopener noreferrer">Example 2: Mining the Redo Log Files in a Given SCN Range<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> and the <a href="https://docs.oracle.com/en/database/oracle/oracle-database/19/sutil/oracle-logminer-utility.html#GUID-143798E2-B0E0-4E9D-A70C-08593A117027" title="Examples of how to use LogMiner for typical scenarios." target="_blank" rel="noopener noreferrer">Example Scenarios<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>, assume that the <code>NLS_DATE_FORMAT</code> parameter has been set as follows:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>SQL&gt;  ALTER SESSION SET NLS_DATE_FORMAT = &#39;dd-mon-yyyy hh24:mi:ss&#39;;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Because LogMiner displays date data using the setting for the <code>NLS_DATE_FORMAT</code> parameter that is active for the user session, this step is optional. However, setting the parameter explicitly lets you predict the date format.</p><h3 id="examples-of-mining-by-explicitly-specifying-the-redo-log-files-of-interest" tabindex="-1"><a class="header-anchor" href="#examples-of-mining-by-explicitly-specifying-the-redo-log-files-of-interest" aria-hidden="true">#</a> Examples of Mining by Explicitly Specifying the Redo Log Files of Interest</h3><p>Examples specifying redo log files.</p><p>These examples demonstrate how to use LogMiner when you know which redo log files contain the data of interest. These examples are best read sequentially, because each example builds on the example or examples that precede it.</p><p>The SQL output formatting may be different on your display than that shown in these examples.</p><h4 id="example-1-finding-all-modifications-in-the-last-archived-redo-log-file" tabindex="-1"><a class="header-anchor" href="#example-1-finding-all-modifications-in-the-last-archived-redo-log-file" aria-hidden="true">#</a> Example 1: Finding All Modifications in the Last Archived Redo Log File</h4><p>The easiest way to examine the modification history of a database is to mine at the source database and use the online catalog to translate the redo log files. This example shows how to do the simplest analysis using LogMiner.</p><p>This example assumes that you know you want to mine the redo log file that was most recently archived. It finds all modifications that are contained in the last archived redo log generated by the database (assuming that the database is not an Oracle Real Application Clusters (Oracle RAC) database).</p><ol><li>Determine which redo log file was most recently archived.</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>    SELECT NAME FROM V$ARCHIVED_LOG
       WHERE FIRST_TIME = (SELECT MAX(FIRST_TIME) FROM V$ARCHIVED_LOG);   
    NAME                            
    -------------------------------------------
    /usr/oracle/data/db1arch_1_16_482701534.dbf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>Specify the list of redo log files to be analyzed. In this case, it is the redo log file that was returned by the query in Step 1.</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>    EXECUTE DBMS_LOGMNR.ADD_LOGFILE( -
      LOGFILENAME =&gt; &#39;/usr/oracle/data/db1arch_1_16_482701534.dbf&#39;, -
      OPTIONS =&gt; DBMS_LOGMNR.NEW);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>Start LogMiner and specify the dictionary to use.</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>    EXECUTE DBMS_LOGMNR.START_LOGMNR( -
       OPTIONS =&gt; DBMS_LOGMNR.DICT_FROM_ONLINE_CATALOG);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li><p>Query the <code>V$LOGMNR_CONTENTS</code> view.</p><p>Note that there are four transactions (two of them were committed within the redo log file being analyzed, and two were not). The output shows the DML statements in the order in which they were executed; thus transactions interleave among themselves.</p></li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>    SELECT username AS USR, (XIDUSN || &#39;.&#39; || XIDSLT || &#39;.&#39; ||  XIDSQN) AS XID, 
       SQL_REDO, SQL_UNDO FROM V$LOGMNR_CONTENTS WHERE username IN (&#39;HR&#39;, &#39;OE&#39;);

    USR    XID          SQL_REDO                        SQL_UNDO
    ----   ---------  ----------------------------------------------------
    HR     1.11.1476  set transaction read write;

    HR     1.11.1476  insert into &quot;HR&quot;.&quot;EMPLOYEES&quot;(     delete from &quot;HR&quot;.&quot;EMPLOYEES&quot; 
                      &quot;EMPLOYEE_ID&quot;,&quot;FIRST_NAME&quot;,       where &quot;EMPLOYEE_ID&quot; = &#39;306&#39;
                      &quot;LAST_NAME&quot;,&quot;EMAIL&quot;,              and &quot;FIRST_NAME&quot; = &#39;Nandini&#39;
                      &quot;PHONE_NUMBER&quot;,&quot;HIRE_DATE&quot;,       and &quot;LAST_NAME&quot; = &#39;Shastry&#39;
                      &quot;JOB_ID&quot;,&quot;SALARY&quot;,                and &quot;EMAIL&quot; = &#39;NSHASTRY&#39;
                      &quot;COMMISSION_PCT&quot;,&quot;MANAGER_ID&quot;,    and &quot;PHONE_NUMBER&quot; = &#39;1234567890&#39;
                      &quot;DEPARTMENT_ID&quot;) values           and &quot;HIRE_DATE&quot; = TO_DATE(&#39;10-JAN-2012
                      (&#39;306&#39;,&#39;Nandini&#39;,&#39;Shastry&#39;,       13:34:43&#39;, &#39;dd-mon-yyyy hh24:mi:ss&#39;) 
                      &#39;NSHASTRY&#39;, &#39;1234567890&#39;,         and &quot;JOB_ID&quot; = &#39;HR_REP&#39; and 
                      TO_DATE(&#39;10-jan-2012 13:34:43&#39;,   &quot;SALARY&quot; = &#39;120000&#39; and 
                      &#39;dd-mon-yyyy hh24:mi:ss&#39;),         &quot;COMMISSION_PCT&quot; = &#39;.05&#39; and
                      &#39;HR_REP&#39;,&#39;120000&#39;, &#39;.05&#39;,         &quot;DEPARTMENT_ID&quot; = &#39;10&#39; and
                      &#39;105&#39;,&#39;10&#39;);                      ROWID = &#39;AAAHSkAABAAAY6rAAO&#39;;

    OE     1.1.1484   set transaction read write;

    OE     1.1.1484   update &quot;OE&quot;.&quot;PRODUCT_INFORMATION&quot;  update &quot;OE&quot;.&quot;PRODUCT_INFORMATION&quot; 
                      set &quot;WARRANTY_PERIOD&quot; =            set &quot;WARRANTY_PERIOD&quot; = 
                      TO_YMINTERVAL(&#39;+05-00&#39;) where      TO_YMINTERVAL(&#39;+01-00&#39;) where
                      &quot;PRODUCT_ID&quot; = &#39;1799&#39; and          &quot;PRODUCT_ID&quot; = &#39;1799&#39; and
                      &quot;WARRANTY_PERIOD&quot; =                &quot;WARRANTY_PERIOD&quot; = 
                      TO_YMINTERVAL(&#39;+01-00&#39;) and        TO_YMINTERVAL(&#39;+05-00&#39;) and
                      ROWID = &#39;AAAHTKAABAAAY9mAAB&#39;;      ROWID = &#39;AAAHTKAABAAAY9mAAB&#39;; 

    OE     1.1.1484   update &quot;OE&quot;.&quot;PRODUCT_INFORMATION&quot;  update &quot;OE&quot;.&quot;PRODUCT_INFORMATION&quot;
                      set &quot;WARRANTY_PERIOD&quot; =            set &quot;WARRANTY_PERIOD&quot; =
                      TO_YMINTERVAL(&#39;+05-00&#39;) where      TO_YMINTERVAL(&#39;+01-00&#39;) where
                      &quot;PRODUCT_ID&quot; = &#39;1801&#39; and          &quot;PRODUCT_ID&quot; = &#39;1801&#39; and
                      &quot;WARRANTY_PERIOD&quot; =                &quot;WARRANTY_PERIOD&quot; = 
                      TO_YMINTERVAL(&#39;+01-00&#39;) and        TO_YMINTERVAL(&#39;+05-00&#39;) and
                      ROWID = &#39;AAAHTKAABAAAY9mAAC&#39;;      ROWID =&#39;AAAHTKAABAAAY9mAAC&#39;;

    HR     1.11.1476  insert into &quot;HR&quot;.&quot;EMPLOYEES&quot;(     delete from &quot;HR&quot;.&quot;EMPLOYEES&quot;
                      &quot;EMPLOYEE_ID&quot;,&quot;FIRST_NAME&quot;,       &quot;EMPLOYEE_ID&quot; = &#39;307&#39; and 
                      &quot;LAST_NAME&quot;,&quot;EMAIL&quot;,              &quot;FIRST_NAME&quot; = &#39;John&#39; and
                      &quot;PHONE_NUMBER&quot;,&quot;HIRE_DATE&quot;,       &quot;LAST_NAME&quot; = &#39;Silver&#39; and
                      &quot;JOB_ID&quot;,&quot;SALARY&quot;,                &quot;EMAIL&quot; = &#39;JSILVER&#39; and 
                      &quot;COMMISSION_PCT&quot;,&quot;MANAGER_ID&quot;,    &quot;PHONE_NUMBER&quot; = &#39;5551112222&#39;
                      &quot;DEPARTMENT_ID&quot;) values           and &quot;HIRE_DATE&quot; = TO_DATE(&#39;10-jan-2012
                      (&#39;307&#39;,&#39;John&#39;,&#39;Silver&#39;,           13:41:03&#39;, &#39;dd-mon-yyyy hh24:mi:ss&#39;) 
                       &#39;JSILVER&#39;, &#39;5551112222&#39;,         and &quot;JOB_ID&quot; =&#39;105&#39; and &quot;DEPARTMENT_ID&quot; 
                      TO_DATE(&#39;10-jan-2012 13:41:03&#39;,   = &#39;50&#39; and ROWID = &#39;AAAHSkAABAAAY6rAAP&#39;; 
                      &#39;dd-mon-yyyy hh24:mi:ss&#39;),
                      &#39;SH_CLERK&#39;,&#39;110000&#39;, &#39;.05&#39;,
                      &#39;105&#39;,&#39;50&#39;);                

    OE     1.1.1484   commit;

    HR     1.15.1481   set transaction read write;

    HR     1.15.1481  delete from &quot;HR&quot;.&quot;EMPLOYEES&quot;      insert into &quot;HR&quot;.&quot;EMPLOYEES&quot;(
                      where &quot;EMPLOYEE_ID&quot; = &#39;205&#39; and   &quot;EMPLOYEE_ID&quot;,&quot;FIRST_NAME&quot;,
                      &quot;FIRST_NAME&quot; = &#39;Shelley&#39; and      &quot;LAST_NAME&quot;,&quot;EMAIL&quot;,&quot;PHONE_NUMBER&quot;,
                      &quot;LAST_NAME&quot; = &#39;Higgins&#39; and       &quot;HIRE_DATE&quot;, &quot;JOB_ID&quot;,&quot;SALARY&quot;,
                      &quot;EMAIL&quot; = &#39;SHIGGINS&#39; and          &quot;COMMISSION_PCT&quot;,&quot;MANAGER_ID&quot;,
                      &quot;PHONE_NUMBER&quot; = &#39;515.123.8080&#39;   &quot;DEPARTMENT_ID&quot;) values
                      and &quot;HIRE_DATE&quot; = TO_DATE(        (&#39;205&#39;,&#39;Shelley&#39;,&#39;Higgins&#39;,
                      &#39;07-jun-1994 10:05:01&#39;,           and     &#39;SHIGGINS&#39;,&#39;515.123.8080&#39;,
                      &#39;dd-mon-yyyy hh24:mi:ss&#39;)         TO_DATE(&#39;07-jun-1994 10:05:01&#39;,
                      and &quot;JOB_ID&quot; = &#39;AC_MGR&#39;           &#39;dd-mon-yyyy hh24:mi:ss&#39;),
                      and &quot;SALARY&quot;= &#39;12000&#39;            &#39;AC_MGR&#39;,&#39;12000&#39;,NULL,&#39;101&#39;,&#39;110&#39;); 
                      and &quot;COMMISSION_PCT&quot; IS NULL 
                      and &quot;MANAGER_ID&quot; 
                      = &#39;101&#39; and &quot;DEPARTMENT_ID&quot; = 
                      &#39;110&#39; and ROWID = 
                      &#39;AAAHSkAABAAAY6rAAM&#39;;

    OE     1.8.1484   set transaction read write;

    OE     1.8.1484   update &quot;OE&quot;.&quot;PRODUCT_INFORMATION&quot;  update &quot;OE&quot;.&quot;PRODUCT_INFORMATION&quot;
                      set &quot;WARRANTY_PERIOD&quot; =            set &quot;WARRANTY_PERIOD&quot; = 
                      TO_YMINTERVAL(&#39;+12-06&#39;) where      TO_YMINTERVAL(&#39;+20-00&#39;) where
                      &quot;PRODUCT_ID&quot; = &#39;2350&#39; and          &quot;PRODUCT_ID&quot; = &#39;2350&#39; and
                      &quot;WARRANTY_PERIOD&quot; =                &quot;WARRANTY_PERIOD&quot; =
                      TO_YMINTERVAL(&#39;+20-00&#39;) and        TO_YMINTERVAL(&#39;+20-00&#39;) and
                      ROWID = &#39;AAAHTKAABAAAY9tAAD&#39;;       ROWID =&#39;AAAHTKAABAAAY9tAAD&#39;; 

    HR     1.11.1476  commit;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="5"><li>End the LogMiner session.</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>    SQL&gt; EXECUTE DBMS_LOGMNR.END_LOGMNR();
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="example-2-grouping-dml-statements-into-committed-transactions" tabindex="-1"><a class="header-anchor" href="#example-2-grouping-dml-statements-into-committed-transactions" aria-hidden="true">#</a> Example 2: Grouping DML Statements into Committed Transactions</h4><p>As shown in the first example, <a href="https://docs.oracle.com/en/database/oracle/oracle-database/19/sutil/oracle-logminer-utility.html#GUID-E3820793-B482-48C4-9F44-C0D7A062E318" target="_blank" rel="noopener noreferrer">Example 1: Finding All Modifications in the Last Archived Redo Log File<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>, LogMiner displays all modifications it finds in the redo log files that it analyzes by default, regardless of whether the transaction has been committed or not. In addition, LogMiner shows modifications in the same order in which they were executed. Because DML statements that belong to the same transaction are not grouped together, visual inspection of the output can be difficult. Although you can use SQL to group transactions, LogMiner provides an easier way. In this example, the latest archived redo log file will again be analyzed, but it will return only committed transactions.</p><ol><li>Determine which redo log file was most recently archived by the database.</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>    SELECT NAME FROM V$ARCHIVED_LOG
       WHERE FIRST_TIME = (SELECT MAX(FIRST_TIME) FROM V$ARCHIVED_LOG);

    NAME                            
    -------------------------------------------
    /usr/oracle/data/db1arch_1_16_482701534.dbf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>Specify the redo log file that was returned by the query in Step 1. The list will consist of one redo log file.</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>    EXECUTE DBMS_LOGMNR.ADD_LOGFILE( -
       LOGFILENAME =&gt; &#39;/usr/oracle/data/db1arch_1_16_482701534.dbf&#39;, -
       OPTIONS =&gt; DBMS_LOGMNR.NEW);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>Start LogMiner by specifying the dictionary to use and the <code>COMMITTED_DATA_ONLY</code> option.</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>    EXECUTE DBMS_LOGMNR.ADD_LOGFILE( -
       LOGFILENAME =&gt; &#39;/usr/oracle/data/db1arch_1_16_482701534.dbf&#39;, -
       OPTIONS =&gt; DBMS_LOGMNR.NEW);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li><p>Query the <code>V$LOGMNR_CONTENTS</code> view.</p><p>Although transaction 1.11.1476 was started before transaction 1.1.1484 (as revealed in <a href="https://docs.oracle.com/en/database/oracle/oracle-database/19/sutil/oracle-logminer-utility.html#GUID-E3820793-B482-48C4-9F44-C0D7A062E318" target="_blank" rel="noopener noreferrer">Example 1: Finding All Modifications in the Last Archived Redo Log File<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>), it committed after transaction 1.1.1484 committed. In this example, therefore, transaction 1.1.1484 is shown in its entirety before transaction 1.11.1476. The two transactions that did not commit within the redo log file being analyzed are not returned.</p></li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>    SELECT username AS USR, (XIDUSN || &#39;.&#39; || XIDSLT || &#39;.&#39; ||  XIDSQN) AS XID, SQL_REDO, 
       SQL_UNDO FROM V$LOGMNR_CONTENTS WHERE username IN (&#39;HR&#39;, &#39;OE&#39;);
    ;
    USR    XID          SQL_REDO                        SQL_UNDO
    ----   ---------    ------------------------------- ---------------------------------

    OE     1.1.1484   set transaction read write;

    OE     1.1.1484   update &quot;OE&quot;.&quot;PRODUCT_INFORMATION&quot;  update &quot;OE&quot;.&quot;PRODUCT_INFORMATION&quot; 
                      set &quot;WARRANTY_PERIOD&quot; =            set &quot;WARRANTY_PERIOD&quot; = 
                      TO_YMINTERVAL(&#39;+05-00&#39;) where      TO_YMINTERVAL(&#39;+01-00&#39;) where
                      &quot;PRODUCT_ID&quot; = &#39;1799&#39; and          &quot;PRODUCT_ID&quot; = &#39;1799&#39; and
                      &quot;WARRANTY_PERIOD&quot; =                &quot;WARRANTY_PERIOD&quot; = 
                      TO_YMINTERVAL(&#39;+01-00&#39;) and        TO_YMINTERVAL(&#39;+05-00&#39;) and
                      ROWID = &#39;AAAHTKAABAAAY9mAAB&#39;;      ROWID = &#39;AAAHTKAABAAAY9mAAB&#39;; 

    OE     1.1.1484   update &quot;OE&quot;.&quot;PRODUCT_INFORMATION&quot;  update &quot;OE&quot;.&quot;PRODUCT_INFORMATION&quot;
                      set &quot;WARRANTY_PERIOD&quot; =            set &quot;WARRANTY_PERIOD&quot; =
                      TO_YMINTERVAL(&#39;+05-00&#39;) where      TO_YMINTERVAL(&#39;+01-00&#39;) where
                      &quot;PRODUCT_ID&quot; = &#39;1801&#39; and          &quot;PRODUCT_ID&quot; = &#39;1801&#39; and
                      &quot;WARRANTY_PERIOD&quot; =                &quot;WARRANTY_PERIOD&quot; = 
                      TO_YMINTERVAL(&#39;+01-00&#39;) and        TO_YMINTERVAL(&#39;+05-00&#39;) and
                      ROWID = &#39;AAAHTKAABAAAY9mAAC&#39;;      ROWID =&#39;AAAHTKAABAAAY9mAAC&#39;;

    OE     1.1.1484   commit;

    HR     1.11.1476  set transaction read write;

    HR     1.11.1476  insert into &quot;HR&quot;.&quot;EMPLOYEES&quot;(     delete from &quot;HR&quot;.&quot;EMPLOYEES&quot; 
                      &quot;EMPLOYEE_ID&quot;,&quot;FIRST_NAME&quot;,       where &quot;EMPLOYEE_ID&quot; = &#39;306&#39;
                      &quot;LAST_NAME&quot;,&quot;EMAIL&quot;,              and &quot;FIRST_NAME&quot; = &#39;Nandini&#39;
                      &quot;PHONE_NUMBER&quot;,&quot;HIRE_DATE&quot;,       and &quot;LAST_NAME&quot; = &#39;Shastry&#39;
                      &quot;JOB_ID&quot;,&quot;SALARY&quot;,                and &quot;EMAIL&quot; = &#39;NSHASTRY&#39;
                      &quot;COMMISSION_PCT&quot;,&quot;MANAGER_ID&quot;,    and &quot;PHONE_NUMBER&quot; = &#39;1234567890&#39;
                      &quot;DEPARTMENT_ID&quot;) values           and &quot;HIRE_DATE&quot; = TO_DATE(&#39;10-JAN-2012
                      (&#39;306&#39;,&#39;Nandini&#39;,&#39;Shastry&#39;,       13:34:43&#39;, &#39;dd-mon-yyyy hh24:mi:ss&#39;) 
                      &#39;NSHASTRY&#39;, &#39;1234567890&#39;,         and &quot;JOB_ID&quot; = &#39;HR_REP&#39; and 
                      TO_DATE(&#39;10-jan-2012 13:34:43&#39;,   &quot;SALARY&quot; = &#39;120000&#39; and 
                      &#39;dd-mon-yyy hh24:mi:ss&#39;),         &quot;COMMISSION_PCT&quot; = &#39;.05&#39; and
                      &#39;HR_REP&#39;,&#39;120000&#39;, &#39;.05&#39;,         &quot;DEPARTMENT_ID&quot; = &#39;10&#39; and
                      &#39;105&#39;,&#39;10&#39;);                      ROWID = &#39;AAAHSkAABAAAY6rAAO&#39;;

    HR     1.11.1476  insert into &quot;HR&quot;.&quot;EMPLOYEES&quot;(     delete from &quot;HR&quot;.&quot;EMPLOYEES&quot;
                      &quot;EMPLOYEE_ID&quot;,&quot;FIRST_NAME&quot;,       &quot;EMPLOYEE_ID&quot; = &#39;307&#39; and 
                      &quot;LAST_NAME&quot;,&quot;EMAIL&quot;,              &quot;FIRST_NAME&quot; = &#39;John&#39; and
                      &quot;PHONE_NUMBER&quot;,&quot;HIRE_DATE&quot;,       &quot;LAST_NAME&quot; = &#39;Silver&#39; and
                      &quot;JOB_ID&quot;,&quot;SALARY&quot;,                &quot;EMAIL&quot; = &#39;JSILVER&#39; and 
                      &quot;COMMISSION_PCT&quot;,&quot;MANAGER_ID&quot;,    &quot;PHONE_NUMBER&quot; = &#39;5551112222&#39;
                      &quot;DEPARTMENT_ID&quot;) values           and &quot;HIRE_DATE&quot; = TO_DATE(&#39;10-jan-2012
                      (&#39;307&#39;,&#39;John&#39;,&#39;Silver&#39;,           13:41:03&#39;, &#39;dd-mon-yyyy hh24:mi:ss&#39;) 
                       &#39;JSILVER&#39;, &#39;5551112222&#39;,         and &quot;JOB_ID&quot; =&#39;105&#39; and &quot;DEPARTMENT_ID&quot; 
                      TO_DATE(&#39;10-jan-2012 13:41:03&#39;,   = &#39;50&#39; and ROWID = &#39;AAAHSkAABAAAY6rAAP&#39;; 
                      &#39;dd-mon-yyyy hh24:mi:ss&#39;),
                      &#39;SH_CLERK&#39;,&#39;110000&#39;, &#39;.05&#39;,
                      &#39;105&#39;,&#39;50&#39;);                

    HR     1.11.1476  commit;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="5"><li>End the LogMiner session.</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>    EXECUTE DBMS_LOGMNR.END_LOGMNR();
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="example-3-formatting-the-reconstructed-sql" tabindex="-1"><a class="header-anchor" href="#example-3-formatting-the-reconstructed-sql" aria-hidden="true">#</a> Example 3: Formatting the Reconstructed SQL</h4><p>As shown in <a href="https://docs.oracle.com/en/database/oracle/oracle-database/19/sutil/oracle-logminer-utility.html#GUID-9CCAC3BD-EF59-4370-BAA8-5451082577A0" target="_blank" rel="noopener noreferrer">Example 2: Grouping DML Statements into Committed Transactions <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>, using the <code>COMMITTED_DATA_ONLY</code> option with the dictionary in the online redo log file is an easy way to focus on committed transactions. However, one aspect remains that makes visual inspection difficult: the association between the column names and their respective values in an <code>INSERT</code> statement are not apparent. This can be addressed by specifying the <code>PRINT_PRETTY_SQL</code> option. Note that specifying this option will make some of the reconstructed SQL statements nonexecutable.</p><ol><li>Determine which redo log file was most recently archived.</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>    SELECT NAME FROM V$ARCHIVED_LOG
       WHERE FIRST_TIME = (SELECT MAX(FIRST_TIME) FROM V$ARCHIVED_LOG);

    NAME                            
    -------------------------------------------
    /usr/oracle/data/db1arch_1_16_482701534.dbf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>Specify the redo log file that was returned by the query in Step 1.</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>    EXECUTE DBMS_LOGMNR.ADD_LOGFILE( -
       LOGFILENAME =&gt; &#39;/usr/oracle/data/db1arch_1_16_482701534.dbf&#39;, -
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li><p>Start LogMiner by specifying the dictionary to use and the <code>COMMITTED_DATA_ONLY</code> and <code>PRINT_PRETTY_SQL</code> options.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>EXECUTE DBMS_LOGMNR.START_LOGMNR(-
   OPTIONS =&gt; DBMS_LOGMNR.DICT_FROM_ONLINE_CATALOG + -
              DBMS_LOGMNR.COMMITTED_DATA_ONLY + -
              DBMS_LOGMNR.PRINT_PRETTY_SQL);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The <code>DBMS_LOGMNR.PRINT_PRETTY_SQL</code> option changes only the format of the reconstructed SQL, and therefore is useful for generating reports for visual inspection.</p></li><li><p>Query the <code>V$LOGMNR_CONTENTS</code> view for <code>SQL_REDO</code> statements.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>SELECT username AS USR, (XIDUSN || &#39;.&#39; || XIDSLT || &#39;.&#39; ||  XIDSQN) AS XID, SQL_REDO 
   FROM V$LOGMNR_CONTENTS;

USR    XID          SQL_REDO                     
----   ---------  -----------------------------------------------------

OE     1.1.1484   set transaction read write;

OE     1.1.1484   update &quot;OE&quot;.&quot;PRODUCT_INFORMATION&quot;  
                    set 
                      &quot;WARRANTY_PERIOD&quot; = TO_YMINTERVAL(&#39;+05-00&#39;) 
                    where
                      &quot;PRODUCT_ID&quot; = &#39;1799&#39; and          
                      &quot;WARRANTY_PERIOD&quot; = TO_YMINTERVAL(&#39;+01-00&#39;) and        
                      ROWID = &#39;AAAHTKAABAAAY9mAAB&#39;;  

OE     1.1.1484   update &quot;OE&quot;.&quot;PRODUCT_INFORMATION&quot;
                    set 
                      &quot;WARRANTY_PERIOD&quot; = TO_YMINTERVAL(&#39;+05-00&#39;) 
                    where
                      &quot;PRODUCT_ID&quot; = &#39;1801&#39; and
                      &quot;WARRANTY_PERIOD&quot; = TO_YMINTERVAL(&#39;+01-00&#39;) and   
                      ROWID = &#39;AAAHTKAABAAAY9mAAC&#39;; 

OE     1.1.1484   commit;

HR     1.11.1476  set transaction read write;

HR     1.11.1476  insert into &quot;HR&quot;.&quot;EMPLOYEES&quot;
                   values
                     &quot;EMPLOYEE_ID&quot; = 306,
                     &quot;FIRST_NAME&quot; = &#39;Nandini&#39;,
                     &quot;LAST_NAME&quot; = &#39;Shastry&#39;,
                     &quot;EMAIL&quot; = &#39;NSHASTRY&#39;,
                     &quot;PHONE_NUMBER&quot; = &#39;1234567890&#39;,
                     &quot;HIRE_DATE&quot; = TO_DATE(&#39;10-jan-2012 13:34:43&#39;, 
                     &#39;dd-mon-yyyy hh24:mi:ss&#39;,
                     &quot;JOB_ID&quot; = &#39;HR_REP&#39;,
                     &quot;SALARY&quot; = 120000,
                     &quot;COMMISSION_PCT&quot; = .05,
                     &quot;MANAGER_ID&quot; = 105,
                     &quot;DEPARTMENT_ID&quot; = 10;

HR     1.11.1476   insert into &quot;HR&quot;.&quot;EMPLOYEES&quot;
                    values
                       &quot;EMPLOYEE_ID&quot; = 307,
                       &quot;FIRST_NAME&quot; = &#39;John&#39;,
                       &quot;LAST_NAME&quot; = &#39;Silver&#39;,
                       &quot;EMAIL&quot; = &#39;JSILVER&#39;,
                       &quot;PHONE_NUMBER&quot; = &#39;5551112222&#39;,
                       &quot;HIRE_DATE&quot; = TO_DATE(&#39;10-jan-2012 13:41:03&#39;,
                       &#39;dd-mon-yyyy hh24:mi:ss&#39;),
                       &quot;JOB_ID&quot; = &#39;SH_CLERK&#39;,
                       &quot;SALARY&quot; = 110000,
                       &quot;COMMISSION_PCT&quot; = .05,
                       &quot;MANAGER_ID&quot; = 105,
                       &quot;DEPARTMENT_ID&quot; = 50;
HR     1.11.1476    commit;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Query the <code>V$LOGMNR_CONTENTS</code> view for reconstructed <code>SQL_UNDO</code> statements.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>SELECT username AS USR, (XIDUSN || &#39;.&#39; || XIDSLT || &#39;.&#39; ||  XIDSQN) AS XID, SQL_UNDO 
   FROM V$LOGMNR_CONTENTS;

USR   XID        SQL_UNDO                     
----   ---------  -----------------------------------------------------


OE     1.1.1484   set transaction read write;

OE     1.1.1484   update &quot;OE&quot;.&quot;PRODUCT_INFORMATION&quot;  
                    set 
                      &quot;WARRANTY_PERIOD&quot; = TO_YMINTERVAL(&#39;+01-00&#39;) 
                    where
                      &quot;PRODUCT_ID&quot; = &#39;1799&#39; and          
                      &quot;WARRANTY_PERIOD&quot; = TO_YMINTERVAL(&#39;+05-00&#39;) and        
                      ROWID = &#39;AAAHTKAABAAAY9mAAB&#39;;  

OE     1.1.1484   update &quot;OE&quot;.&quot;PRODUCT_INFORMATION&quot;
                    set 
                      &quot;WARRANTY_PERIOD&quot; = TO_YMINTERVAL(&#39;+01-00&#39;) 
                    where
                      &quot;PRODUCT_ID&quot; = &#39;1801&#39; and
                      &quot;WARRANTY_PERIOD&quot; = TO_YMINTERVAL(&#39;+05-00&#39;) and   
                      ROWID = &#39;AAAHTKAABAAAY9mAAC&#39;; 

OE     1.1.1484   commit;

HR     1.11.1476  set transaction read write;

HR     1.11.1476  delete from &quot;HR&quot;.&quot;EMPLOYEES&quot;
                  where
                     &quot;EMPLOYEE_ID&quot; = 306 and
                     &quot;FIRST_NAME&quot; = &#39;Nandini&#39; and
                     &quot;LAST_NAME&quot; = &#39;Shastry&#39; and
                     &quot;EMAIL&quot; = &#39;NSHASTRY&#39; and
                     &quot;PHONE_NUMBER&quot; = &#39;1234567890&#39; and
                     &quot;HIRE_DATE&quot; = TO_DATE(&#39;10-jan-2012 13:34:43&#39;,
                     &#39;dd-mon-yyyy hh24:mi:ss&#39;) and
                     &quot;JOB_ID&quot; = &#39;HR_REP&#39; and 
                     &quot;SALARY&quot; = 120000 and
                     &quot;COMMISSION_PCT&quot; = .05 and
                     &quot;MANAGER_ID&quot; = 105 and
                     &quot;DEPARTMENT_ID&quot; = 10 and
                     ROWID = &#39;AAAHSkAABAAAY6rAAO&#39;;

HR     1.11.1476   delete from &quot;HR&quot;.&quot;EMPLOYEES&quot;
                   where
                       &quot;EMPLOYEE_ID&quot; = 307 and
                       &quot;FIRST_NAME&quot; = &#39;John&#39; and
                       &quot;LAST_NAME&quot; = &#39;Silver&#39; and
                       &quot;EMAIL&quot; = &#39;JSILVER&#39; and
                       &quot;PHONE_NUMBER&quot; = &#39;555122122&#39; and
                       &quot;HIRE_DATE&quot; = TO_DATE(&#39;10-jan-2012 13:41:03&#39;,
                       &#39;dd-mon-yyyy hh24:mi:ss&#39;) and
                       &quot;JOB_ID&quot; = &#39;SH_CLERK&#39; and
                       &quot;SALARY&quot; = 110000 and
                       &quot;COMMISSION_PCT&quot; = .05 and
                       &quot;MANAGER_ID&quot; = 105 and
                       &quot;DEPARTMENT_ID&quot; = 50 and
                       ROWID = &#39;AAAHSkAABAAAY6rAAP&#39;; 
HR     1.11.1476    commit;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>End the LogMiner session.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>EXECUTE DBMS_LOGMNR.END_LOGMNR();
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol><h4 id="example-4-using-the-logminer-dictionary-in-the-redo-log-files" tabindex="-1"><a class="header-anchor" href="#example-4-using-the-logminer-dictionary-in-the-redo-log-files" aria-hidden="true">#</a> Example 4: Using the LogMiner Dictionary in the Redo Log Files</h4><p>This example shows how to use the dictionary that has been extracted to the redo log files. When you use the dictionary in the online catalog, you must mine the redo log files in the same database that generated them. Using the dictionary contained in the redo log files enables you to mine redo log files in a different database.</p><ol><li><p>Determine which redo log file was most recently archived by the database.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>SELECT NAME, SEQUENCE# FROM V$ARCHIVED_LOG
   WHERE FIRST_TIME = (SELECT MAX(FIRST_TIME) FROM V$ARCHIVED_LOG);

NAME                                           SEQUENCE#
--------------------------------------------   --------------
/usr/oracle/data/db1arch_1_210_482701534.dbf   210
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>The dictionary may be contained in more than one redo log file. Therefore, you need to determine which redo log files contain the start and end of the dictionary. Query the <code>V$ARCHIVED_LOG</code> view, as follows:</p><ol><li><p>Find a redo log file that contains the end of the dictionary extract. This redo log file must have been created before the redo log file that you want to analyze, but should be as recent as possible.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>SELECT NAME, SEQUENCE#, DICTIONARY_BEGIN d_beg, DICTIONARY_END d_end
   FROM V$ARCHIVED_LOG
   WHERE SEQUENCE# = (SELECT MAX (SEQUENCE#) FROM V$ARCHIVED_LOG
   WHERE DICTIONARY_END = &#39;YES&#39; and SEQUENCE# &lt;= 210);

NAME                                           SEQUENCE#    D_BEG  D_END
--------------------------------------------   ----------   -----  ------
/usr/oracle/data/db1arch_1_208_482701534.dbf   208          NO     YES
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Find the redo log file that contains the start of the data dictionary extract that matches the end of the dictionary found in the previous step:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>SELECT NAME, SEQUENCE#, DICTIONARY_BEGIN d_beg, DICTIONARY_END d_end
   FROM V$ARCHIVED_LOG
   WHERE SEQUENCE# = (SELECT MAX (SEQUENCE#) FROM V$ARCHIVED_LOG
   WHERE DICTIONARY_BEGIN = &#39;YES&#39; and SEQUENCE# &lt;= 208);

NAME                                           SEQUENCE#    D_BEG  D_END
--------------------------------------------   ----------   -----  ------
/usr/oracle/data/db1arch_1_207_482701534.dbf   207          YES     NO
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Specify the list of the redo log files of interest. Add the redo log files that contain the start and end of the dictionary and the redo log file that you want to analyze. You can add the redo log files in any order.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>EXECUTE DBMS_LOGMNR.ADD_LOGFILE(-
   LOGFILENAME =&gt; &#39;/usr/oracle/data/db1arch_1_210_482701534.dbf&#39;, -
       OPTIONS =&gt; DBMS_LOGMNR.NEW);
EXECUTE DBMS_LOGMNR.ADD_LOGFILE(-
   LOGFILENAME =&gt; &#39;/usr/oracle/data/db1arch_1_208_482701534.dbf&#39;);
EXECUTE DBMS_LOGMNR.ADD_LOGFILE(-
   LOGFILENAME =&gt; &#39;/usr/oracle/data/db1arch_1_207_482701534.dbf&#39;);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Query the <code>V$LOGMNR_LOGS</code> view to display the list of redo log files to be analyzed, including their timestamps.</p><p>In the output, LogMiner flags a missing redo log file. LogMiner lets you proceed with mining, provided that you do not specify an option that requires the missing redo log file for proper functioning.</p></li></ol></li><li><p>Start LogMiner by specifying the dictionary to use and the <code>COMMITTED_DATA_ONLY</code> and <code>PRINT_PRETTY_SQL</code> options.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>EXECUTE DBMS_LOGMNR.START_LOGMNR(-
   OPTIONS =&gt; DBMS_LOGMNR.DICT_FROM_REDO_LOGS + -
              DBMS_LOGMNR.COMMITTED_DATA_ONLY + -
              DBMS_LOGMNR.PRINT_PRETTY_SQL);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Query the <code>V$LOGMNR_CONTENTS</code> view.</p><p>To reduce the number of rows returned by the query, exclude from the query all DML statements done in the <code>SYS</code> or <code>SYSTEM</code> schemas. (This query specifies a timestamp to exclude transactions that were involved in the dictionary extraction.)</p><p>The output shows three transactions: two DDL transactions and one DML transaction. The DDL transactions, 1.2.1594 and 1.18.1602, create the table <code>oe.product_tracking</code> and create a trigger on table <code>oe.product_information</code>, respectively. In both transactions, the DML statements done to the system tables (tables owned by <code>SYS</code>) are filtered out because of the query predicate.</p><p>The DML transaction, 1.9.1598, updates the <code>oe.product_information</code> table. The update operation in this transaction is fully translated. However, the query output also contains some untranslated reconstructed SQL statements. Most likely, these statements were done on the <code>oe.product_tracking</code> table that was created after the data dictionary was extracted to the redo log files.</p><p>(The next example shows how to run LogMiner with the <code>DDL_DICT_TRACKING</code> option so that all SQL statements are fully translated; no binary data is returned.)</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>SELECT USERNAME AS usr, SQL_REDO FROM V$LOGMNR_CONTENTS 
   WHERE SEG_OWNER IS NULL OR SEG_OWNER NOT IN (&#39;SYS&#39;, &#39;SYSTEM&#39;) AND
   TIMESTAMP &gt; &#39;10-jan-2012 15:59:53&#39;;

USR             XID         SQL_REDO
---             --------    -----------------------------------
SYS             1.2.1594    set transaction read write;
SYS             1.2.1594    create table oe.product_tracking (product_id number not null,
                            modified_time date,
                            old_list_price number(8,2),
                            old_warranty_period interval year(2) to month);
SYS             1.2.1594    commit;

SYS             1.18.1602   set transaction read write;
SYS             1.18.1602   create or replace trigger oe.product_tracking_trigger
                            before update on oe.product_information
                            for each row
                            when (new.list_price &lt;&gt; old.list_price or
                                  new.warranty_period &lt;&gt; old.warranty_period)
                            declare
                            begin
                            insert into oe.product_tracking values 
                               (:old.product_id, sysdate,
                                :old.list_price, :old.warranty_period);
                            end;
SYS             1.18.1602   commit;

OE              1.9.1598    update &quot;OE&quot;.&quot;PRODUCT_INFORMATION&quot;
                              set
                                &quot;WARRANTY_PERIOD&quot; = TO_YMINTERVAL(&#39;+08-00&#39;),
                                &quot;LIST_PRICE&quot; = 100
                              where
                                &quot;PRODUCT_ID&quot; = 1729 and
                                &quot;WARRANTY_PERIOD&quot; = TO_YMINTERVAL(&#39;+05-00&#39;) and
                                &quot;LIST_PRICE&quot; = 80 and
                                ROWID = &#39;AAAHTKAABAAAY9yAAA&#39;;

OE              1.9.1598    insert into &quot;UNKNOWN&quot;.&quot;OBJ# 33415&quot;
                              values
                                &quot;COL 1&quot; = HEXTORAW(&#39;c2121e&#39;),
                                &quot;COL 2&quot; = HEXTORAW(&#39;7867010d110804&#39;),
                                &quot;COL 3&quot; = HEXTORAW(&#39;c151&#39;),
                                &quot;COL 4&quot; = HEXTORAW(&#39;800000053c&#39;);

OE              1.9.1598    update &quot;OE&quot;.&quot;PRODUCT_INFORMATION&quot;
                              set
                                &quot;WARRANTY_PERIOD&quot; = TO_YMINTERVAL(&#39;+08-00&#39;),
                                &quot;LIST_PRICE&quot; = 92
                              where
                                &quot;PRODUCT_ID&quot; = 2340 and
                                &quot;WARRANTY_PERIOD&quot; = TO_YMINTERVAL(&#39;+05-00&#39;) and
                                &quot;LIST_PRICE&quot; = 72 and
                                ROWID = &#39;AAAHTKAABAAAY9zAAA&#39;;

OE              1.9.1598    insert into &quot;UNKNOWN&quot;.&quot;OBJ# 33415&quot;
                              values
                                &quot;COL 1&quot; = HEXTORAW(&#39;c21829&#39;),
                                &quot;COL 2&quot; = HEXTORAW(&#39;7867010d110808&#39;),
                                &quot;COL 3&quot; = HEXTORAW(&#39;c149&#39;),
                                &quot;COL 4&quot; = HEXTORAW(&#39;800000053c&#39;);

OE              1.9.1598     commit;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Issue additional queries, if desired.</p><p>Display all the DML statements that were executed as part of the <code>CREATE TABLE</code> DDL statement. This includes statements executed by users and internally by Oracle.</p><p>Note:</p><p>If you choose to reapply statements displayed by a query such as the one shown here, then reapply DDL statements only. Do not reapply DML statements that were executed internally by Oracle, or you risk corrupting your database. In the following output, the only statement that you should use in a reapply operation is the <code>CREATE TABLE OE.PRODUCT_TRACKING</code> statement.</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> SQL_REDO <span class="token keyword">FROM</span> V$LOGMNR_CONTENTS
   <span class="token keyword">WHERE</span> XIDUSN  <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">and</span> XIDSLT <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">and</span> XIDSQN <span class="token operator">=</span> <span class="token number">1594</span><span class="token punctuation">;</span>

SQL_REDO
<span class="token comment">--------------------------------------------------------------------------------</span>
<span class="token keyword">set</span> <span class="token keyword">transaction</span> <span class="token keyword">read</span> <span class="token keyword">write</span><span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token string">&quot;SYS&quot;</span><span class="token punctuation">.</span><span class="token string">&quot;OBJ$&quot;</span>
 <span class="token keyword">values</span>
    <span class="token string">&quot;OBJ#&quot;</span> <span class="token operator">=</span> <span class="token number">33415</span><span class="token punctuation">,</span>
    <span class="token string">&quot;DATAOBJ#&quot;</span> <span class="token operator">=</span> <span class="token number">33415</span><span class="token punctuation">,</span>
    <span class="token string">&quot;OWNER#&quot;</span> <span class="token operator">=</span> <span class="token number">37</span><span class="token punctuation">,</span>
    <span class="token string">&quot;NAME&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;PRODUCT_TRACKING&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;NAMESPACE&quot;</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SUBNAME&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;TYPE#&quot;</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token string">&quot;CTIME&quot;</span> <span class="token operator">=</span> TO_DATE<span class="token punctuation">(</span><span class="token string">&#39;13-jan-2012 14:01:03&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;dd-mon-yyyy hh24:mi:ss&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string">&quot;MTIME&quot;</span> <span class="token operator">=</span> TO_DATE<span class="token punctuation">(</span><span class="token string">&#39;13-jan-2012 14:01:03&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;dd-mon-yyyy hh24:mi:ss&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string">&quot;STIME&quot;</span> <span class="token operator">=</span> TO_DATE<span class="token punctuation">(</span><span class="token string">&#39;13-jan-2012 14:01:03&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;dd-mon-yyyy hh24:mi:ss&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string">&quot;STATUS&quot;</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string">&quot;REMOTEOWNER&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;LINKNAME&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;FLAGS&quot;</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;OID$&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE1&quot;</span> <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE2&quot;</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE3&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE4&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE5&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE6&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token string">&quot;SYS&quot;</span><span class="token punctuation">.</span><span class="token string">&quot;TAB$&quot;</span>
 <span class="token keyword">values</span>
    <span class="token string">&quot;OBJ#&quot;</span> <span class="token operator">=</span> <span class="token number">33415</span><span class="token punctuation">,</span>
    <span class="token string">&quot;DATAOBJ#&quot;</span> <span class="token operator">=</span> <span class="token number">33415</span><span class="token punctuation">,</span>
    <span class="token string">&quot;TS#&quot;</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;FILE#&quot;</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string">&quot;BLOCK#&quot;</span> <span class="token operator">=</span> <span class="token number">121034</span><span class="token punctuation">,</span>
    <span class="token string">&quot;BOBJ#&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;TAB#&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;COLS&quot;</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token string">&quot;CLUCOLS&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;PCTFREE$&quot;</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token string">&quot;PCTUSED$&quot;</span> <span class="token operator">=</span> <span class="token number">40</span><span class="token punctuation">,</span>
    <span class="token string">&quot;INITRANS&quot;</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string">&quot;MAXTRANS&quot;</span> <span class="token operator">=</span> <span class="token number">255</span><span class="token punctuation">,</span>
    <span class="token string">&quot;FLAGS&quot;</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string">&quot;AUDIT$&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;--------------------------------------&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;ROWCNT&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;BLKCNT&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;EMPCNT&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;AVGSPC&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;CHNCNT&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;AVGRLN&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;AVGSPC_FLB&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;FLBCNT&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;ANALYZETIME&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SAMPLESIZE&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;DEGREE&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;INSTANCES&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;INTCOLS&quot;</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token string">&quot;KERNELCOLS&quot;</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token string">&quot;PROPERTY&quot;</span> <span class="token operator">=</span> <span class="token number">536870912</span><span class="token punctuation">,</span>
    <span class="token string">&quot;TRIGFLAG&quot;</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE1&quot;</span> <span class="token operator">=</span> <span class="token number">178</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE2&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE3&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE4&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE5&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE6&quot;</span> <span class="token operator">=</span> TO_DATE<span class="token punctuation">(</span><span class="token string">&#39;13-jan-2012 14:01:05&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;dd-mon-yyyy hh24:mi:ss&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token string">&quot;SYS&quot;</span><span class="token punctuation">.</span><span class="token string">&quot;COL$&quot;</span>
 <span class="token keyword">values</span>
    <span class="token string">&quot;OBJ#&quot;</span> <span class="token operator">=</span> <span class="token number">33415</span><span class="token punctuation">,</span>
    <span class="token string">&quot;COL#&quot;</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SEGCOL#&quot;</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SEGCOLLENGTH&quot;</span> <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">,</span>
    <span class="token string">&quot;OFFSET&quot;</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;NAME&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;PRODUCT_ID&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;TYPE#&quot;</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token string">&quot;LENGTH&quot;</span> <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">,</span>
    <span class="token string">&quot;FIXEDSTORAGE&quot;</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;PRECISION#&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SCALE&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;NULL$&quot;</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string">&quot;DEFLENGTH&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE6&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;INTCOL#&quot;</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string">&quot;PROPERTY&quot;</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;CHARSETID&quot;</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;CHARSETFORM&quot;</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE1&quot;</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE2&quot;</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE3&quot;</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE4&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE5&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;DEFAULT$&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token string">&quot;SYS&quot;</span><span class="token punctuation">.</span><span class="token string">&quot;COL$&quot;</span>
 <span class="token keyword">values</span>
    <span class="token string">&quot;OBJ#&quot;</span> <span class="token operator">=</span> <span class="token number">33415</span><span class="token punctuation">,</span>
    <span class="token string">&quot;COL#&quot;</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SEGCOL#&quot;</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SEGCOLLENGTH&quot;</span> <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">,</span>
    <span class="token string">&quot;OFFSET&quot;</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;NAME&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;MODIFIED_TIME&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;TYPE#&quot;</span> <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">,</span>
    <span class="token string">&quot;LENGTH&quot;</span> <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">,</span>
    <span class="token string">&quot;FIXEDSTORAGE&quot;</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;PRECISION#&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SCALE&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;NULL$&quot;</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;DEFLENGTH&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE6&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;INTCOL#&quot;</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token string">&quot;PROPERTY&quot;</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;CHARSETID&quot;</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;CHARSETFORM&quot;</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE1&quot;</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE2&quot;</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE3&quot;</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE4&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE5&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;DEFAULT$&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token string">&quot;SYS&quot;</span><span class="token punctuation">.</span><span class="token string">&quot;COL$&quot;</span>
 <span class="token keyword">values</span>
    <span class="token string">&quot;OBJ#&quot;</span> <span class="token operator">=</span> <span class="token number">33415</span><span class="token punctuation">,</span>
    <span class="token string">&quot;COL#&quot;</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SEGCOL#&quot;</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SEGCOLLENGTH&quot;</span> <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">,</span>
    <span class="token string">&quot;OFFSET&quot;</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;NAME&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;OLD_LIST_PRICE&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;TYPE#&quot;</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token string">&quot;LENGTH&quot;</span> <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">,</span>
    <span class="token string">&quot;FIXEDSTORAGE&quot;</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;PRECISION#&quot;</span> <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SCALE&quot;</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token string">&quot;NULL$&quot;</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;DEFLENGTH&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE6&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;INTCOL#&quot;</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token string">&quot;PROPERTY&quot;</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;CHARSETID&quot;</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;CHARSETFORM&quot;</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE1&quot;</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE2&quot;</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE3&quot;</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE4&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE5&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;DEFAULT$&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token string">&quot;SYS&quot;</span><span class="token punctuation">.</span><span class="token string">&quot;COL$&quot;</span>
 <span class="token keyword">values</span>
    <span class="token string">&quot;OBJ#&quot;</span> <span class="token operator">=</span> <span class="token number">33415</span><span class="token punctuation">,</span>
    <span class="token string">&quot;COL#&quot;</span> <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SEGCOL#&quot;</span> <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SEGCOLLENGTH&quot;</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token string">&quot;OFFSET&quot;</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;NAME&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;OLD_WARRANTY_PERIOD&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;TYPE#&quot;</span> <span class="token operator">=</span> <span class="token number">182</span><span class="token punctuation">,</span>
    <span class="token string">&quot;LENGTH&quot;</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token string">&quot;FIXEDSTORAGE&quot;</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;PRECISION#&quot;</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SCALE&quot;</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;NULL$&quot;</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;DEFLENGTH&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE6&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;INTCOL#&quot;</span> <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">,</span>
    <span class="token string">&quot;PROPERTY&quot;</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;CHARSETID&quot;</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;CHARSETFORM&quot;</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE1&quot;</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE2&quot;</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE3&quot;</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE4&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE5&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;DEFAULT$&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token string">&quot;SYS&quot;</span><span class="token punctuation">.</span><span class="token string">&quot;CCOL$&quot;</span>
 <span class="token keyword">values</span>
    <span class="token string">&quot;OBJ#&quot;</span> <span class="token operator">=</span> <span class="token number">33415</span><span class="token punctuation">,</span>
    <span class="token string">&quot;CON#&quot;</span> <span class="token operator">=</span> <span class="token number">2090</span><span class="token punctuation">,</span>
    <span class="token string">&quot;COL#&quot;</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string">&quot;POS#&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;INTCOL#&quot;</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE1&quot;</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE2&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE3&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE4&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE5&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE6&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token string">&quot;SYS&quot;</span><span class="token punctuation">.</span><span class="token string">&quot;CDEF$&quot;</span>
 <span class="token keyword">values</span>
    <span class="token string">&quot;OBJ#&quot;</span> <span class="token operator">=</span> <span class="token number">33415</span><span class="token punctuation">,</span>
    <span class="token string">&quot;CON#&quot;</span> <span class="token operator">=</span> <span class="token number">2090</span><span class="token punctuation">,</span>
    <span class="token string">&quot;COLS&quot;</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string">&quot;TYPE#&quot;</span> <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">,</span>
    <span class="token string">&quot;ROBJ#&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;RCON#&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;RRULES&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;MATCH#&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;REFACT&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;ENABLED&quot;</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string">&quot;CONDLENGTH&quot;</span> <span class="token operator">=</span> <span class="token number">24</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE6&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;INTCOLS&quot;</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string">&quot;MTIME&quot;</span> <span class="token operator">=</span> TO_DATE<span class="token punctuation">(</span><span class="token string">&#39;13-jan-2012 14:01:08&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;dd-mon-yyyy hh24:mi:ss&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string">&quot;DEFER&quot;</span> <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE1&quot;</span> <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE2&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE3&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE4&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE5&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;CONDITION&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;&quot;PRODUCT_ID&quot; IS NOT NULL&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">create</span> <span class="token keyword">table</span> oe<span class="token punctuation">.</span>product_tracking <span class="token punctuation">(</span>product_id number <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
  modified_time <span class="token keyword">date</span><span class="token punctuation">,</span>
  old_product_description varchar2<span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  old_list_price number<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  old_warranty_period <span class="token keyword">interval</span> <span class="token keyword">year</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">to</span> <span class="token keyword">month</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">update</span> <span class="token string">&quot;SYS&quot;</span><span class="token punctuation">.</span><span class="token string">&quot;SEG$&quot;</span>
  <span class="token keyword">set</span>
    <span class="token string">&quot;TYPE#&quot;</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token string">&quot;BLOCKS&quot;</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token string">&quot;EXTENTS&quot;</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string">&quot;INIEXTS&quot;</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token string">&quot;MINEXTS&quot;</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string">&quot;MAXEXTS&quot;</span> <span class="token operator">=</span> <span class="token number">121</span><span class="token punctuation">,</span>
    <span class="token string">&quot;EXTSIZE&quot;</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token string">&quot;EXTPCT&quot;</span> <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">,</span>
    <span class="token string">&quot;USER#&quot;</span> <span class="token operator">=</span> <span class="token number">37</span><span class="token punctuation">,</span>
    <span class="token string">&quot;LISTS&quot;</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;GROUPS&quot;</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;CACHEHINT&quot;</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;HWMINCR&quot;</span> <span class="token operator">=</span> <span class="token number">33415</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE1&quot;</span> <span class="token operator">=</span> <span class="token number">1024</span>
  <span class="token keyword">where</span>
    <span class="token string">&quot;TS#&quot;</span> <span class="token operator">=</span> <span class="token number">0</span> <span class="token operator">and</span>
    <span class="token string">&quot;FILE#&quot;</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">and</span>
    <span class="token string">&quot;BLOCK#&quot;</span> <span class="token operator">=</span> <span class="token number">121034</span> <span class="token operator">and</span>
    <span class="token string">&quot;TYPE#&quot;</span> <span class="token operator">=</span> <span class="token number">3</span> <span class="token operator">and</span>
    <span class="token string">&quot;BLOCKS&quot;</span> <span class="token operator">=</span> <span class="token number">5</span> <span class="token operator">and</span>
    <span class="token string">&quot;EXTENTS&quot;</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">and</span>
    <span class="token string">&quot;INIEXTS&quot;</span> <span class="token operator">=</span> <span class="token number">5</span> <span class="token operator">and</span>
    <span class="token string">&quot;MINEXTS&quot;</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">and</span>
    <span class="token string">&quot;MAXEXTS&quot;</span> <span class="token operator">=</span> <span class="token number">121</span> <span class="token operator">and</span>
    <span class="token string">&quot;EXTSIZE&quot;</span> <span class="token operator">=</span> <span class="token number">5</span> <span class="token operator">and</span>
    <span class="token string">&quot;EXTPCT&quot;</span> <span class="token operator">=</span> <span class="token number">50</span> <span class="token operator">and</span>
    <span class="token string">&quot;USER#&quot;</span> <span class="token operator">=</span> <span class="token number">37</span> <span class="token operator">and</span>
    <span class="token string">&quot;LISTS&quot;</span> <span class="token operator">=</span> <span class="token number">0</span> <span class="token operator">and</span>
    <span class="token string">&quot;GROUPS&quot;</span> <span class="token operator">=</span> <span class="token number">0</span> <span class="token operator">and</span>
    <span class="token string">&quot;BITMAPRANGES&quot;</span> <span class="token operator">=</span> <span class="token number">0</span> <span class="token operator">and</span>
    <span class="token string">&quot;CACHEHINT&quot;</span> <span class="token operator">=</span> <span class="token number">0</span> <span class="token operator">and</span>
    <span class="token string">&quot;SCANHINT&quot;</span> <span class="token operator">=</span> <span class="token number">0</span> <span class="token operator">and</span>
    <span class="token string">&quot;HWMINCR&quot;</span> <span class="token operator">=</span> <span class="token number">33415</span> <span class="token operator">and</span>
    <span class="token string">&quot;SPARE1&quot;</span> <span class="token operator">=</span> <span class="token number">1024</span> <span class="token operator">and</span>
    <span class="token string">&quot;SPARE2&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span> <span class="token operator">and</span>
    ROWID <span class="token operator">=</span> <span class="token string">&#39;AAAAAIAABAAAdMOAAB&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token string">&quot;SYS&quot;</span><span class="token punctuation">.</span><span class="token string">&quot;CON$&quot;</span>
 <span class="token keyword">values</span>
    <span class="token string">&quot;OWNER#&quot;</span> <span class="token operator">=</span> <span class="token number">37</span><span class="token punctuation">,</span>
    <span class="token string">&quot;NAME&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;SYS_C002090&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;CON#&quot;</span> <span class="token operator">=</span> <span class="token number">2090</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE1&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE2&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE3&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE4&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE5&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    <span class="token string">&quot;SPARE6&quot;</span> <span class="token operator">IS</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>

<span class="token keyword">commit</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>
1.  End the LogMiner session.

  ```sql
    EXECUTE DBMS_LOGMNR.END_LOGMNR();
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="example-5-tracking-ddl-statements-in-the-internal-dictionary" tabindex="-1"><a class="header-anchor" href="#example-5-tracking-ddl-statements-in-the-internal-dictionary" aria-hidden="true">#</a> Example 5: Tracking DDL Statements in the Internal Dictionary</h4><p>By using the <code>DBMS_LOGMNR.DDL_DICT_TRACKING</code> option, this example ensures that the LogMiner internal dictionary is updated with the DDL statements encountered in the redo log files.</p><ol><li><p>Determine which redo log file was most recently archived by the database.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>SELECT NAME, SEQUENCE# FROM V$ARCHIVED_LOG 
   WHERE FIRST_TIME = (SELECT MAX(FIRST_TIME) FROM V$ARCHIVED_LOG);

NAME                                           SEQUENCE#
--------------------------------------------   --------------
/usr/oracle/data/db1arch_1_210_482701534.dbf   210
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Because the dictionary may be contained in more than one redo log file, you need to determine which redo log files contain the start and end of the data dictionary. Query the <code>V$ARCHIVED_LOG</code> view, as follows:</p><ol><li><p>Find a redo log that contains the end of the data dictionary extract. This redo log file must have been created before the redo log files that you want to analyze, but should be as recent as possible.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>SELECT NAME, SEQUENCE#, DICTIONARY_BEGIN d_beg, DICTIONARY_END d_end
   FROM V$ARCHIVED_LOG
   WHERE SEQUENCE# = (SELECT MAX (SEQUENCE#) FROM V$ARCHIVED_LOG
   WHERE DICTIONARY_END = &#39;YES&#39; and SEQUENCE# &lt; 210);

NAME                                           SEQUENCE#    D_BEG  D_END
--------------------------------------------   ----------   -----  ------
/usr/oracle/data/db1arch_1_208_482701534.dbf   208          NO     YES
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Find the redo log file that contains the start of the data dictionary extract that matches the end of the dictionary found by the previous SQL statement:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>SELECT NAME, SEQUENCE#, DICTIONARY_BEGIN d_beg, DICTIONARY_END d_end
   FROM V$ARCHIVED_LOG
   WHERE SEQUENCE# = (SELECT MAX (SEQUENCE#) FROM V$ARCHIVED_LOG
   WHERE DICTIONARY_BEGIN = &#39;YES&#39; and SEQUENCE# &lt;= 208);

NAME                                           SEQUENCE#    D_BEG  D_END
--------------------------------------------   ----------   -----  ------
/usr/oracle/data/db1arch_1_208_482701534.dbf   207          YES     NO
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol></li><li><p>Ensure that you have a complete list of redo log files.</p><p>To successfully apply DDL statements encountered in the redo log files, ensure that all files are included in the list of redo log files to mine. The missing log file corresponding to sequence# 209 must be included in the list. Determine the names of the redo log files that you need to add to the list by issuing the following query:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>SELECT NAME FROM V$ARCHIVED_LOG
   WHERE SEQUENCE# &gt;= 207 AND SEQUENCE# &lt;= 210 
   ORDER BY SEQUENCE# ASC;

NAME                                           
--------------------------------------------   
/usr/oracle/data/db1arch_1_207_482701534.dbf  
/usr/oracle/data/db1arch_1_208_482701534.dbf  
/usr/oracle/data/db1arch_1_209_482701534.dbf  
/usr/oracle/data/db1arch_1_210_482701534.dbf  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Specify the list of the redo log files of interest.</p><p>Include the redo log files that contain the beginning and end of the dictionary, the redo log file that you want to mine, and any redo log files required to create a list without gaps. You can add the redo log files in any order.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>EXECUTE DBMS_LOGMNR.ADD_LOGFILE(-
   LOGFILENAME =&gt; &#39;/usr/oracle/data/db1arch_1_210_482701534.dbf&#39;, -
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>      OPTIONS =&gt; DBMS_LOGMNR.NEW);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>EXECUTE DBMS_LOGMNR.ADD_LOGFILE(-
   LOGFILENAME =&gt; &#39;/usr/oracle/data/db1arch_1_209_482701534.dbf&#39;);
EXECUTE DBMS_LOGMNR.ADD_LOGFILE(-
   LOGFILENAME =&gt; &#39;/usr/oracle/data/db1arch_1_208_482701534.dbf&#39;);
EXECUTE DBMS_LOGMNR.ADD_LOGFILE(-
   LOGFILENAME =&gt; &#39;/usr/oracle/data/db1arch_1_207_482701534.dbf&#39;);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Start LogMiner by specifying the dictionary to use and the <code>DDL_DICT_TRACKING</code>, <code>COMMITTED_DATA_ONLY</code>, and <code>PRINT_PRETTY_SQL</code> options.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>EXECUTE DBMS_LOGMNR.START_LOGMNR(-
   OPTIONS =&gt; DBMS_LOGMNR.DICT_FROM_REDO_LOGS + -
              DBMS_LOGMNR.DDL_DICT_TRACKING + -
              DBMS_LOGMNR.COMMITTED_DATA_ONLY + -
              DBMS_LOGMNR.PRINT_PRETTY_SQL);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Query the <code>V$LOGMNR_CONTENTS</code> view.</p><p>To reduce the number of rows returned, exclude from the query all DML statements done in the <code>SYS</code> or <code>SYSTEM</code> schemas. (This query specifies a timestamp to exclude transactions that were involved in the dictionary extraction.)</p><p>The query returns all the reconstructed SQL statements correctly translated and the insert operations on the <code>oe.product_tracking</code> table that occurred because of the trigger execution.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>SELECT USERNAME AS usr,(XIDUSN || &#39;.&#39; || XIDSLT || &#39;.&#39; || XIDSQN) as XID, SQL_REDO FROM  
   V$LOGMNR_CONTENTS 
   WHERE SEG_OWNER IS NULL OR SEG_OWNER NOT IN (&#39;SYS&#39;, &#39;SYSTEM&#39;) AND
   TIMESTAMP &gt; &#39;10-jan-2012 15:59:53&#39;;

USR             XID         SQL_REDO
-----------     --------    -----------------------------------
SYS             1.2.1594    set transaction read write;
SYS             1.2.1594    create table oe.product_tracking (product_id number not null,
                            modified_time date,
                            old_list_price number(8,2),
                            old_warranty_period interval year(2) to month);
SYS             1.2.1594    commit;

SYS             1.18.1602   set transaction read write;
SYS             1.18.1602   create or replace trigger oe.product_tracking_trigger
                            before update on oe.product_information
                            for each row
                            when (new.list_price &lt;&gt; old.list_price or
                                  new.warranty_period &lt;&gt; old.warranty_period)
                            declare
                            begin
                            insert into oe.product_tracking values 
                               (:old.product_id, sysdate,
                                :old.list_price, :old.warranty_period);
                            end;
SYS             1.18.1602   commit;

OE              1.9.1598    update &quot;OE&quot;.&quot;PRODUCT_INFORMATION&quot;
                              set
                                &quot;WARRANTY_PERIOD&quot; = TO_YMINTERVAL(&#39;+08-00&#39;),
                                &quot;LIST_PRICE&quot; = 100
                              where
                                &quot;PRODUCT_ID&quot; = 1729 and
                                &quot;WARRANTY_PERIOD&quot; = TO_YMINTERVAL(&#39;+05-00&#39;) and
                                &quot;LIST_PRICE&quot; = 80 and
                                ROWID = &#39;AAAHTKAABAAAY9yAAA&#39;;
OE              1.9.1598    insert into &quot;OE&quot;.&quot;PRODUCT_TRACKING&quot;
                              values
                                &quot;PRODUCT_ID&quot; = 1729,
                                &quot;MODIFIED_TIME&quot; = TO_DATE(&#39;13-jan-2012 16:07:03&#39;, 
                                &#39;dd-mon-yyyy hh24:mi:ss&#39;),
                                &quot;OLD_LIST_PRICE&quot; = 80,
                                &quot;OLD_WARRANTY_PERIOD&quot; = TO_YMINTERVAL(&#39;+05-00&#39;);

OE              1.9.1598    update &quot;OE&quot;.&quot;PRODUCT_INFORMATION&quot;
                              set
                                &quot;WARRANTY_PERIOD&quot; = TO_YMINTERVAL(&#39;+08-00&#39;),
                                &quot;LIST_PRICE&quot; = 92
                              where
                                &quot;PRODUCT_ID&quot; = 2340 and
                                &quot;WARRANTY_PERIOD&quot; = TO_YMINTERVAL(&#39;+05-00&#39;) and
                                &quot;LIST_PRICE&quot; = 72 and
                                ROWID = &#39;AAAHTKAABAAAY9zAAA&#39;;

OE              1.9.1598    insert into &quot;OE&quot;.&quot;PRODUCT_TRACKING&quot;
                              values
                                &quot;PRODUCT_ID&quot; = 2340,
                                &quot;MODIFIED_TIME&quot; = TO_DATE(&#39;13-jan-2012 16:07:07&#39;, 
                                &#39;dd-mon-yyyy hh24:mi:ss&#39;),
                                &quot;OLD_LIST_PRICE&quot; = 72,
                                &quot;OLD_WARRANTY_PERIOD&quot; = TO_YMINTERVAL(&#39;+05-00&#39;);

OE              1.9.1598     commit;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>End the LogMiner session.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>EXECUTE DBMS_LOGMNR.END_LOGMNR();
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol><h4 id="example-6-filtering-output-by-time-range" tabindex="-1"><a class="header-anchor" href="#example-6-filtering-output-by-time-range" aria-hidden="true">#</a> Example 6: Filtering Output by Time Range</h4><p>In the previous two examples, rows were filtered by specifying a timestamp-based predicate (timestamp &gt; &#39;10-jan-2012 15:59:53&#39;) in the query. However, a more efficient way to filter out redo records based on timestamp values is by specifying the time range in the <code>DBMS_LOGMNR.START_LOGMNR</code> procedure call, as shown in this example.</p><ol><li><p>Create a list of redo log files to mine.</p><p>Suppose you want to mine redo log files generated since a given time. The following procedure creates a list of redo log files based on a specified time. The subsequent SQL <code>EXECUTE</code> statement calls the procedure and specifies the starting time as 2 p.m. on Jan-13-2012.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>--
-- my_add_logfiles
-- Add all archived logs generated after a specified start_time.
--
CREATE OR REPLACE PROCEDURE my_add_logfiles (in_start_time  IN DATE) AS
  CURSOR  c_log IS 
    SELECT NAME FROM V$ARCHIVED_LOG 
      WHERE FIRST_TIME &gt;= in_start_time;

count      pls_integer := 0;
my_option  pls_integer := DBMS_LOGMNR.NEW;

BEGIN
  FOR c_log_rec IN c_log
  LOOP
    DBMS_LOGMNR.ADD_LOGFILE(LOGFILENAME =&gt; c_log_rec.name, 
                            OPTIONS =&gt; my_option);
    my_option := DBMS_LOGMNR.ADDFILE;
    DBMS_OUTPUT.PUT_LINE(&#39;Added logfile &#39; || c_log_rec.name);
  END LOOP;
END;
/

EXECUTE my_add_logfiles(in_start_time =&gt; &#39;13-jan-2012 14:00:00&#39;);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Query the <code>V$LOGMNR_LOGS</code> to see the list of redo log files.</p><p>This example includes the size of the redo log files in the output.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>SELECT FILENAME name, LOW_TIME start_time, FILESIZE bytes 
    FROM V$LOGMNR_LOGS;

NAME                                START_TIME            BYTES
----------------------------------- --------------------  ----------------
/usr/orcl/arch1_310_482932022.dbf    13-jan-2012 14:02:35  23683584
/usr/orcl/arch1_311_482932022.dbf    13-jan-2012 14:56:35  2564096
/usr/orcl/arch1_312_482932022.dbf    13-jan-2012 15:10:43  23683584
/usr/orcl/arch1_313_482932022.dbf    13-jan-2012 15:17:52  23683584
/usr/orcl/arch1_314_482932022.dbf    13-jan-2012 15:23:10  23683584
/usr/orcl/arch1_315_482932022.dbf    13-jan-2012 15:43:22  23683584
/usr/orcl/arch1_316_482932022.dbf    13-jan-2012 16:03:10  23683584
/usr/orcl/arch1_317_482932022.dbf    13-jan-2012 16:33:43  23683584
/usr/orcl/arch1_318_482932022.dbf    13-jan-2012 17:23:10  23683584
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Adjust the list of redo log files.</p><p>Suppose you realize that you want to mine just the redo log files generated between 3 p.m. and 4 p.m.</p><p>You could use the query predicate (<code>timestamp &gt; &#39;13-jan-2012 15:00:00&#39; and timestamp &lt; &#39;13-jan-2012 16:00:00&#39;</code>) to accomplish this. However, the query predicate is evaluated on each row returned by LogMiner, and the internal mining engine does not filter rows based on the query predicate. Thus, although you only wanted to get rows out of redo log files <code>arch1_311_482932022.dbf</code> to <code>arch1_315_482932022.dbf,</code> your query would result in mining all redo log files registered to the LogMiner session.</p><p>Furthermore, although you could use the query predicate and manually remove the redo log files that do not fall inside the time range of interest, the simplest solution is to specify the time range of interest in the <code>DBMS_LOGMNR.START_LOGMNR</code> procedure call.</p><p>Although this does not change the list of redo log files, LogMiner will mine only those redo log files that fall in the time range specified.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>EXECUTE DBMS_LOGMNR.START_LOGMNR(-
   STARTTIME =&gt; &#39;13-jan-2012 15:00:00&#39;, -
   ENDTIME   =&gt; &#39;13-jan-2012 16:00:00&#39;, -
   OPTIONS   =&gt; DBMS_LOGMNR.DICT_FROM_ONLINE_CATALOG + -
                DBMS_LOGMNR.COMMITTED_DATA_ONLY + -
                DBMS_LOGMNR.PRINT_PRETTY_SQL);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Query the <code>V$LOGMNR_CONTENTS</code> view.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>SELECT TIMESTAMP, (XIDUSN || &#39;.&#39; || XIDSLT || &#39;.&#39; || XIDSQN) AS XID,
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>SQL_REDO FROM V$LOGMNR_CONTENTS WHERE SEG_OWNER = &#39;OE&#39;;

TIMESTAMP              XID          SQL_REDO
---------------------  -----------  --------------------------------
13-jan-2012 15:29:31   1.17.2376    update &quot;OE&quot;.&quot;PRODUCT_INFORMATION&quot;
                                      set
                                        &quot;WARRANTY_PERIOD&quot; = TO_YMINTERVAL(&#39;+05-00&#39;)
                                      where
                                        &quot;PRODUCT_ID&quot; = 3399 and
                                        &quot;WARRANTY_PERIOD&quot; = TO_YMINTERVAL(&#39;+02-00&#39;) and
                                        ROWID = &#39;AAAHTKAABAAAY9TAAE&#39;;
13-jan-2012 15:29:34   1.17.2376      insert into &quot;OE&quot;.&quot;PRODUCT_TRACKING&quot;
                                        values
                                        &quot;PRODUCT_ID&quot; = 3399,
                                        &quot;MODIFIED_TIME&quot; = TO_DATE(&#39;13-jan-2012 15:29:34&#39;, 
                                        &#39;dd-mon-yyyy hh24:mi:ss&#39;),
                                        &quot;OLD_LIST_PRICE&quot; = 815,
                                        &quot;OLD_WARRANTY_PERIOD&quot; = TO_YMINTERVAL(&#39;+02-00&#39;);

13-jan-2012 15:52:43   1.15.1756      update &quot;OE&quot;.&quot;PRODUCT_INFORMATION&quot;
                                        set
                                          &quot;WARRANTY_PERIOD&quot; = TO_YMINTERVAL(&#39;+05-00&#39;)
                                        where
                                          &quot;PRODUCT_ID&quot; = 1768 and
                                          &quot;WARRANTY_PERIOD&quot; = TO_YMINTERVAL(&#39;+02-00&#39;) and
                                          ROWID = &#39;AAAHTKAABAAAY9UAAB&#39;;

13-jan-2012 15:52:43   1.15.1756      insert into &quot;OE&quot;.&quot;PRODUCT_TRACKING&quot;
                                        values
                                        &quot;PRODUCT_ID&quot; = 1768,
                                        &quot;MODIFIED_TIME&quot; = TO_DATE(&#39;13-jan-2012 16:52:43&#39;, 
                                        &#39;dd-mon-yyyy hh24:mi:ss&#39;),
                                        &quot;OLD_LIST_PRICE&quot; = 715,
                                        &quot;OLD_WARRANTY_PERIOD&quot; = TO_YMINTERVAL(&#39;+02-00&#39;);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>End the LogMiner session.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>EXECUTE DBMS_LOGMNR.END_LOGMNR();
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol><h3 id="examples-of-mining-without-specifying-the-list-of-redo-log-files-explicitly" tabindex="-1"><a class="header-anchor" href="#examples-of-mining-without-specifying-the-list-of-redo-log-files-explicitly" aria-hidden="true">#</a> Examples of Mining Without Specifying the List of Redo Log Files Explicitly</h3><p>Examples that do not specify redo log files.</p><p>The previous set of examples explicitly specified the redo log file or files to be mined. However, if you are mining in the same database that generated the redo log files, then you can mine the appropriate list of redo log files by just specifying the time (or SCN) range of interest. To mine a set of redo log files without explicitly specifying them, specify either a time range or an SCN range of interest.</p><p>Note:The <code>continuous_mine</code> option for the <code>dbms_logmnr.start_logmnr</code> package is desupported in Oracle Database 19c (19.1), and is no longer available.</p><p>This section contains the following list of examples; these examples are best read in sequential order, because each example builds on the example or examples that precede it:</p><p>The SQL output formatting may be different on your display than that shown in these examples.</p><h4 id="example-1-mining-redo-log-files-in-a-given-time-range" tabindex="-1"><a class="header-anchor" href="#example-1-mining-redo-log-files-in-a-given-time-range" aria-hidden="true">#</a> Example 1: Mining Redo Log Files in a Given Time Range</h4><p>This example is similar to Example 4: Using the LogMiner Dictionary in the Redo Log Files, except the list of redo log files are not specified explicitly. This example assumes that you want to use the data dictionary extracted to the redo log files.</p><ol><li><p>Determine the timestamp of the redo log file that contains the start of the data dictionary.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>SELECT NAME, FIRST_TIME FROM V$ARCHIVED_LOG
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>   WHERE SEQUENCE# = (SELECT MAX(SEQUENCE#) FROM V$ARCHIVED_LOG 
    WHERE DICTIONARY_BEGIN = &#39;YES&#39;);

NAME                                          FIRST_TIME
--------------------------------------------  --------------------
/usr/oracle/data/db1arch_1_207_482701534.dbf  10-jan-2012 12:01:34
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Display all the redo log files that have been generated so far.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>SELECT FILENAME name FROM V$LOGMNR_LOGS
   WHERE LOW_TIME &gt; &#39;10-jan-2012 12:01:34&#39;;

NAME
----------------------------------------------
/usr/oracle/data/db1arch_1_207_482701534.dbf
/usr/oracle/data/db1arch_1_208_482701534.dbf
/usr/oracle/data/db1arch_1_209_482701534.dbf
/usr/oracle/data/db1arch_1_210_482701534.dbf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Start LogMiner by specifying the dictionary to use and the <code>COMMITTED_DATA_ONLY</code> and <code>PRINT_PRETTY_SQL</code> options.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>EXECUTE DBMS_LOGMNR.START_LOGMNR(-
   STARTTIME =&gt; &#39;10-jan-2012 12:01:34&#39;, -
     ENDTIME =&gt; SYSDATE, -
     OPTIONS =&gt; DBMS_LOGMNR.DICT_FROM_REDO_LOGS + -
                DBMS_LOGMNR.COMMITTED_DATA_ONLY + -
                DBMS_LOGMNR.PRINT_PRETTY_SQL + -
                    );
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Query the <code>V$LOGMNR_LOGS</code> view.</p><p>This step shows that the <code>DBMS_LOGMNR.START_LOGMNR</code> procedure includes all of the redo log files that have been generated so far, as expected. (Compare the output in this step to the output in Step 2.)</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>SELECT FILENAME name FROM V$LOGMNR_LOGS;

NAME
------------------------------------------------------
/usr/oracle/data/db1arch_1_207_482701534.dbf
/usr/oracle/data/db1arch_1_208_482701534.dbf
/usr/oracle/data/db1arch_1_209_482701534.dbf
/usr/oracle/data/db1arch_1_210_482701534.dbf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Query the <code>V$LOGMNR_CONTENTS</code> view.</p><p>To reduce the number of rows returned by the query, exclude all DML statements done in the <code>SYS</code> or <code>SYSTEM</code> schema. (This query specifies a timestamp to exclude transactions that were involved in the dictionary extraction.)</p><p>Note that all reconstructed SQL statements returned by the query are correctly translated.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>SELECT USERNAME AS usr,(XIDUSN || &#39;.&#39; || XIDSLT || &#39;.&#39; || XIDSQN) as XID, 
   SQL_REDO FROM V$LOGMNR_CONTENTS 
   WHERE SEG_OWNER IS NULL OR SEG_OWNER NOT IN (&#39;SYS&#39;, &#39;SYSTEM&#39;) AND
   TIMESTAMP &gt; &#39;10-jan-2012 15:59:53&#39;;

USR             XID         SQL_REDO
-----------     --------    -----------------------------------
SYS             1.2.1594    set transaction read write;
SYS             1.2.1594    create table oe.product_tracking (product_id number not null,
                            modified_time date,
                            old_list_price number(8,2),
                            old_warranty_period interval year(2) to month);
SYS             1.2.1594    commit;

SYS             1.18.1602   set transaction read write;
SYS             1.18.1602   create or replace trigger oe.product_tracking_trigger
                            before update on oe.product_information
                            for each row
                            when (new.list_price &lt;&gt; old.list_price or
                                  new.warranty_period &lt;&gt; old.warranty_period)
                            declare
                            begin
                            insert into oe.product_tracking values 
                               (:old.product_id, sysdate,
                                :old.list_price, :old.warranty_period);
                            end;
SYS             1.18.1602   commit;

OE              1.9.1598    update &quot;OE&quot;.&quot;PRODUCT_INFORMATION&quot;
                              set
                                &quot;WARRANTY_PERIOD&quot; = TO_YMINTERVAL(&#39;+08-00&#39;),
                                &quot;LIST_PRICE&quot; = 100
                              where
                                &quot;PRODUCT_ID&quot; = 1729 and
                                &quot;WARRANTY_PERIOD&quot; = TO_YMINTERVAL(&#39;+05-00&#39;) and
                                &quot;LIST_PRICE&quot; = 80 and
                                ROWID = &#39;AAAHTKAABAAAY9yAAA&#39;;
OE              1.9.1598    insert into &quot;OE&quot;.&quot;PRODUCT_TRACKING&quot;
                              values
                                &quot;PRODUCT_ID&quot; = 1729,
                                &quot;MODIFIED_TIME&quot; = TO_DATE(&#39;13-jan-2012 16:07:03&#39;, 
                                &#39;dd-mon-yyyy hh24:mi:ss&#39;),
                                &quot;OLD_LIST_PRICE&quot; = 80,
                                &quot;OLD_WARRANTY_PERIOD&quot; = TO_YMINTERVAL(&#39;+05-00&#39;);

OE              1.9.1598    update &quot;OE&quot;.&quot;PRODUCT_INFORMATION&quot;
                              set
                                &quot;WARRANTY_PERIOD&quot; = TO_YMINTERVAL(&#39;+08-00&#39;),
                                &quot;LIST_PRICE&quot; = 92
                              where
                                &quot;PRODUCT_ID&quot; = 2340 and
                                &quot;WARRANTY_PERIOD&quot; = TO_YMINTERVAL(&#39;+05-00&#39;) and
                                &quot;LIST_PRICE&quot; = 72 and
                                ROWID = &#39;AAAHTKAABAAAY9zAAA&#39;;

OE              1.9.1598    insert into &quot;OE&quot;.&quot;PRODUCT_TRACKING&quot;
                              values
                                &quot;PRODUCT_ID&quot; = 2340,
                                &quot;MODIFIED_TIME&quot; = TO_DATE(&#39;13-jan-2012 16:07:07&#39;, 
                                &#39;dd-mon-yyyy hh24:mi:ss&#39;),
                                &quot;OLD_LIST_PRICE&quot; = 72,
                                &quot;OLD_WARRANTY_PERIOD&quot; = TO_YMINTERVAL(&#39;+05-00&#39;);

OE              1.9.1598     commit;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>End the LogMiner session.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>EXECUTE DBMS_LOGMNR.END_LOGMNR();
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol><h4 id="example-2-mining-the-redo-log-files-in-a-given-scn-range" tabindex="-1"><a class="header-anchor" href="#example-2-mining-the-redo-log-files-in-a-given-scn-range" aria-hidden="true">#</a> Example 2: Mining the Redo Log Files in a Given SCN Range</h4><p>This example shows how to specify an SCN range of interest and mine the redo log files that satisfy that range. You can use LogMiner to see all committed DML statements whose effects have not yet been made permanent in the data files.</p><p>Note that in this example (unlike the other examples) it is not assumed that you have set the <code>NLS_DATE_FORMAT</code> parameter.</p><ol><li><p>Determine the SCN of the last checkpoint taken.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>SELECT CHECKPOINT_CHANGE#, CURRENT_SCN FROM V$DATABASE;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>CHECKPOINT_CHANGE#  CURRENT_SCN
------------------  ---------------
          56453576         56454208
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Start LogMiner.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>EXECUTE DBMS_LOGMNR.START_LOGMNR(-
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>  STARTSCN =&gt; 56453576, -
   ENDSCN   =&gt; 56454208, -
   OPTIONS  =&gt; DBMS_LOGMNR.DICT_FROM_ONLINE_CATALOG + -
               DBMS_LOGMNR.COMMITTED_DATA_ONLY + -
               DBMS_LOGMNR.PRINT_PRETTY_SQL + -
               );
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Display the list of archived redo log files added by LogMiner.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>SELECT FILENAME name, LOW_SCN, NEXT_SCN FROM V$LOGMNR_LOGS;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>NAME                                           LOW_SCN   NEXT_SCN
--------------------------------------------   --------  --------
/usr/oracle/data/db1arch_1_215_482701534.dbf   56316771  56453579
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Note that the redo log file that LogMiner added does not contain the whole SCN range. LogMiner adds the rest of the SCN range contained in the online redo log files automatically, as needed during the query execution. Use the following query to determine whether the redo log file added is the latest archived redo log file produced.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>SELECT NAME FROM V$ARCHIVED_LOG 
   WHERE SEQUENCE# = (SELECT MAX(SEQUENCE#) FROM V$ARCHIVED_LOG);

NAME
-------------------------------------------- 
/usr/oracle/data/db1arch_1_215_482701534.dbf 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Query the <code>V$LOGMNR_CONTENTS</code> view for changes made to the user tables.</p><p>The following query does not return the <code>SET TRANSACTION READ WRITE</code> and <code>COMMIT</code> statements associated with transaction 1.6.1911 because these statements do not have a segment owner (<code>SEG_OWNER</code>) associated with them.</p><p>Note that the default <code>NLS_DATE_FORMAT</code>, &#39;DD-MON-RR&#39;, is used to display the column <code>MODIFIED_TIME</code> of type <code>DATE</code>.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>SELECT SCN, (XIDUSN || &#39;.&#39; || XIDSLT || &#39;.&#39; ||  XIDSQN) as XID, SQL_REDO 
    FROM V$LOGMNR_CONTENTS
    WHERE SEG_OWNER NOT IN (&#39;SYS&#39;, &#39;SYSTEM&#39;);

SCN        XID        SQL_REDO
---------- ---------- -------------
56454198   1.6.1911   update &quot;OE&quot;.&quot;PRODUCT_INFORMATION&quot;
                        set
                          &quot;WARRANTY_PERIOD&quot; = TO_YMINTERVAL(&#39;+05-00&#39;)
                        where
                          &quot;PRODUCT_ID&quot; = 2430 and
                          &quot;WARRANTY_PERIOD&quot; = TO_YMINTERVAL(&#39;+02-00&#39;) and
                          ROWID = &#39;AAAHTKAABAAAY9AAAC&#39;;

56454199   1.6.1911   insert into &quot;OE&quot;.&quot;PRODUCT_TRACKING&quot;
                        values
                          &quot;PRODUCT_ID&quot; = 2430,
                          &quot;MODIFIED_TIME&quot; = TO_DATE(&#39;17-JAN-03&#39;, &#39;DD-MON-RR&#39;),
                          &quot;OLD_LIST_PRICE&quot; = 175,
                          &quot;OLD_WARRANTY_PERIOD&quot; = TO_YMINTERVAL(&#39;+02-00&#39;);

56454204   1.6.1911    update &quot;OE&quot;.&quot;PRODUCT_INFORMATION&quot;
                         set
                           &quot;WARRANTY_PERIOD&quot; = TO_YMINTERVAL(&#39;+05-00&#39;)
                         where
                           &quot;PRODUCT_ID&quot; = 2302 and
                           &quot;WARRANTY_PERIOD&quot; = TO_YMINTERVAL(&#39;+02-00&#39;) and
                           ROWID = &#39;AAAHTKAABAAAY9QAAA&#39;;
56454206   1.6.1911    insert into &quot;OE&quot;.&quot;PRODUCT_TRACKING&quot;
                         values
                           &quot;PRODUCT_ID&quot; = 2302,
                           &quot;MODIFIED_TIME&quot; = TO_DATE(&#39;17-JAN-03&#39;, &#39;DD-MON-RR&#39;),
                           &quot;OLD_LIST_PRICE&quot; = 150,
                           &quot;OLD_WARRANTY_PERIOD&quot; = TO_YMINTERVAL(&#39;+02-00&#39;);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>End the LogMiner session.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>EXECUTE DBMS_LOGMNR.END_LOGMNR();
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol><h4 id="example-3-using-continuous-mining-to-include-future-values-in-a-query" tabindex="-1"><a class="header-anchor" href="#example-3-using-continuous-mining-to-include-future-values-in-a-query" aria-hidden="true">#</a> Example 3: Using Continuous Mining to Include Future Values in a Query</h4><p>To specify that a query not finishes until some future time occurs or SCN is reached, set either the <code>ENDTIME</code> or <code>ENDSCN</code> option in your call to the <code>DBMS_LOGMNR.START_LOGMNR</code> procedure to a time in the future or to an SCN value that has not yet been reached.</p><p>This examples assumes that you want to monitor all changes made to the table <code>hr.employees</code> from now until 5 hours from now, and that you are using the dictionary in the online catalog.</p><ol><li><p>Start LogMiner.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>EXECUTE DBMS_LOGMNR.START_LOGMNR(-
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>  STARTTIME =&gt; SYSDATE, -
   ENDTIME   =&gt; SYSDATE + 5/24, -
   OPTIONS   =&gt; DBMS_LOGMNR.DICT_FROM_ONLINE_CATALOG);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Query the <code>V$LOGMNR_CONTENTS</code> view.</p><p>This select operation will not complete until it encounters the first redo log file record that is generated after the time range of interest (5 hours from now). You can end the select operation prematurely by pressing Ctrl+C.</p><p>This example specifies the <code>SET</code> <code>ARRAYSIZE</code> statement so that rows are displayed as they are entered in the redo log file. If you do not specify the <code>SET ARRAYSIZE</code> statement, then rows are not returned until the SQL internal buffer is full.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>SET ARRAYSIZE 1;
SELECT USERNAME AS usr, SQL_REDO FROM V$LOGMNR_CONTENTS
   WHERE  SEG_OWNER = &#39;HR&#39; AND TABLE_NAME = &#39;EMPLOYEES&#39;;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>End the LogMiner session.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>EXECUTE DBMS_LOGMNR.END_LOGMNR();
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol><h3 id="example-scenarios" tabindex="-1"><a class="header-anchor" href="#example-scenarios" aria-hidden="true">#</a> Example Scenarios</h3><p>Examples of how to use LogMiner for typical scenarios.</p><p>These examples include:</p><h4 id="scenario-1-using-logminer-to-track-changes-made-by-a-specific-user" tabindex="-1"><a class="header-anchor" href="#scenario-1-using-logminer-to-track-changes-made-by-a-specific-user" aria-hidden="true">#</a> Scenario 1: Using LogMiner to Track Changes Made by a Specific User</h4><p>This example shows how to see all changes made to the database in a specific time range by a single user: <code>joedevo</code>. Connect to the database and then take the following steps:</p><ol><li><p>Create the LogMiner dictionary file.</p><p>To use LogMiner to analyze <code>joedevo</code>&#39;s data, you must either create a LogMiner dictionary file before any table definition changes are made to tables that <code>joedevo</code> uses or use the online catalog at LogMiner startup. See <a href="https://docs.oracle.com/en/database/oracle/oracle-database/19/sutil/oracle-logminer-utility.html#GUID-8D74F78A-E7D1-48E6-8E65-5E8CC55F0757" title="Extracting a LogMiner dictionary." target="_blank" rel="noopener noreferrer">Extract a LogMiner Dictionary<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> for examples of creating LogMiner dictionaries. This example uses a LogMiner dictionary that has been extracted to the redo log files.</p></li><li><p>Add redo log files.</p><p>Assume that <code>joedevo</code> has made some changes to the database. You can now specify the names of the redo log files that you want to analyze, as follows:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>EXECUTE DBMS_LOGMNR.ADD_LOGFILE( -
   LOGFILENAME =&gt; &#39;log1orc1.ora&#39;, -
   OPTIONS =&gt; DBMS_LOGMNR.NEW);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If desired, add additional redo log files, as follows:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>EXECUTE DBMS_LOGMNR.ADD_LOGFILE( -
   LOGFILENAME =&gt; &#39;log2orc1.ora&#39;, -
   OPTIONS =&gt; DBMS_LOGMNR.ADDFILE);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Start LogMiner and limit the search to the specified time range:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>EXECUTE DBMS_LOGMNR.START_LOGMNR( -
   DICTFILENAME =&gt; &#39;orcldict.ora&#39;, -
   STARTTIME =&gt; TO_DATE(&#39;01-Jan-1998 08:30:00&#39;,&#39;DD-MON-YYYY HH:MI:SS&#39;), -
   ENDTIME =&gt; TO_DATE(&#39;01-Jan-1998 08:45:00&#39;, &#39;DD-MON-YYYY HH:MI:SS&#39;));
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Query the <code>V$LOGMNR_CONTENTS</code> view.</p><p>At this point, the <code>V$LOGMNR_CONTENTS</code> view is available for queries. You decide to find all of the changes made by user <code>joedevo</code> to the <code>salary</code> table. Execute the following <code>SELECT</code> statement:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>SELECT SQL_REDO, SQL_UNDO FROM V$LOGMNR_CONTENTS 
   WHERE USERNAME = &#39;joedevo&#39; AND SEG_NAME = &#39;salary&#39;;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>For both the <code>SQL_REDO</code> and <code>SQL_UNDO</code> columns, two rows are returned (the format of the data display will be different on your screen). You discover that <code>joedevo</code> requested two operations: he deleted his old salary and then inserted a new, higher salary. You now have the data necessary to undo this operation.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>SQL_REDO                              SQL_UNDO
--------                              --------
delete from SALARY                    insert into SALARY(NAME, EMPNO, SAL)
where EMPNO = 12345                    values (&#39;JOEDEVO&#39;, 12345, 500)
and NAME=&#39;JOEDEVO&#39;
and SAL=500;

insert into SALARY(NAME, EMPNO, SAL)  delete from SALARY
values(&#39;JOEDEVO&#39;,12345, 2500)         where EMPNO = 12345
                                      and NAME = &#39;JOEDEVO&#39;
2 rows selected                       and SAL = 2500;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>End the LogMiner session.</p><p>Use the <code>DBMS_LOGMNR.END_LOGMNR</code> procedure to finish the LogMiner session properly:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>DBMS_LOGMNR.END_LOGMNR( );
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol><h4 id="scenario-2-using-logminer-to-calculate-table-access-statistics" tabindex="-1"><a class="header-anchor" href="#scenario-2-using-logminer-to-calculate-table-access-statistics" aria-hidden="true">#</a> Scenario 2: Using LogMiner to Calculate Table Access Statistics</h4><p>This scenario describes how to use LogMiner to calculate table access statistics.</p><p>In this example, assume you manage a direct marketing database and want to determine how productive the customer contacts have been in generating revenue for a 2-week period in January. Assume that you have already created the LogMiner dictionary and added the redo log files that you want to search (as demonstrated in the previous example). Take the following steps:</p><ol><li><p>Start LogMiner and specify a range of times:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>EXECUTE DBMS_LOGMNR.START_LOGMNR( -
   STARTTIME =&gt; TO_DATE(&#39;07-Jan-2012 08:30:00&#39;,&#39;DD-MON-YYYY HH:MI:SS&#39;), -
   ENDTIME =&gt; TO_DATE(&#39;21-Jan-2012 08:45:00&#39;,&#39;DD-MON-YYYY HH:MI:SS&#39;), -
   DICTFILENAME =&gt; &#39;/usr/local/dict.ora&#39;);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Query the <code>V$LOGMNR_CONTENTS</code> view to determine which tables were modified in the time range you specified, as shown in the following example. (This query filters out system tables that traditionally have a <code>$</code> in their name.)</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>SELECT SEG_OWNER, SEG_NAME, COUNT(*) AS Hits FROM
   V$LOGMNR_CONTENTS WHERE SEG_NAME NOT LIKE &#39;%$&#39; GROUP BY
   SEG_OWNER, SEG_NAME ORDER BY Hits DESC;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>The following data is displayed. (The format of your display may be different.)</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>SEG_OWNER          SEG_NAME          Hits
---------          --------          ----
CUST               ACCOUNT            384
UNIV               EXECDONOR          325
UNIV               DONOR              234
UNIV               MEGADONOR           32
HR                 EMPLOYEES           12
SYS                DONOR               12
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The values in the <code>Hits</code> column show the number of times that the named table had an insert, delete, or update operation performed on it during the 2-week period specified in the query. In this example, the <code>cust.account</code> table was modified the most during the specified 2-week period, and the <code>hr.employees</code> and <code>sys.donor</code> tables were modified the least during the same time period.</p></li><li><p>End the LogMiner session.</p><p>Use the <code>DBMS_LOGMNR.END_LOGMNR</code> procedure to finish the LogMiner session properly: <code>DBMS_LOGMNR.END_LOGMNR( );</code></p></li></ol><h2 id="supported-data-types-storage-attributes-and-database-and-redo-log-file-versions" tabindex="-1"><a class="header-anchor" href="#supported-data-types-storage-attributes-and-database-and-redo-log-file-versions" aria-hidden="true">#</a> Supported Data Types, Storage Attributes, and Database and Redo Log File Versions</h2><p>Describes information about data type and storage attribute support and the releases of the database and redo log files that are supported.</p><h3 id="supported-data-types-and-table-storage-attributes" tabindex="-1"><a class="header-anchor" href="#supported-data-types-and-table-storage-attributes" aria-hidden="true">#</a> Supported Data Types and Table Storage Attributes</h3><p>Describes supported data types and table storage attributes.</p><p>Note:</p><p>As of Oracle Database 12c Release 1 (12.1), the maximum size of the <code>VARCHAR2</code>, <code>NVARCHAR2</code>, and <code>RAW</code> data types has been increased to 32 KB when the <code>COMPATIBLE</code> initialization parameter is set to 12.0 or higher and the <code>MAX_STRING_SIZE</code> initialization parameter is set to <code>EXTENDED</code>.</p><p>LogMiner treats 32 KB columns as LOBs for the purposes of supplemental logging.</p><p>A 32 KB column cannot be part of an ALWAYS supplemental logging group.</p><p>LogMiner supports the following data types and table storage attributes. As described in <a href="https://docs.oracle.com/en/database/oracle/oracle-database/19/sutil/oracle-logminer-utility.html#GUID-8811DF7C-6A84-4DA7-9639-F9509289FA2F" title="LogMiner support for certain data types and table storage attributes has database compatibility requirements." target="_blank" rel="noopener noreferrer">Compatibility Requirements<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>, some data types are supported only in certain releases.</p><p>Data Types</p><ul><li><p><code>BINARY_DOUBLE</code></p></li><li><p><code>BINARY_FLOAT</code></p></li><li><p><code>BLOB</code></p></li><li><p><code>CHAR</code></p></li><li><p><code>CLOB</code> and <code>NCLOB</code></p></li><li><p><code>DATE</code></p></li><li><p><code>INTERVAL YEAR TO MONTH</code></p></li><li><p><code>INTERVAL DAY TO SECOND</code></p></li><li><p>LOBs stored as SecureFiles (requires that the database be run at a compatibility of 11.2 or higher.</p></li><li><p><code>LONG</code></p></li><li><p><code>LONG RAW</code></p></li><li><p><code>NCHAR</code></p></li><li><p><code>NUMBER</code></p></li><li><p><code>NVARCHAR2</code></p></li><li><p>Objects stored as <code>VARRAY</code>s</p></li><li><p>Objects (Simple and Nested ADTs without Collections)</p><p>Object support (including Oracle-supplied types such as <code>SDO_GEOMETRY</code>, <code>ORDIMAGE</code>, and so on) requires that the database be running Oracle Database 12c Release 1 (12.1) or higher with a redo compatibility setting of 12.0.0.0 or higher. The contents of the <code>SQL_REDO</code> column for the XML data-related operations is never valid SQL or PL/SQL.</p></li><li><p>Oracle Text</p></li><li><p><code>RAW</code></p></li><li><p><code>TIMESTAMP</code></p></li><li><p><code>TIMESTAMP WITH TIMEZONE</code></p></li><li><p><code>TIMESTAMP WITH LOCAL TIMEZONE</code></p></li><li><p><code>VARCHAR</code> and <code>VARCHAR2</code></p></li><li><p>XDB</p></li><li><p><code>XMLType</code> data for all storage models, assuming the following primary database compatibility requirements:</p><ul><li><p><code>XMLType</code> stored in <code>CLOB</code> format requires that the database be run at a compatibility setting of 11.0 or higher (<code>XMLType</code> stored as <code>CLOB</code> is deprecated as of Oracle Database 12c Release 1 (12.1).)</p></li><li><p><code>XMLType</code> stored in object-relational format or as binary XML requires that the database be running Oracle Database 11g Release 2 (11.2.0.3) or higher with a redo compatibility setting of 11.2.0.3 or higher. The contents of the <code>SQL_REDO</code> column for the XML data-related operations is never valid SQL or PL/SQL.</p></li></ul></li></ul><p>Table Storage Types</p><ul><li><p>Cluster tables (including index clusters and heap clusters).</p></li><li><p>Index-organized tables (IOTs) (partitioned and nonpartitioned, including overflow segments).</p></li><li><p>Heap-organized tables (partitioned and nonpartitioned).</p></li><li><p>Advanced row compression and basic table compression. Both of these options require a database compatibility setting of 11.1.0 or higher.</p></li><li><p>Tables containing LOB columns stored as SecureFiles, when database compatibility is set to 11.2 or higher.</p></li><li><p>Tables using Hybrid Columnar Compression, when database compatibility is set to 11.2.0.2 or higher.</p><p>See Also:</p><ul><li><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sutil&amp;id=CNCPT89198" target="_blank" rel="noopener noreferrer">Oracle Database Concepts<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> for more information about Hybrid Columnar Compression</li></ul></li></ul><ul><li><a href="https://docs.oracle.com/en/database/oracle/oracle-database/19/sutil/oracle-logminer-utility.html#GUID-8811DF7C-6A84-4DA7-9639-F9509289FA2F" target="_blank" rel="noopener noreferrer">Compatibility Requirements<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a><br> LogMiner support for certain data types and table storage attributes has database compatibility requirements.</li></ul><h4 id="compatibility-requirements" tabindex="-1"><a class="header-anchor" href="#compatibility-requirements" aria-hidden="true">#</a> Compatibility Requirements</h4><p>LogMiner support for certain data types and table storage attributes has database compatibility requirements.</p><p>Specifically:</p><ul><li><p>Multibyte <code>CLOB</code> support requires the database to run at a compatibility of 10.1 or higher.</p></li><li><p>IOT support without <code>LOB</code>s and Overflows requires the database to run at a compatibility of 10.1 or higher.</p></li><li><p>IOT support with <code>LOB</code> and Overflow requires the database to run at a compatibility of 10.2 or higher.</p></li><li><p>TDE and TSE support require the database to run at a compatibility of 11.1 or higher.</p></li><li><p>Basic compression and advanced row compression require the database to run at a compatibility of 11.1 or higher.</p></li><li><p>Hybrid Columnar Compression support is dependent on the underlying storage system and requires the database to run at a compatibility of 11.2 or higher.</p></li></ul><p>See Also:</p><ul><li><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sutil&amp;id=CNCPT89198" target="_blank" rel="noopener noreferrer">Oracle Database Concepts<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> for more information about Hybrid Columnar Compression</li></ul><h3 id="unsupported-data-types-and-table-storage-attributes" tabindex="-1"><a class="header-anchor" href="#unsupported-data-types-and-table-storage-attributes" aria-hidden="true">#</a> Unsupported Data Types and Table Storage Attributes</h3><p>Describes unsupported data types and table storage attributes.</p><p>LogMiner does not support the following data types and table storage attributes. If a table contains columns having any of these unsupported data types, then the entire table is ignored by LogMiner.</p><ul><li><p><code>BFILE</code></p></li><li><p>Nested tables</p></li><li><p>Objects with nested tables</p></li><li><p>Tables with identity columns</p></li><li><p>Temporal validity columns</p></li><li><p>PKREF columns</p></li><li><p>PKOID columns</p></li><li><p>Nested table attributes and stand-alone nested table columns</p></li></ul><h4 id="_22-14-3-supported-databases-and-redo-log-file-versions" tabindex="-1"><a class="header-anchor" href="#_22-14-3-supported-databases-and-redo-log-file-versions" aria-hidden="true">#</a> 22.14.3 Supported Databases and Redo Log File Versions</h4><p>Describes supported database releases and redo log file versions.</p><p>LogMiner runs only on databases of release 8.1 or later, but you can use it to analyze redo log files from release 8.0 databases. However, the information that LogMiner is able to retrieve from a redo log file depends on the version of the log, not the release of the database in use. For example, redo log files for Oracle9i can be augmented to capture additional information when supplemental logging is enabled. This allows LogMiner functionality to be used to its fullest advantage. Redo log files created with older releases of Oracle will not have that additional data and may therefore have limitations on the operations and data types supported by LogMiner.</p><p>See Also:</p><p><a href="https://docs.oracle.com/en/database/oracle/oracle-database/19/sutil/oracle-logminer-utility.html#GUID-6609EBA2-B2D7-4EAE-8344-A1F6C0A24760" title="Describes the steps in a typical LogMiner session." target="_blank" rel="noopener noreferrer">Steps in a Typical LogMiner Session<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> and <a href="https://docs.oracle.com/en/database/oracle/oracle-database/19/sutil/oracle-logminer-utility.html#GUID-D857AF96-AC24-4CA1-B620-8EA3DF30D72E" title="Describes supplemental logging." target="_blank" rel="noopener noreferrer">Supplemental Logging<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h3 id="securefiles-lob-considerations" tabindex="-1"><a class="header-anchor" href="#securefiles-lob-considerations" aria-hidden="true">#</a> SecureFiles LOB Considerations</h3><p>SecureFiles LOBs are supported when database compatibility is set to 11.2 or later.</p><p>Only <code>SQL_REDO</code> columns can be filled in for SecureFiles LOB columns; <code>SQL_UNDO</code> columns are not filled in.</p><p>Transparent Data Encryption (TDE) and data compression can be enabled on SecureFiles LOB columns at the primary database.</p><p>Deduplication of SecureFiles LOB columns is fully supported. Fragment operations are not supported.</p><p>If LogMiner encounters redo generated by unsupported operations, then it generates rows with the <code>OPERATION</code> column set to <code>UNSUPPORTED</code>. No SQL_REDO or SQL_UNDO will be generated for these redo records.</p></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/zhangchengk/edit/main/demo/src/数据库/Oracle12cLogMiner分析Redo日志文件.md" rel="noopener noreferrer" target="_blank" aria-label="编辑此页" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->编辑此页<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">上次编辑于: </span><span class="info">2022/5/21 17:05:16</span></div><div class="meta-item contributors"><span class="label">贡献者: </span><!--[--><!--[--><span class="contributor" title="email: zhangchengk@foxmail.com">zhangcheng</span><!--]--><!--]--></div></footer><nav class="page-nav"><a href="/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL%E5%AD%97%E6%AE%B5%E7%B1%BB%E5%9E%8B.html" class="nav-link prev" aria-label="MySQL字段类型"><div class="hint"><span class="arrow left"></span>上一页</div><div class="link"><!---->MySQL字段类型</div></a><a href="/%E6%95%B0%E6%8D%AE%E5%BA%93/java.sql.Types%E7%9A%84%E5%85%B7%E4%BD%93%E5%AF%B9%E5%BA%94%E5%80%BCjdbcType.html" class="nav-link next" aria-label="java.sql.Types的具体对应值(jdbcType)"><div class="hint">下一页<span class="arrow right"></span></div><div class="link">java.sql.Types的具体对应值(jdbcType)<!----></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">读书又笔记</div><div class="copyright">Copyright © 2023 Panda诚</div></footer><!--]--></div><!--]--><!----><!----><!--]--></div>
    <script type="module" src="/assets/app.0a7c44f6.js" defer></script>
  </body>
</html>
