<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.45" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://zhangchengk.github.io/JOLT/JsonJolt%E6%95%99%E7%A8%8B%E8%8B%B1%E6%96%87%E7%89%88.html"><meta property="og:site_name" content="Panda诚的博客"><meta property="og:title" content="Json JOLT 教程(英文版)"><meta property="og:type" content="article"><meta property="og:image" content="https://zhangchengk.github.io/"><meta property="og:updated_time" content="2022-05-21T17:05:16.000Z"><meta property="og:locale" content="zh-CN"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image:alt" content="Json JOLT 教程(英文版)"><meta property="article:published_time" content="2020-05-21T00:00:00.000Z"><meta property="article:modified_time" content="2022-05-21T17:05:16.000Z"><link rel="stylesheet" href="//at.alicdn.com/t/font_2410206_mfj6e1vbwo.css"><meta name="referrer" content="no-referrer"><link rel="icon" href="/logo.png"><link rel="manifest" href="/manifest.webmanifest" crossorigin="use-credentials"><meta name="theme-color" content="#46bd87"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"><title>Json JOLT 教程(英文版) | Panda诚的博客</title><meta name="description" content="古来圣贤皆贫贱 何况我辈孤且直">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/assets/style.69a7b4d6.css">
    <link rel="modulepreload" href="/assets/app.9c037f97.js"><link rel="modulepreload" href="/assets/JsonJolt教程英文版.html.ac786298.js"><link rel="modulepreload" href="/assets/22.ab4b4c2a.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper.21dcd24c.js"><link rel="modulepreload" href="/assets/JsonJolt教程英文版.html.4e28289e.js"><link rel="prefetch" href="/assets/index.html.672f68d3.js"><link rel="prefetch" href="/assets/001-编译NIFI源码.html.20af4e77.js"><link rel="prefetch" href="/assets/002-NIFI自定义开发规范.html.443bd324.js"><link rel="prefetch" href="/assets/003-Processor的一些方法.html.0825444d.js"><link rel="prefetch" href="/assets/004-自定义Processor.html.1d3da613.js"><link rel="prefetch" href="/assets/005-自定义ExpressionLanguage.html.1f7471c6.js"><link rel="prefetch" href="/assets/006-NIFI启动源码.html.5a925e75.js"><link rel="prefetch" href="/assets/007-在HTTP模式下开启权限模块.html.104bf500.js"><link rel="prefetch" href="/assets/008-JettyServer源码.html.f039e42e.js"><link rel="prefetch" href="/assets/009-NiFi源码.html.c8ae343a.js"><link rel="prefetch" href="/assets/010-nifi注解.html.312f3c8a.js"><link rel="prefetch" href="/assets/011-Debezium详细嵌入NIFI.html.449f285e.js"><link rel="prefetch" href="/assets/RunNiFi源码.html.0b0f935d.js"><link rel="prefetch" href="/assets/nifi-env-sh.html.c9c31692.js"><link rel="prefetch" href="/assets/nifi-sh-start.html.4347d8a4.js"><link rel="prefetch" href="/assets/nifi-sh.html.d52f8cd5.js"><link rel="prefetch" href="/assets/000-ApacheNIFI历史.html.9ba894ad.js"><link rel="prefetch" href="/assets/001-NiFi术语.html.5a78332e.js"><link rel="prefetch" href="/assets/002-带你体验ApacheNIFI.html.0cbe559f.js"><link rel="prefetch" href="/assets/003-NIFI入门.html.d99aac72.js"><link rel="prefetch" href="/assets/004-数据抽取的常见方法.html.4a207a0b.js"><link rel="prefetch" href="/assets/005-基于增量字段同步数据.html.2f575690.js"><link rel="prefetch" href="/assets/006-NIFI各个NAR包功能概述.html.e7fdfdcf.js"><link rel="prefetch" href="/assets/007-Nar包加载机制源码解读.html.a8ca8f56.js"><link rel="prefetch" href="/assets/008-Nar包下的MANIFEST.MF.html.3c2d0c6c.js"><link rel="prefetch" href="/assets/009-Apache NIFI类资源隔离机制.html.0d38fddd.js"><link rel="prefetch" href="/assets/010-Apache NIFI Processor情况.html.8ae8eda8.js"><link rel="prefetch" href="/assets/011-理解connection.html.b02f6a56.js"><link rel="prefetch" href="/assets/012-理解maxThread设置.html.72bbf6b3.js"><link rel="prefetch" href="/assets/013-RunDuration理解.html.baa21013.js"><link rel="prefetch" href="/assets/014-ContentRepositoryArchiving理解.html.eb471c88.js"><link rel="prefetch" href="/assets/015-Controller Services是守护进程.html.24f99d29.js"><link rel="prefetch" href="/assets/016-NIFI调度.html.1056f8e6.js"><link rel="prefetch" href="/assets/017-NIFI高可用.html.32bcb893.js"><link rel="prefetch" href="/assets/018-通过配置优化NiFi性能.html.cede93ae.js"><link rel="prefetch" href="/assets/019-NIFI里的数据库连接池.html.fdf2ce32.js"><link rel="prefetch" href="/assets/020-为什么建议使用NIFI里的Record.html.4f83553c.js"><link rel="prefetch" href="/assets/021-NIFI贡献代码.html.90f8ed15.js"><link rel="prefetch" href="/assets/022-NIFI开启HTTPS.html.0006b24e.js"><link rel="prefetch" href="/assets/023-ExecuteScript脚本教程.html.07602ad2.js"><link rel="prefetch" href="/assets/024-内容存储库原理.html.6509f440.js"><link rel="prefetch" href="/assets/025-FlowFile存储库原理.html.6c9901e5.js"><link rel="prefetch" href="/assets/026-预写日志(WAL).html.cf850d7f.js"><link rel="prefetch" href="/assets/027-Provenance存储库原理.html.cb099d41.js"><link rel="prefetch" href="/assets/028-NIFI架构.html.0e5388b5.js"><link rel="prefetch" href="/assets/029-NIFI事务原理.html.e0921c08.js"><link rel="prefetch" href="/assets/030-数据库字段类型.html.bd2258dc.js"><link rel="prefetch" href="/assets/031-1.14.html.f5e611a2.js"><link rel="prefetch" href="/assets/032-CaptureChangeMySQL.html.6e343a19.js"><link rel="prefetch" href="/assets/033-流程告警.html.57e831b6.js"><link rel="prefetch" href="/assets/034-JWT.html.51873678.js"><link rel="prefetch" href="/assets/037-MySQL全字段测试.html.e0d6fed4.js"><link rel="prefetch" href="/assets/HikariCP文档简译.html.16a6f065.js"><link rel="prefetch" href="/assets/01-输入输出流.html.3cb7129d.js"><link rel="prefetch" href="/assets/02-File.html.83ffda0d.js"><link rel="prefetch" href="/assets/03-缓冲流BufferedInputStream与BufferedOutputStream.html.78fc1e00.js"><link rel="prefetch" href="/assets/04-缓冲流BufferedReader与BufferedWriter.html.e006a52e.js"><link rel="prefetch" href="/assets/05-转换流InputStreamReader与OutputStreamWriter.html.fc8a10e3.js"><link rel="prefetch" href="/assets/06-ByteArrayInputStream与ByteArrayOutputStream.html.0bbd0cfd.js"><link rel="prefetch" href="/assets/07-CommonsIO2.5-FileUtils.html.638b2e2f.js"><link rel="prefetch" href="/assets/ByteArrayOutputStream.html.6957a084.js"><link rel="prefetch" href="/assets/Java SPI机制.html.42fc5241.js"><link rel="prefetch" href="/assets/Java8_JVM内存模型.html.de707242.js"><link rel="prefetch" href="/assets/Java中atomic包中的原子操作类总结.html.5c2f1cd4.js"><link rel="prefetch" href="/assets/Java中的锁.html.e2f8bc99.js"><link rel="prefetch" href="/assets/Java内存模型原理.html.e95a2195.js"><link rel="prefetch" href="/assets/Java反射.html.4ecbdec6.js"><link rel="prefetch" href="/assets/Java导入语句中不宜使用通配符.html.74d2db2d.js"><link rel="prefetch" href="/assets/Java类加载器.html.17f2c707.js"><link rel="prefetch" href="/assets/Java里带标签的break和continue.html.46ca85e0.js"><link rel="prefetch" href="/assets/Jvm-dump-jstack-jmap-jstat.html.3bb54971.js"><link rel="prefetch" href="/assets/java注解.html.19e9a712.js"><link rel="prefetch" href="/assets/web的发展历史.html.be5afdd1.js"><link rel="prefetch" href="/assets/代码设计原理.html.9168676e.js"><link rel="prefetch" href="/assets/使用List.html.5749f733.js"><link rel="prefetch" href="/assets/偏向锁批量重偏向与批量撤销.html.92547243.js"><link rel="prefetch" href="/assets/到底什么是classpath.html.ed6ac9ea.js"><link rel="prefetch" href="/assets/动手体验JVM中Class对象的唯一性.html.81d4153d.js"><link rel="prefetch" href="/assets/多线程基础知识总结.html.85c727bd.js"><link rel="prefetch" href="/assets/打印Java对象头.html.53828c35.js"><link rel="prefetch" href="/assets/深入了解Java锁.html.31c337c9.js"><link rel="prefetch" href="/assets/相对路径与绝对路径去读取文件.html.6dabf159.js"><link rel="prefetch" href="/assets/类加载机制.html.3f3fe5df.js"><link rel="prefetch" href="/assets/线程通信.html.01ba9d14.js"><link rel="prefetch" href="/assets/让你彻底理解Synchronized.html.15a8ae9e.js"><link rel="prefetch" href="/assets/JsonJolt教程.html.1bb06cba.js"><link rel="prefetch" href="/assets/使用jolt替换值.html.08bb93eb.js"><link rel="prefetch" href="/assets/linux之如何清理磁盘空间.html.34b1eba7.js"><link rel="prefetch" href="/assets/linux如何启动nginx.html.00148695.js"><link rel="prefetch" href="/assets/linux安装jdk8.html.17bf9b0a.js"><link rel="prefetch" href="/assets/linux查看crontab任务执行情况.html.432270c8.js"><link rel="prefetch" href="/assets/安装yum.html.b6b16169.js"><link rel="prefetch" href="/assets/Maven-Mirror配置.html.150a5cf4.js"><link rel="prefetch" href="/assets/MavenAssembly配置详细解释.html.9fdfe9b6.js"><link rel="prefetch" href="/assets/Maven发版名词介绍.html.969777ca.js"><link rel="prefetch" href="/assets/POM文件中依赖的版本锁定.html.d23e9fb5.js"><link rel="prefetch" href="/assets/clean-compile-build-install-package.html.0b554ff2.js"><link rel="prefetch" href="/assets/maven-assembly-plugin的使用.html.f4c30beb.js"><link rel="prefetch" href="/assets/maven压缩解压使jar文件损坏.html.ba5ad6f7.js"><link rel="prefetch" href="/assets/maven打包去除版本号.html.ebde7032.js"><link rel="prefetch" href="/assets/maven打包重命名jar.html.4d077b72.js"><link rel="prefetch" href="/assets/maven的dependency参数.html.279e0d38.js"><link rel="prefetch" href="/assets/intro.html.02ce6ddc.js"><link rel="prefetch" href="/assets/qq.html.8fe9c932.js"><link rel="prefetch" href="/assets/wechat.html.ed99719d.js"><link rel="prefetch" href="/assets/Gitee Pages自动部署.html.9d03b4d9.js"><link rel="prefetch" href="/assets/Git切换远程仓库.html.373c62fb.js"><link rel="prefetch" href="/assets/Mac的Mat打开失败解决方案.html.cbde74a0.js"><link rel="prefetch" href="/assets/什么是乐观锁_什么是悲观锁.html.0c76c89d.js"><link rel="prefetch" href="/assets/大数据的4v.html.77cad6db.js"><link rel="prefetch" href="/assets/字体颜色工具.html.9256d1b6.js"><link rel="prefetch" href="/assets/普罗米修斯安装MAC版.html.a96dce88.js"><link rel="prefetch" href="/assets/深入HTTPS加解密原理.html.39d9960d.js"><link rel="prefetch" href="/assets/编码和编码格式.html.9f4c34bc.js"><link rel="prefetch" href="/assets/聊聊HTTPS和SSL_TLS协议.html.bdcfa605.js"><link rel="prefetch" href="/assets/docker介绍.html.e9234525.js"><link rel="prefetch" href="/assets/安装k8s.html.8fad0948.js"><link rel="prefetch" href="/assets/CAS底层原理.html.ee838a61.js"><link rel="prefetch" href="/assets/Contended.html.796fdee5.js"><link rel="prefetch" href="/assets/Java动态代理.html.c03eb4f1.js"><link rel="prefetch" href="/assets/从硬件层面理解memorybarrier.html.b54db40e.js"><link rel="prefetch" href="/assets/技术路线图.html.d2fd05c1.js"><link rel="prefetch" href="/assets/磁盘原理介绍.html.e93a4f7c.js"><link rel="prefetch" href="/assets/类加载器.html.5a5dff00.js"><link rel="prefetch" href="/assets/锁.html.24b01e73.js"><link rel="prefetch" href="/assets/哪些操作导致了上下文切换.html.433084f6.js"><link rel="prefetch" href="/assets/如何优化多线程上下文切换.html.cd1145e6.js"><link rel="prefetch" href="/assets/如何用协程来优化多线程业务.html.e80b02c2.js"><link rel="prefetch" href="/assets/操作系统缓存.html.e2e3a3cd.js"><link rel="prefetch" href="/assets/进程线程上下文切换会用掉你多少CPU.html.51ed0143.js"><link rel="prefetch" href="/assets/001-管理OracleRedoLog.html.a84316d8.js"><link rel="prefetch" href="/assets/BIT的字节序.html.f57eba9f.js"><link rel="prefetch" href="/assets/MySQL不要再使用UTF-8了.html.fc8ae3ab.js"><link rel="prefetch" href="/assets/MySQL创建触发器.html.d5c0324d.js"><link rel="prefetch" href="/assets/MySQL字段类型.html.07a1e7de.js"><link rel="prefetch" href="/assets/Oracle12cLogMiner分析Redo日志文件.html.e614c7e0.js"><link rel="prefetch" href="/assets/java.sql.Types的具体对应值jdbcType.html.67e56f10.js"><link rel="prefetch" href="/assets/sqlserver对应Java中的数据类型.html.55e9ac95.js"><link rel="prefetch" href="/assets/互联网术语.html.237fa7ac.js"><link rel="prefetch" href="/assets/按位置读取ResultSet比按名称快.html.511ee22d.js"><link rel="prefetch" href="/assets/无效的列索引.html.8c3fda08.js"><link rel="prefetch" href="/assets/sf.html.5e72c5e5.js"><link rel="prefetch" href="/assets/二叉搜索树的前驱和后继节点.html.a0101f40.js"><link rel="prefetch" href="/assets/什么是红黑树.html.724a2226.js"><link rel="prefetch" href="/assets/冒泡排序.html.5256122d.js"><link rel="prefetch" href="/assets/十大经典排序算法最强总结.html.dbd3826f.js"><link rel="prefetch" href="/assets/基于Java实现红黑树的基本操作.html.a601a58b.js"><link rel="prefetch" href="/assets/并查集.html.2bdbf229.js"><link rel="prefetch" href="/assets/01谈谈你对Java平台的理解.html.1513d4f6.js"><link rel="prefetch" href="/assets/02Exception和Error有什么区别.html.e00a7ca7.js"><link rel="prefetch" href="/assets/03谈谈final-finally-finalize有什么不同.html.d18a945d.js"><link rel="prefetch" href="/assets/04强引用-软引用-弱引用-幻象引用有什么区别.html.c9bf24e5.js"><link rel="prefetch" href="/assets/05String-StringBuffer-StringBuilder有什么区别.html.3874d3b4.js"><link rel="prefetch" href="/assets/1-两数之和.html.db2471f8.js"><link rel="prefetch" href="/assets/2-两数相加.html.8c926ec0.js"><link rel="prefetch" href="/assets/3-无重复字符的最长子串.html.26e32dc7.js"><link rel="prefetch" href="/assets/4-寻找两个有序数组的中位数.html.daae6f1b.js"><link rel="prefetch" href="/assets/5-最长回文子串.html.c0f4d80d.js"><link rel="prefetch" href="/assets/6-Z字形变换.html.02fa0cac.js"><link rel="prefetch" href="/assets/sfxc.html.f12120dc.js"><link rel="prefetch" href="/assets/刷二叉搜索树.html.d5b3ef6c.js"><link rel="prefetch" href="/assets/刷平衡二叉树.html.d0f4aecb.js"><link rel="prefetch" href="/assets/动态规划详解.html.865542e8.js"><link rel="prefetch" href="/assets/回溯算法详解.html.4d13c8b9.js"><link rel="prefetch" href="/assets/学习算法和刷题的思路指南.html.f43f3da4.js"><link rel="prefetch" href="/assets/带你刷二叉树.html.b23ec05f.js"><link rel="prefetch" href="/assets/1Spring的整体架构.html.a85b099b.js"><link rel="prefetch" href="/assets/2Spring的结构组成.html.7ef09266.js"><link rel="prefetch" href="/assets/3容器的基础XmlBeanFactory.html.c09e9816.js"><link rel="prefetch" href="/assets/4Spring中的FactoryBean.html.f8444763.js"><link rel="prefetch" href="/assets/01-进程与线程基本概念.html.cf9325ac.js"><link rel="prefetch" href="/assets/02-Java多线程入门类和接口.html.fcdf9d7f.js"><link rel="prefetch" href="/assets/03-线程组和线程优先级.html.f10fd9f7.js"><link rel="prefetch" href="/assets/04-Java线程的状态及主要转化方法.html.6b7e5aa6.js"><link rel="prefetch" href="/assets/05-Java线程间的通信.html.d5f58c74.js"><link rel="prefetch" href="/assets/06-Java内存模型基础知识.html.921e0455.js"><link rel="prefetch" href="/assets/07-重排序与happens-before.html.b9766bda.js"><link rel="prefetch" href="/assets/08-volatitle.html.2195929b.js"><link rel="prefetch" href="/assets/09-synchronized与锁.html.b3b12c33.js"><link rel="prefetch" href="/assets/10-CAS与原子操作.html.b6297f72.js"><link rel="prefetch" href="/assets/11-AQS.html.965fd067.js"><link rel="prefetch" href="/assets/12-线程池原理.html.3d2fba5c.js"><link rel="prefetch" href="/assets/13-阻塞队列.html.0dc4b715.js"><link rel="prefetch" href="/assets/14-锁接口和类.html.f6066eeb.js"><link rel="prefetch" href="/assets/15-并发容器集合.html.dc98a186.js"><link rel="prefetch" href="/assets/16-CopyOnWrite容器.html.2b2b4ccc.js"><link rel="prefetch" href="/assets/17-通信工具类.html.974db0f0.js"><link rel="prefetch" href="/assets/18-Fork_Join框架.html.d3a9f68f.js"><link rel="prefetch" href="/assets/19-Java8Stream并行计算原理.html.5235c29c.js"><link rel="prefetch" href="/assets/20-计划任务.html.b217d694.js"><link rel="prefetch" href="/assets/深入浅出Java多线程.html.49352916.js"><link rel="prefetch" href="/assets/01-冯·诺依曼体系结构.html.35638b0e.js"><link rel="prefetch" href="/assets/02-计算机组成原理应该这么学.html.ccea22ee.js"><link rel="prefetch" href="/assets/03-我们来谈谈性能究竟是什么.html.3aeeca0f.js"><link rel="prefetch" href="/assets/04-我们该从哪些方面提升性能.html.73d1066c.js"><link rel="prefetch" href="/assets/深入浅出计算机组成原理.html.dbe89e7c.js"><link rel="prefetch" href="/assets/01-记忆宫殿的起源.html.88ad2ed1.js"><link rel="prefetch" href="/assets/02-记忆宫殿的原理.html.4edd4f96.js"><link rel="prefetch" href="/assets/03-记忆宫殿速记体验.html.d1402286.js"><link rel="prefetch" href="/assets/04-机械记忆.html.d0fc7d4b.js"><link rel="prefetch" href="/assets/05-逻辑记忆.html.d100c614.js"><link rel="prefetch" href="/assets/06-图像记忆.html.f004ce69.js"><link rel="prefetch" href="/assets/07-代替法.html.833074ea.js"><link rel="prefetch" href="/assets/08-记忆术起点锁链法.html.c03c6c60.js"><link rel="prefetch" href="/assets/09-固定法.html.2ee0a699.js"><link rel="prefetch" href="/assets/10-固定法之记忆力测试.html.cd6bc8f5.js"><link rel="prefetch" href="/assets/11-固定法之地点桩记忆体验.html.e7eeaeb6.js"><link rel="prefetch" href="/assets/12-固定法之千位数字定位系统.html.14538688.js"><link rel="prefetch" href="/assets/13-固定法之记忆宫殿实战.html.1341d2b0.js"><link rel="prefetch" href="/assets/14-记忆的宏观理论.html.e4ef3e0b.js"><link rel="prefetch" href="/assets/15-视觉图像是一切记忆的基础.html.5a8d74ef.js"><link rel="prefetch" href="/assets/16-快速记忆的秘密.html.08f89002.js"><link rel="prefetch" href="/assets/17-什么是联想.html.fbf8f8a5.js"><link rel="prefetch" href="/assets/18-记忆思维的演变.html.61dda464.js"><link rel="prefetch" href="/assets/19-记忆术基本功发散训练.html.5a529b86.js"><link rel="prefetch" href="/assets/20-联结的技巧.html.5ba666aa.js"><link rel="prefetch" href="/assets/21-记忆术基本功之逻辑联想法.html.1c40e7e2.js"><link rel="prefetch" href="/assets/22-记忆术基本功之逻辑推理记忆信息.html.adfae4a1.js"><link rel="prefetch" href="/assets/23-记忆术基本功之故事法.html.c821a134.js"><link rel="prefetch" href="/assets/24-记忆术基础训练抽象词汇串联.html.51f50739.js"><link rel="prefetch" href="/assets/25-记忆术之词性串联训练.html.43c1ba18.js"><link rel="prefetch" href="/assets/26-记忆术基本功之归纳简化.html.6769fe1d.js"><link rel="prefetch" href="/assets/27-口诀记忆.html.b498d289.js"><link rel="prefetch" href="/assets/28-绘图记忆法.html.4fd15e75.js"><link rel="prefetch" href="/assets/29-比喻记忆法.html.6cb40d8c.js"><link rel="prefetch" href="/assets/30-内视觉出图七要素.html.5d3fee23.js"><link rel="prefetch" href="/assets/31-创造和加工图像.html.7b0cdf8b.js"><link rel="prefetch" href="/assets/32-万物皆桩.html.e63cc818.js"><link rel="prefetch" href="/assets/33-一对一联结训练.html.adea88b9.js"><link rel="prefetch" href="/assets/34-记忆初级万能公式.html.490a6806.js"><link rel="prefetch" href="/assets/35-记忆术的两种核心技巧谐音和逻辑.html.df1776e8.js"><link rel="prefetch" href="/assets/36-关键词记忆法.html.ceb170f4.js"><link rel="prefetch" href="/assets/37-如何集中注意力.html.f6489440.js"><link rel="prefetch" href="/assets/38-视觉化的窍门.html.ee0ef339.js"><link rel="prefetch" href="/assets/39-意群的逻辑图像转化.html.54f0d589.js"><link rel="prefetch" href="/assets/40-意群图像记忆的步骤.html.0baf1b3f.js"><link rel="prefetch" href="/assets/41-文字编码库.html.7ec2e948.js"><link rel="prefetch" href="/assets/42-现实记忆宫殿.html.5723a6c9.js"><link rel="prefetch" href="/assets/43-虚拟记忆宫殿.html.4676bc6e.js"><link rel="prefetch" href="/assets/44-随机记忆宫殿.html.32967b1e.js"><link rel="prefetch" href="/assets/45-记忆宫殿之人物系统.html.456d1498.js"><link rel="prefetch" href="/assets/46-五种方法记单词.html.acce09e4.js"><link rel="prefetch" href="/assets/01-命名风格.html.ed3841e8.js"><link rel="prefetch" href="/assets/02-常量定义.html.8cf934a6.js"><link rel="prefetch" href="/assets/03-代码格式.html.b171a47b.js"><link rel="prefetch" href="/assets/04-OOP规约.html.512bef3a.js"><link rel="prefetch" href="/assets/05-日期时间.html.d4599932.js"><link rel="prefetch" href="/assets/06-集合处理.html.91e34681.js"><link rel="prefetch" href="/assets/07-并发处理.html.94e1da2d.js"><link rel="prefetch" href="/assets/08-控制语句.html.06a4ae0d.js"><link rel="prefetch" href="/assets/09-注释规约.html.9b747d8a.js"><link rel="prefetch" href="/assets/10-其它.html.398e84f2.js"><link rel="prefetch" href="/assets/11-错误码.html.20d0c346.js"><link rel="prefetch" href="/assets/12-异常处理.html.d1032a59.js"><link rel="prefetch" href="/assets/13-日志规约.html.ad4f3771.js"><link rel="prefetch" href="/assets/14-单元测试.html.182e337a.js"><link rel="prefetch" href="/assets/15-安全规约.html.9726eb9a.js"><link rel="prefetch" href="/assets/16-建表规约.html.5f41730b.js"><link rel="prefetch" href="/assets/17-索引规约.html.2bbf1503.js"><link rel="prefetch" href="/assets/18-SQL语句.html.4ce8e295.js"><link rel="prefetch" href="/assets/19-ORM映射.html.2739f165.js"><link rel="prefetch" href="/assets/20-应用分层.html.9a8c4cda.js"><link rel="prefetch" href="/assets/21-二方库依赖.html.16e88a56.js"><link rel="prefetch" href="/assets/22-服务器.html.dfeb8984.js"><link rel="prefetch" href="/assets/23-设计规约.html.ab107cfb.js"><link rel="prefetch" href="/assets/24-专有名词解释.html.3d886b3b.js"><link rel="prefetch" href="/assets/25-错误码列表.html.ff456035.js"><link rel="prefetch" href="/assets/手抄版.html.131a0f04.js"><link rel="prefetch" href="/assets/404.html.ebf25b44.js"><link rel="prefetch" href="/assets/index.html.2e0b4132.js"><link rel="prefetch" href="/assets/index.html.c36f22c4.js"><link rel="prefetch" href="/assets/index.html.66f2a5c9.js"><link rel="prefetch" href="/assets/index.html.6d501d9d.js"><link rel="prefetch" href="/assets/index.html.b491fa81.js"><link rel="prefetch" href="/assets/index.html.72905fb5.js"><link rel="prefetch" href="/assets/index.html.2a314b55.js"><link rel="prefetch" href="/assets/index.html.6f1fe3f6.js"><link rel="prefetch" href="/assets/index.html.c8d14614.js"><link rel="prefetch" href="/assets/index.html.aaeb789f.js"><link rel="prefetch" href="/assets/index.html.db8ea907.js"><link rel="prefetch" href="/assets/index.html.a2fa5af7.js"><link rel="prefetch" href="/assets/index.html.bb15c424.js"><link rel="prefetch" href="/assets/index.html.3d51cf46.js"><link rel="prefetch" href="/assets/index.html.b94ffc24.js"><link rel="prefetch" href="/assets/index.html.a7ed61b6.js"><link rel="prefetch" href="/assets/index.html.6d0aa9c2.js"><link rel="prefetch" href="/assets/index.html.a9b8fd24.js"><link rel="prefetch" href="/assets/index.html.88d67a57.js"><link rel="prefetch" href="/assets/index.html.4eaac003.js"><link rel="prefetch" href="/assets/index.html.45b79d3a.js"><link rel="prefetch" href="/assets/index.html.b9d31689.js"><link rel="prefetch" href="/assets/index.html.aafecb06.js"><link rel="prefetch" href="/assets/index.html.e439dcec.js"><link rel="prefetch" href="/assets/index.html.12614e6e.js"><link rel="prefetch" href="/assets/index.html.f3a717f9.js"><link rel="prefetch" href="/assets/index.html.1b6d1b29.js"><link rel="prefetch" href="/assets/index.html.d18333bc.js"><link rel="prefetch" href="/assets/index.html.003623a2.js"><link rel="prefetch" href="/assets/index.html.c2e82826.js"><link rel="prefetch" href="/assets/index.html.0319d1c3.js"><link rel="prefetch" href="/assets/001-编译NIFI源码.html.521aa579.js"><link rel="prefetch" href="/assets/002-NIFI自定义开发规范.html.96113646.js"><link rel="prefetch" href="/assets/003-Processor的一些方法.html.277c7047.js"><link rel="prefetch" href="/assets/004-自定义Processor.html.a9e5b7c1.js"><link rel="prefetch" href="/assets/005-自定义ExpressionLanguage.html.1d6ea4df.js"><link rel="prefetch" href="/assets/006-NIFI启动源码.html.930ba42e.js"><link rel="prefetch" href="/assets/007-在HTTP模式下开启权限模块.html.713e2929.js"><link rel="prefetch" href="/assets/008-JettyServer源码.html.5011b6c3.js"><link rel="prefetch" href="/assets/009-NiFi源码.html.193dd7b6.js"><link rel="prefetch" href="/assets/010-nifi注解.html.fa09df63.js"><link rel="prefetch" href="/assets/011-Debezium详细嵌入NIFI.html.f48d74a9.js"><link rel="prefetch" href="/assets/RunNiFi源码.html.7cb8b336.js"><link rel="prefetch" href="/assets/nifi-env-sh.html.41c7ae9a.js"><link rel="prefetch" href="/assets/nifi-sh-start.html.20c72bf6.js"><link rel="prefetch" href="/assets/nifi-sh.html.c0bc6f1c.js"><link rel="prefetch" href="/assets/000-ApacheNIFI历史.html.2d212a17.js"><link rel="prefetch" href="/assets/001-NiFi术语.html.25e33be3.js"><link rel="prefetch" href="/assets/002-带你体验ApacheNIFI.html.89ec8e4d.js"><link rel="prefetch" href="/assets/003-NIFI入门.html.465e25db.js"><link rel="prefetch" href="/assets/004-数据抽取的常见方法.html.7b017191.js"><link rel="prefetch" href="/assets/005-基于增量字段同步数据.html.5ee91cc2.js"><link rel="prefetch" href="/assets/006-NIFI各个NAR包功能概述.html.206b0101.js"><link rel="prefetch" href="/assets/007-Nar包加载机制源码解读.html.e58441d6.js"><link rel="prefetch" href="/assets/008-Nar包下的MANIFEST.MF.html.7c758dad.js"><link rel="prefetch" href="/assets/009-Apache NIFI类资源隔离机制.html.b29a8b12.js"><link rel="prefetch" href="/assets/010-Apache NIFI Processor情况.html.d65ddee6.js"><link rel="prefetch" href="/assets/011-理解connection.html.ded9b595.js"><link rel="prefetch" href="/assets/012-理解maxThread设置.html.ed020a0f.js"><link rel="prefetch" href="/assets/013-RunDuration理解.html.28c0502c.js"><link rel="prefetch" href="/assets/014-ContentRepositoryArchiving理解.html.4925ead7.js"><link rel="prefetch" href="/assets/015-Controller Services是守护进程.html.d6d6337a.js"><link rel="prefetch" href="/assets/016-NIFI调度.html.3bdbde22.js"><link rel="prefetch" href="/assets/017-NIFI高可用.html.c57587eb.js"><link rel="prefetch" href="/assets/018-通过配置优化NiFi性能.html.2de3df99.js"><link rel="prefetch" href="/assets/019-NIFI里的数据库连接池.html.403bbe7e.js"><link rel="prefetch" href="/assets/020-为什么建议使用NIFI里的Record.html.fc76d2f8.js"><link rel="prefetch" href="/assets/021-NIFI贡献代码.html.72d12f07.js"><link rel="prefetch" href="/assets/022-NIFI开启HTTPS.html.352b2289.js"><link rel="prefetch" href="/assets/023-ExecuteScript脚本教程.html.ecc5253a.js"><link rel="prefetch" href="/assets/024-内容存储库原理.html.f00e17fb.js"><link rel="prefetch" href="/assets/025-FlowFile存储库原理.html.de408d03.js"><link rel="prefetch" href="/assets/026-预写日志(WAL).html.3c59544e.js"><link rel="prefetch" href="/assets/027-Provenance存储库原理.html.b297826e.js"><link rel="prefetch" href="/assets/028-NIFI架构.html.1031cd71.js"><link rel="prefetch" href="/assets/029-NIFI事务原理.html.25e2d57b.js"><link rel="prefetch" href="/assets/030-数据库字段类型.html.48a3a5f0.js"><link rel="prefetch" href="/assets/031-1.14.html.d5f852b7.js"><link rel="prefetch" href="/assets/032-CaptureChangeMySQL.html.64ebe629.js"><link rel="prefetch" href="/assets/033-流程告警.html.96a6772b.js"><link rel="prefetch" href="/assets/034-JWT.html.2f2b661a.js"><link rel="prefetch" href="/assets/037-MySQL全字段测试.html.0b79ca96.js"><link rel="prefetch" href="/assets/HikariCP文档简译.html.9437d7a8.js"><link rel="prefetch" href="/assets/01-输入输出流.html.5c35147e.js"><link rel="prefetch" href="/assets/02-File.html.7ba5805c.js"><link rel="prefetch" href="/assets/03-缓冲流BufferedInputStream与BufferedOutputStream.html.1f727540.js"><link rel="prefetch" href="/assets/04-缓冲流BufferedReader与BufferedWriter.html.946505d3.js"><link rel="prefetch" href="/assets/05-转换流InputStreamReader与OutputStreamWriter.html.5e4910af.js"><link rel="prefetch" href="/assets/06-ByteArrayInputStream与ByteArrayOutputStream.html.21da06fa.js"><link rel="prefetch" href="/assets/07-CommonsIO2.5-FileUtils.html.de911610.js"><link rel="prefetch" href="/assets/ByteArrayOutputStream.html.2c862bd2.js"><link rel="prefetch" href="/assets/Java SPI机制.html.ff1dcdb6.js"><link rel="prefetch" href="/assets/Java8_JVM内存模型.html.8f1b8262.js"><link rel="prefetch" href="/assets/Java中atomic包中的原子操作类总结.html.dd28cabb.js"><link rel="prefetch" href="/assets/Java中的锁.html.a0f964bd.js"><link rel="prefetch" href="/assets/Java内存模型原理.html.3fda0036.js"><link rel="prefetch" href="/assets/Java反射.html.b7370e6f.js"><link rel="prefetch" href="/assets/Java导入语句中不宜使用通配符.html.c22b4798.js"><link rel="prefetch" href="/assets/Java类加载器.html.c1c83ed1.js"><link rel="prefetch" href="/assets/Java里带标签的break和continue.html.d1b31ce5.js"><link rel="prefetch" href="/assets/Jvm-dump-jstack-jmap-jstat.html.4813d015.js"><link rel="prefetch" href="/assets/java注解.html.6a46b262.js"><link rel="prefetch" href="/assets/web的发展历史.html.b9c4942a.js"><link rel="prefetch" href="/assets/代码设计原理.html.1af00803.js"><link rel="prefetch" href="/assets/使用List.html.e7453299.js"><link rel="prefetch" href="/assets/偏向锁批量重偏向与批量撤销.html.1306b74d.js"><link rel="prefetch" href="/assets/到底什么是classpath.html.88963344.js"><link rel="prefetch" href="/assets/动手体验JVM中Class对象的唯一性.html.4f150f43.js"><link rel="prefetch" href="/assets/多线程基础知识总结.html.6d78648c.js"><link rel="prefetch" href="/assets/打印Java对象头.html.5ab1c5f4.js"><link rel="prefetch" href="/assets/深入了解Java锁.html.a54ec43c.js"><link rel="prefetch" href="/assets/相对路径与绝对路径去读取文件.html.f7c66efe.js"><link rel="prefetch" href="/assets/类加载机制.html.6e423811.js"><link rel="prefetch" href="/assets/线程通信.html.36785c7e.js"><link rel="prefetch" href="/assets/让你彻底理解Synchronized.html.4218d3eb.js"><link rel="prefetch" href="/assets/JsonJolt教程.html.f80e283f.js"><link rel="prefetch" href="/assets/使用jolt替换值.html.9bec7007.js"><link rel="prefetch" href="/assets/linux之如何清理磁盘空间.html.b1174281.js"><link rel="prefetch" href="/assets/linux如何启动nginx.html.2c0a8e6f.js"><link rel="prefetch" href="/assets/linux安装jdk8.html.fbca5575.js"><link rel="prefetch" href="/assets/linux查看crontab任务执行情况.html.481ff319.js"><link rel="prefetch" href="/assets/安装yum.html.19ca7875.js"><link rel="prefetch" href="/assets/Maven-Mirror配置.html.14159b76.js"><link rel="prefetch" href="/assets/MavenAssembly配置详细解释.html.0970a839.js"><link rel="prefetch" href="/assets/Maven发版名词介绍.html.5420fff4.js"><link rel="prefetch" href="/assets/POM文件中依赖的版本锁定.html.60ee81ca.js"><link rel="prefetch" href="/assets/clean-compile-build-install-package.html.fc9a0d28.js"><link rel="prefetch" href="/assets/maven-assembly-plugin的使用.html.9a8e4b5b.js"><link rel="prefetch" href="/assets/maven压缩解压使jar文件损坏.html.83d28d51.js"><link rel="prefetch" href="/assets/maven打包去除版本号.html.28da4f31.js"><link rel="prefetch" href="/assets/maven打包重命名jar.html.b2cbe116.js"><link rel="prefetch" href="/assets/maven的dependency参数.html.2f954484.js"><link rel="prefetch" href="/assets/intro.html.87fe0e12.js"><link rel="prefetch" href="/assets/qq.html.a025d29c.js"><link rel="prefetch" href="/assets/wechat.html.9083215a.js"><link rel="prefetch" href="/assets/Gitee Pages自动部署.html.5f80ef71.js"><link rel="prefetch" href="/assets/Git切换远程仓库.html.a22abaf4.js"><link rel="prefetch" href="/assets/Mac的Mat打开失败解决方案.html.ef5663fd.js"><link rel="prefetch" href="/assets/什么是乐观锁_什么是悲观锁.html.b105b50d.js"><link rel="prefetch" href="/assets/大数据的4v.html.e326dd3f.js"><link rel="prefetch" href="/assets/字体颜色工具.html.eaedec03.js"><link rel="prefetch" href="/assets/普罗米修斯安装MAC版.html.504cf98f.js"><link rel="prefetch" href="/assets/深入HTTPS加解密原理.html.8aa395ee.js"><link rel="prefetch" href="/assets/编码和编码格式.html.e92b89fa.js"><link rel="prefetch" href="/assets/聊聊HTTPS和SSL_TLS协议.html.3c196876.js"><link rel="prefetch" href="/assets/docker介绍.html.11fc2149.js"><link rel="prefetch" href="/assets/安装k8s.html.45c28c03.js"><link rel="prefetch" href="/assets/CAS底层原理.html.988f241c.js"><link rel="prefetch" href="/assets/Contended.html.439aff21.js"><link rel="prefetch" href="/assets/Java动态代理.html.6e9dc419.js"><link rel="prefetch" href="/assets/从硬件层面理解memorybarrier.html.134eab95.js"><link rel="prefetch" href="/assets/技术路线图.html.c38bc1a4.js"><link rel="prefetch" href="/assets/磁盘原理介绍.html.2c40a0a8.js"><link rel="prefetch" href="/assets/类加载器.html.fcc22333.js"><link rel="prefetch" href="/assets/锁.html.2f73ca1e.js"><link rel="prefetch" href="/assets/哪些操作导致了上下文切换.html.80214693.js"><link rel="prefetch" href="/assets/如何优化多线程上下文切换.html.11d93a35.js"><link rel="prefetch" href="/assets/如何用协程来优化多线程业务.html.ba485af0.js"><link rel="prefetch" href="/assets/操作系统缓存.html.5d2fb8bb.js"><link rel="prefetch" href="/assets/进程线程上下文切换会用掉你多少CPU.html.12e9b696.js"><link rel="prefetch" href="/assets/001-管理OracleRedoLog.html.7e522a29.js"><link rel="prefetch" href="/assets/BIT的字节序.html.2923348c.js"><link rel="prefetch" href="/assets/MySQL不要再使用UTF-8了.html.90cedcb8.js"><link rel="prefetch" href="/assets/MySQL创建触发器.html.6ab5a4d5.js"><link rel="prefetch" href="/assets/MySQL字段类型.html.6e95ff6f.js"><link rel="prefetch" href="/assets/Oracle12cLogMiner分析Redo日志文件.html.d631a865.js"><link rel="prefetch" href="/assets/java.sql.Types的具体对应值jdbcType.html.8569b0c5.js"><link rel="prefetch" href="/assets/sqlserver对应Java中的数据类型.html.ce9fe562.js"><link rel="prefetch" href="/assets/互联网术语.html.e91147e5.js"><link rel="prefetch" href="/assets/按位置读取ResultSet比按名称快.html.ac9d29df.js"><link rel="prefetch" href="/assets/无效的列索引.html.0f93093e.js"><link rel="prefetch" href="/assets/sf.html.9133f976.js"><link rel="prefetch" href="/assets/二叉搜索树的前驱和后继节点.html.19953e6c.js"><link rel="prefetch" href="/assets/什么是红黑树.html.2ecf1fed.js"><link rel="prefetch" href="/assets/冒泡排序.html.68b031bf.js"><link rel="prefetch" href="/assets/十大经典排序算法最强总结.html.f1c1bed6.js"><link rel="prefetch" href="/assets/基于Java实现红黑树的基本操作.html.9722078a.js"><link rel="prefetch" href="/assets/并查集.html.7357b510.js"><link rel="prefetch" href="/assets/01谈谈你对Java平台的理解.html.72863ba8.js"><link rel="prefetch" href="/assets/02Exception和Error有什么区别.html.d649a698.js"><link rel="prefetch" href="/assets/03谈谈final-finally-finalize有什么不同.html.bd74eb9b.js"><link rel="prefetch" href="/assets/04强引用-软引用-弱引用-幻象引用有什么区别.html.45bb9868.js"><link rel="prefetch" href="/assets/05String-StringBuffer-StringBuilder有什么区别.html.e7a8d5eb.js"><link rel="prefetch" href="/assets/1-两数之和.html.48c0c5cc.js"><link rel="prefetch" href="/assets/2-两数相加.html.2c775931.js"><link rel="prefetch" href="/assets/3-无重复字符的最长子串.html.af9c620d.js"><link rel="prefetch" href="/assets/4-寻找两个有序数组的中位数.html.d625f095.js"><link rel="prefetch" href="/assets/5-最长回文子串.html.02a6d76a.js"><link rel="prefetch" href="/assets/6-Z字形变换.html.89fcc7ab.js"><link rel="prefetch" href="/assets/sfxc.html.6093491f.js"><link rel="prefetch" href="/assets/刷二叉搜索树.html.65b29021.js"><link rel="prefetch" href="/assets/刷平衡二叉树.html.635e7b38.js"><link rel="prefetch" href="/assets/动态规划详解.html.c01b1959.js"><link rel="prefetch" href="/assets/回溯算法详解.html.2aceea9d.js"><link rel="prefetch" href="/assets/学习算法和刷题的思路指南.html.8fd693df.js"><link rel="prefetch" href="/assets/带你刷二叉树.html.862253c6.js"><link rel="prefetch" href="/assets/1Spring的整体架构.html.a33619f1.js"><link rel="prefetch" href="/assets/2Spring的结构组成.html.84c656ef.js"><link rel="prefetch" href="/assets/3容器的基础XmlBeanFactory.html.677e7f69.js"><link rel="prefetch" href="/assets/4Spring中的FactoryBean.html.35b474cd.js"><link rel="prefetch" href="/assets/01-进程与线程基本概念.html.3fbeb2c6.js"><link rel="prefetch" href="/assets/02-Java多线程入门类和接口.html.9f9054b5.js"><link rel="prefetch" href="/assets/03-线程组和线程优先级.html.324bd095.js"><link rel="prefetch" href="/assets/04-Java线程的状态及主要转化方法.html.3eb13fd2.js"><link rel="prefetch" href="/assets/05-Java线程间的通信.html.fe900bb4.js"><link rel="prefetch" href="/assets/06-Java内存模型基础知识.html.e10616f4.js"><link rel="prefetch" href="/assets/07-重排序与happens-before.html.2f0676be.js"><link rel="prefetch" href="/assets/08-volatitle.html.006e492e.js"><link rel="prefetch" href="/assets/09-synchronized与锁.html.aa8c53ef.js"><link rel="prefetch" href="/assets/10-CAS与原子操作.html.8eb621c9.js"><link rel="prefetch" href="/assets/11-AQS.html.8239741d.js"><link rel="prefetch" href="/assets/12-线程池原理.html.0a5a5aba.js"><link rel="prefetch" href="/assets/13-阻塞队列.html.410f43d1.js"><link rel="prefetch" href="/assets/14-锁接口和类.html.7ddb9e95.js"><link rel="prefetch" href="/assets/15-并发容器集合.html.be7483cd.js"><link rel="prefetch" href="/assets/16-CopyOnWrite容器.html.15079748.js"><link rel="prefetch" href="/assets/17-通信工具类.html.78ea78f4.js"><link rel="prefetch" href="/assets/18-Fork_Join框架.html.9cfbb215.js"><link rel="prefetch" href="/assets/19-Java8Stream并行计算原理.html.2d0fc1c7.js"><link rel="prefetch" href="/assets/20-计划任务.html.0922afc3.js"><link rel="prefetch" href="/assets/深入浅出Java多线程.html.abcccacb.js"><link rel="prefetch" href="/assets/01-冯·诺依曼体系结构.html.6789f377.js"><link rel="prefetch" href="/assets/02-计算机组成原理应该这么学.html.5c471cee.js"><link rel="prefetch" href="/assets/03-我们来谈谈性能究竟是什么.html.ed94f1d3.js"><link rel="prefetch" href="/assets/04-我们该从哪些方面提升性能.html.037e2faa.js"><link rel="prefetch" href="/assets/深入浅出计算机组成原理.html.0b344d4f.js"><link rel="prefetch" href="/assets/01-记忆宫殿的起源.html.2b787aa2.js"><link rel="prefetch" href="/assets/02-记忆宫殿的原理.html.e48a57d3.js"><link rel="prefetch" href="/assets/03-记忆宫殿速记体验.html.aab782dc.js"><link rel="prefetch" href="/assets/04-机械记忆.html.a1f59119.js"><link rel="prefetch" href="/assets/05-逻辑记忆.html.0ad2a7d7.js"><link rel="prefetch" href="/assets/06-图像记忆.html.310ee0cb.js"><link rel="prefetch" href="/assets/07-代替法.html.82f69e98.js"><link rel="prefetch" href="/assets/08-记忆术起点锁链法.html.61305610.js"><link rel="prefetch" href="/assets/09-固定法.html.fb103423.js"><link rel="prefetch" href="/assets/10-固定法之记忆力测试.html.912e0011.js"><link rel="prefetch" href="/assets/11-固定法之地点桩记忆体验.html.7da4ae18.js"><link rel="prefetch" href="/assets/12-固定法之千位数字定位系统.html.22373489.js"><link rel="prefetch" href="/assets/13-固定法之记忆宫殿实战.html.cbdcd0f0.js"><link rel="prefetch" href="/assets/14-记忆的宏观理论.html.cfd1a32b.js"><link rel="prefetch" href="/assets/15-视觉图像是一切记忆的基础.html.e99e5462.js"><link rel="prefetch" href="/assets/16-快速记忆的秘密.html.3093d207.js"><link rel="prefetch" href="/assets/17-什么是联想.html.43997f6d.js"><link rel="prefetch" href="/assets/18-记忆思维的演变.html.03112d8c.js"><link rel="prefetch" href="/assets/19-记忆术基本功发散训练.html.74d02714.js"><link rel="prefetch" href="/assets/20-联结的技巧.html.0511fcc9.js"><link rel="prefetch" href="/assets/21-记忆术基本功之逻辑联想法.html.3bb9bb65.js"><link rel="prefetch" href="/assets/22-记忆术基本功之逻辑推理记忆信息.html.67201901.js"><link rel="prefetch" href="/assets/23-记忆术基本功之故事法.html.82b07508.js"><link rel="prefetch" href="/assets/24-记忆术基础训练抽象词汇串联.html.1781ccca.js"><link rel="prefetch" href="/assets/25-记忆术之词性串联训练.html.282dc807.js"><link rel="prefetch" href="/assets/26-记忆术基本功之归纳简化.html.c1613544.js"><link rel="prefetch" href="/assets/27-口诀记忆.html.73340a16.js"><link rel="prefetch" href="/assets/28-绘图记忆法.html.0fd24cb1.js"><link rel="prefetch" href="/assets/29-比喻记忆法.html.c1cc1e42.js"><link rel="prefetch" href="/assets/30-内视觉出图七要素.html.53dc9b5a.js"><link rel="prefetch" href="/assets/31-创造和加工图像.html.6dffd814.js"><link rel="prefetch" href="/assets/32-万物皆桩.html.85d71021.js"><link rel="prefetch" href="/assets/33-一对一联结训练.html.c2c367bc.js"><link rel="prefetch" href="/assets/34-记忆初级万能公式.html.5a86733e.js"><link rel="prefetch" href="/assets/35-记忆术的两种核心技巧谐音和逻辑.html.372d697a.js"><link rel="prefetch" href="/assets/36-关键词记忆法.html.8a4cb106.js"><link rel="prefetch" href="/assets/37-如何集中注意力.html.a2d44e3b.js"><link rel="prefetch" href="/assets/38-视觉化的窍门.html.6fa7efa2.js"><link rel="prefetch" href="/assets/39-意群的逻辑图像转化.html.d04e22cb.js"><link rel="prefetch" href="/assets/40-意群图像记忆的步骤.html.adee9c05.js"><link rel="prefetch" href="/assets/41-文字编码库.html.275c68b7.js"><link rel="prefetch" href="/assets/42-现实记忆宫殿.html.f21295c7.js"><link rel="prefetch" href="/assets/43-虚拟记忆宫殿.html.65ac2301.js"><link rel="prefetch" href="/assets/44-随机记忆宫殿.html.440cb157.js"><link rel="prefetch" href="/assets/45-记忆宫殿之人物系统.html.7555f176.js"><link rel="prefetch" href="/assets/46-五种方法记单词.html.d5f9f343.js"><link rel="prefetch" href="/assets/01-命名风格.html.42c81628.js"><link rel="prefetch" href="/assets/02-常量定义.html.8d83d02d.js"><link rel="prefetch" href="/assets/03-代码格式.html.0f77106c.js"><link rel="prefetch" href="/assets/04-OOP规约.html.a60a0886.js"><link rel="prefetch" href="/assets/05-日期时间.html.26ce2131.js"><link rel="prefetch" href="/assets/06-集合处理.html.52a9cee4.js"><link rel="prefetch" href="/assets/07-并发处理.html.df0b8a45.js"><link rel="prefetch" href="/assets/08-控制语句.html.0be26ebb.js"><link rel="prefetch" href="/assets/09-注释规约.html.8b70a1c7.js"><link rel="prefetch" href="/assets/10-其它.html.a1ba7712.js"><link rel="prefetch" href="/assets/11-错误码.html.0e5a3a27.js"><link rel="prefetch" href="/assets/12-异常处理.html.3839d11f.js"><link rel="prefetch" href="/assets/13-日志规约.html.e8d08ea7.js"><link rel="prefetch" href="/assets/14-单元测试.html.4d26db2e.js"><link rel="prefetch" href="/assets/15-安全规约.html.2e2848f6.js"><link rel="prefetch" href="/assets/16-建表规约.html.f8545c7c.js"><link rel="prefetch" href="/assets/17-索引规约.html.8923980b.js"><link rel="prefetch" href="/assets/18-SQL语句.html.b1003afe.js"><link rel="prefetch" href="/assets/19-ORM映射.html.41b1d23f.js"><link rel="prefetch" href="/assets/20-应用分层.html.1e724bfc.js"><link rel="prefetch" href="/assets/21-二方库依赖.html.e93996c4.js"><link rel="prefetch" href="/assets/22-服务器.html.395bdfbb.js"><link rel="prefetch" href="/assets/23-设计规约.html.6023cc9a.js"><link rel="prefetch" href="/assets/24-专有名词解释.html.f3c74bc6.js"><link rel="prefetch" href="/assets/25-错误码列表.html.8474ef3d.js"><link rel="prefetch" href="/assets/手抄版.html.8cb66883.js"><link rel="prefetch" href="/assets/404.html.0c8252b8.js"><link rel="prefetch" href="/assets/index.html.d5cc08ad.js"><link rel="prefetch" href="/assets/index.html.1331f6ca.js"><link rel="prefetch" href="/assets/index.html.da6c3a69.js"><link rel="prefetch" href="/assets/index.html.1174fbbd.js"><link rel="prefetch" href="/assets/index.html.c73d2264.js"><link rel="prefetch" href="/assets/index.html.1e315145.js"><link rel="prefetch" href="/assets/index.html.514b72a3.js"><link rel="prefetch" href="/assets/index.html.6c715cae.js"><link rel="prefetch" href="/assets/index.html.6c701683.js"><link rel="prefetch" href="/assets/index.html.b4521140.js"><link rel="prefetch" href="/assets/index.html.b19f5086.js"><link rel="prefetch" href="/assets/index.html.c51dda81.js"><link rel="prefetch" href="/assets/index.html.9cb84145.js"><link rel="prefetch" href="/assets/index.html.c82f74ca.js"><link rel="prefetch" href="/assets/index.html.49df8d65.js"><link rel="prefetch" href="/assets/index.html.348ba7c1.js"><link rel="prefetch" href="/assets/index.html.17d542ee.js"><link rel="prefetch" href="/assets/index.html.1808736a.js"><link rel="prefetch" href="/assets/index.html.51d0f708.js"><link rel="prefetch" href="/assets/index.html.e29804db.js"><link rel="prefetch" href="/assets/index.html.a051d7e8.js"><link rel="prefetch" href="/assets/index.html.bc8704c9.js"><link rel="prefetch" href="/assets/index.html.d16e40af.js"><link rel="prefetch" href="/assets/index.html.e0a0910e.js"><link rel="prefetch" href="/assets/index.html.1a56e072.js"><link rel="prefetch" href="/assets/index.html.b7e2fff9.js"><link rel="prefetch" href="/assets/index.html.80686c58.js"><link rel="prefetch" href="/assets/index.html.0690c114.js"><link rel="prefetch" href="/assets/index.html.846b85c0.js"><link rel="prefetch" href="/assets/index.html.e25c6dfb.js"><link rel="prefetch" href="/assets/404.3bd6a692.js"><link rel="prefetch" href="/assets/Layout.9db54ce5.js"><link rel="prefetch" href="/assets/Slide.3c3a86ed.js"><link rel="prefetch" href="/assets/Blog.c3f2a304.js"><link rel="prefetch" href="/assets/auto.esm.15d52109.js"><link rel="prefetch" href="/assets/index.308e684a.js"><link rel="prefetch" href="/assets/index.1842ee54.js"><link rel="prefetch" href="/assets/mermaid.esm.min.39073cd8.js"><link rel="prefetch" href="/assets/highlight.esm.d982e650.js"><link rel="prefetch" href="/assets/markdown.esm.832a189d.js"><link rel="prefetch" href="/assets/math.esm.a3f84b6f.js"><link rel="prefetch" href="/assets/notes.esm.3c361cb7.js"><link rel="prefetch" href="/assets/reveal.esm.b96f05d8.js"><link rel="prefetch" href="/assets/search.esm.80da4a02.js"><link rel="prefetch" href="/assets/zoom.esm.8514a202.js"><link rel="prefetch" href="/assets/photoswipe.esm.92018b73.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc sidebar-open"><!--[--><!--[--><header class="navbar"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><a href="/" class="home-link"><img class="logo" src="/panda.gif" alt="Panda诚的博客"><!----><span class="site-name hide-in-pad">Panda诚的博客</span><!--[--><!----><!--]--></a><nav class="nav-links" style=""><div class="nav-item hide-in-mobile"><a href="/" class="nav-link" aria-label="Home"><span class="icon iconfont icon-home" style=""></span>Home<!----></a></div><div class="nav-item hide-in-mobile"><a href="/timeline/" class="nav-link" aria-label="时间轴"><span class="icon iconfont icon-date" style=""></span>时间轴<!----></a></div><div class="nav-item hide-in-mobile"><a href="/tag/" class="nav-link" aria-label="Tags"><span class="icon iconfont icon-tag" style=""></span>Tags<!----></a></div></nav><div class="nav-actions-wrapper"><!--[--><!----><!--]--><div class="nav-item"><!----></div><div class="nav-item"><a class="repo-link" href="https://github.com/zhangchengk" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button class="outlook-button" tabindex="-1" ariahidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><form class="search-box" role="search"><input type="search" placeholder="Search" autocomplete="off" spellcheck="false" value><!----></form><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button><!--[--><!----><!--]--></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">🐼  操作系统</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">🐼  读书笔记</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">🐼  技术汇总</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">🐼  其他</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">🐼  容器</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">🐼  数据库</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">🐼  算法</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">🐼  ApacheNIFI教程</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">🐼  ApacheNIFI开发</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">🐼  HikariCP</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">🐼  IO流(java)</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">🐼  JAVA</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable active"><!----><span class="title">🐼  JOLT</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a href="/JOLT/JsonJolt%E6%95%99%E7%A8%8B.html" class="nav-link sidebar-link sidebar-page" aria-label="Json JOLT 教程"><!---->Json JOLT 教程<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/JOLT/JsonJolt%E6%95%99%E7%A8%8B%E8%8B%B1%E6%96%87%E7%89%88.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="Json JOLT 教程(英文版)"><!---->Json JOLT 教程(英文版)<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/JOLT/JsonJolt%E6%95%99%E7%A8%8B%E8%8B%B1%E6%96%87%E7%89%88.html#overview" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Overview"><!---->Overview<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/JOLT/JsonJolt%E6%95%99%E7%A8%8B%E8%8B%B1%E6%96%87%E7%89%88.html#alternatives" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Alternatives"><!---->Alternatives<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/JOLT/JsonJolt%E6%95%99%E7%A8%8B%E8%8B%B1%E6%96%87%E7%89%88.html#performance" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Performance"><!---->Performance<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/JOLT/JsonJolt%E6%95%99%E7%A8%8B%E8%8B%B1%E6%96%87%E7%89%88.html#stock-transforms" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Stock Transforms"><!---->Stock Transforms<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/JOLT/JsonJolt%E6%95%99%E7%A8%8B%E8%8B%B1%E6%96%87%E7%89%88.html#shift" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="shift"><!---->shift<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/JOLT/JsonJolt%E6%95%99%E7%A8%8B%E8%8B%B1%E6%96%87%E7%89%88.html#shiftr-walkedpathtree" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Shiftr WalkedPathTree"><!---->Shiftr WalkedPathTree<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/JOLT/JsonJolt%E6%95%99%E7%A8%8B%E8%8B%B1%E6%96%87%E7%89%88.html#shiftr-wildcards" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Shiftr wildcards"><!---->Shiftr wildcards<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/JOLT/JsonJolt%E6%95%99%E7%A8%8B%E8%8B%B1%E6%96%87%E7%89%88.html#json-array" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="json Array"><!---->json Array<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/JOLT/JsonJolt%E6%95%99%E7%A8%8B%E8%8B%B1%E6%96%87%E7%89%88.html#algorithm-high-level" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Algorithm High Level"><!---->Algorithm High Level<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/JOLT/JsonJolt%E6%95%99%E7%A8%8B%E8%8B%B1%E6%96%87%E7%89%88.html#algorithm-low-level" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Algorithm Low Level"><!---->Algorithm Low Level<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/JOLT/JsonJolt%E6%95%99%E7%A8%8B%E8%8B%B1%E6%96%87%E7%89%88.html#default" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="default"><!---->default<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/JOLT/JsonJolt%E6%95%99%E7%A8%8B%E8%8B%B1%E6%96%87%E7%89%88.html#wildcard-6" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="wildcard"><!---->wildcard<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/JOLT/JsonJolt%E6%95%99%E7%A8%8B%E8%8B%B1%E6%96%87%E7%89%88.html#remove" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="remove"><!---->remove<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/JOLT/JsonJolt%E6%95%99%E7%A8%8B%E8%8B%B1%E6%96%87%E7%89%88.html#wildcard-7" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Wildcard"><!---->Wildcard<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/JOLT/JsonJolt%E6%95%99%E7%A8%8B%E8%8B%B1%E6%96%87%E7%89%88.html#cardinality" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="cardinality"><!---->cardinality<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/JOLT/JsonJolt%E6%95%99%E7%A8%8B%E8%8B%B1%E6%96%87%E7%89%88.html#valid-cardinality-values-rhs-right-hand-side" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Valid Cardinality Values (RHS : right hand side)"><!---->Valid Cardinality Values (RHS : right hand side)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/JOLT/JsonJolt%E6%95%99%E7%A8%8B%E8%8B%B1%E6%96%87%E7%89%88.html#wildcards" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Wildcards"><!---->Wildcards<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/JOLT/JsonJolt%E6%95%99%E7%A8%8B%E8%8B%B1%E6%96%87%E7%89%88.html#sort" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="sort"><!---->sort<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/JOLT/JsonJolt%E6%95%99%E7%A8%8B%E8%8B%B1%E6%96%87%E7%89%88.html#modify" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="modify"><!---->modify<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/JOLT/JsonJolt%E6%95%99%E7%A8%8B%E8%8B%B1%E6%96%87%E7%89%88.html#extended" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Extended"><!---->Extended<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/JOLT/JsonJolt%E6%95%99%E7%A8%8B%E8%8B%B1%E6%96%87%E7%89%88.html#chainr" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Chainr"><!---->Chainr<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/JOLT/JsonJolt%E6%95%99%E7%A8%8B%E8%8B%B1%E6%96%87%E7%89%88.html#java-call" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Java call"><!---->Java call<!----></a><ul class="sidebar-sub-headers"></ul></li></ul><!--]--></li><li><!--[--><a href="/JOLT/%E4%BD%BF%E7%94%A8jolt%E6%9B%BF%E6%8D%A2%E5%80%BC.html" class="nav-link sidebar-link sidebar-page" aria-label="使用jolt替换值"><!---->使用jolt替换值<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">🐼  Linux</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">🐼  Maven</span><span class="arrow right"></span></button><!----></section><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->Json JOLT 教程(英文版)</h1><div class="page-info"><span class="author-info" aria-label="作者🖊" data-balloon-pos="down" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="author-item" href="https://zhangchengk.github.io/about/intro.html" target="_blank" rel="noopener noreferrer">Panda诚</a></span><span property="author" content="Panda诚"></span></span><!----><span class="date-info" aria-label="写作日期📅" data-balloon-pos="down" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span>2020年5月21日</span><meta property="datePublished" content="2020-05-21T00:00:00.000Z"></span><span class="category-info" aria-label="分类🌈" data-balloon-pos="down" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><ul class="categories-wrapper"><li class="category category1 clickable" role="navigation">Jolt</li><meta property="articleSection" content="Jolt"></ul></span><!----><span class="reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="down" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 18 分钟</span><meta property="timeRequired" content="PT18M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">此页内容</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/JOLT/JsonJolt%E6%95%99%E7%A8%8B%E8%8B%B1%E6%96%87%E7%89%88.html#overview" class="router-link-active router-link-exact-active toc-link level2">Overview</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/JOLT/JsonJolt%E6%95%99%E7%A8%8B%E8%8B%B1%E6%96%87%E7%89%88.html#alternatives" class="router-link-active router-link-exact-active toc-link level2">Alternatives</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/JOLT/JsonJolt%E6%95%99%E7%A8%8B%E8%8B%B1%E6%96%87%E7%89%88.html#performance" class="router-link-active router-link-exact-active toc-link level2">Performance</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/JOLT/JsonJolt%E6%95%99%E7%A8%8B%E8%8B%B1%E6%96%87%E7%89%88.html#stock-transforms" class="router-link-active router-link-exact-active toc-link level2">Stock Transforms</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/JOLT/JsonJolt%E6%95%99%E7%A8%8B%E8%8B%B1%E6%96%87%E7%89%88.html#shift" class="router-link-active router-link-exact-active toc-link level2">shift</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/JOLT/JsonJolt%E6%95%99%E7%A8%8B%E8%8B%B1%E6%96%87%E7%89%88.html#shiftr-walkedpathtree" class="router-link-active router-link-exact-active toc-link level3">Shiftr WalkedPathTree</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/JOLT/JsonJolt%E6%95%99%E7%A8%8B%E8%8B%B1%E6%96%87%E7%89%88.html#shiftr-wildcards" class="router-link-active router-link-exact-active toc-link level3">Shiftr wildcards</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/JOLT/JsonJolt%E6%95%99%E7%A8%8B%E8%8B%B1%E6%96%87%E7%89%88.html#json-array" class="router-link-active router-link-exact-active toc-link level3">json Array</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/JOLT/JsonJolt%E6%95%99%E7%A8%8B%E8%8B%B1%E6%96%87%E7%89%88.html#algorithm-high-level" class="router-link-active router-link-exact-active toc-link level3">Algorithm High Level</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/JOLT/JsonJolt%E6%95%99%E7%A8%8B%E8%8B%B1%E6%96%87%E7%89%88.html#algorithm-low-level" class="router-link-active router-link-exact-active toc-link level3">Algorithm Low Level</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/JOLT/JsonJolt%E6%95%99%E7%A8%8B%E8%8B%B1%E6%96%87%E7%89%88.html#default" class="router-link-active router-link-exact-active toc-link level2">default</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/JOLT/JsonJolt%E6%95%99%E7%A8%8B%E8%8B%B1%E6%96%87%E7%89%88.html#wildcard-6" class="router-link-active router-link-exact-active toc-link level3">wildcard</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/JOLT/JsonJolt%E6%95%99%E7%A8%8B%E8%8B%B1%E6%96%87%E7%89%88.html#remove" class="router-link-active router-link-exact-active toc-link level2">remove</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/JOLT/JsonJolt%E6%95%99%E7%A8%8B%E8%8B%B1%E6%96%87%E7%89%88.html#wildcard-7" class="router-link-active router-link-exact-active toc-link level3">Wildcard</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/JOLT/JsonJolt%E6%95%99%E7%A8%8B%E8%8B%B1%E6%96%87%E7%89%88.html#cardinality" class="router-link-active router-link-exact-active toc-link level2">cardinality</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/JOLT/JsonJolt%E6%95%99%E7%A8%8B%E8%8B%B1%E6%96%87%E7%89%88.html#valid-cardinality-values-rhs-right-hand-side" class="router-link-active router-link-exact-active toc-link level3">Valid Cardinality Values (RHS : right hand side)</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/JOLT/JsonJolt%E6%95%99%E7%A8%8B%E8%8B%B1%E6%96%87%E7%89%88.html#wildcards" class="router-link-active router-link-exact-active toc-link level3">Wildcards</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/JOLT/JsonJolt%E6%95%99%E7%A8%8B%E8%8B%B1%E6%96%87%E7%89%88.html#sort" class="router-link-active router-link-exact-active toc-link level2">sort</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/JOLT/JsonJolt%E6%95%99%E7%A8%8B%E8%8B%B1%E6%96%87%E7%89%88.html#modify" class="router-link-active router-link-exact-active toc-link level2">modify</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/JOLT/JsonJolt%E6%95%99%E7%A8%8B%E8%8B%B1%E6%96%87%E7%89%88.html#extended" class="router-link-active router-link-exact-active toc-link level2">Extended</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/JOLT/JsonJolt%E6%95%99%E7%A8%8B%E8%8B%B1%E6%96%87%E7%89%88.html#chainr" class="router-link-active router-link-exact-active toc-link level2">Chainr</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/JOLT/JsonJolt%E6%95%99%E7%A8%8B%E8%8B%B1%E6%96%87%E7%89%88.html#java-call" class="router-link-active router-link-exact-active toc-link level2">Java call</a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><!--[--><p>Content：</p><p>If there is any mistake, please leave a message.If reproduced, please indicate the source.</p><p>Jolt GitHub: <a href="https://github.com/bazaarvoice/jolt" target="_blank" rel="noopener noreferrer">https://github.com/bazaarvoice/jolt<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>Jolt online demo: <a href="https://jolt-demo.appspot.com" target="_blank" rel="noopener noreferrer">https://jolt-demo.appspot.com<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>JSON to JSON transformation library written in Java where the &quot;specification&quot; for the transform is itself a JSON document.In the following documents, I use &#39;Spec&#39; instead of &quot;specification&quot; json document . LHS(left hand side) represents the keys of Spec json, and RHS(right hand side) represents the values of Spec json. Some of the examples are referenced Jolt source code comment documents.</p><p>Useful For:</p><ol><li>Transforming JSON data from ElasticSearch, MongoDb, Cassandra, etc before sending it off to the world</li><li>Extracting data from a large JSON documents for your own consumption</li></ol><h2 id="overview" tabindex="-1"><a class="header-anchor" href="#overview" aria-hidden="true">#</a> Overview</h2><p>Jolt :</p><ul><li><p>provides a set of transforms, that can be &quot;chained&quot; together to form the overall JSON to JSON transform.</p></li><li><p>focuses on transforming the structure of your JSON data, not manipulating specific values</p><ul><li>The idea being: use Jolt to get most of the structure right, then write code to fix values</li></ul></li><li><p>consumes and produces &quot;hydrated&quot; JSON : in-memory tree of Maps, Lists, Strings, etc</p><ul><li>use Jackson (or whatever) to serialize and deserialize the JSON text</li></ul></li></ul><h2 id="alternatives" tabindex="-1"><a class="header-anchor" href="#alternatives" aria-hidden="true">#</a> Alternatives</h2><p>Being in the Java JSON processing &quot;space&quot;, here are some other interesting JSON manipulation tools to look at / consider :</p><ul><li><p><a href="https://stedolan.github.io/jq" target="_blank" rel="noopener noreferrer">jq<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>Awesome command line tool to extract data from JSON files (use it all the time, available via brew)</p></li><li><p><a href="https://github.com/jayway/JsonPath" target="_blank" rel="noopener noreferrer">JsonPath<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> Java : Extract data from JSON using XPATH like syntax.</p></li><li><p><a href="https://github.com/jsurfer/JsonSurfer" target="_blank" rel="noopener noreferrer">JsonSurfer<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>Java : Streaming JsonPath processor dedicated to processing big and complicated JSON data.</p></li></ul><h2 id="performance" tabindex="-1"><a class="header-anchor" href="#performance" aria-hidden="true">#</a> Performance</h2><p>The primary goal of Jolt was to improve &quot;developer speed&quot; by providing the ability to have a declarative rather than imperative transforms. That said, Jolt should have a better runtime than the alternatives listed above.</p><p>Work has been done to make the stock Jolt transforms fast:</p><ol><li>Transforms can be initialized once with their spec, and re-used many times in a multi-threaded environment. <ul><li>We reuse initialized Jolt transforms to service multiple web requests from a DropWizard service.</li></ul></li><li>&quot;*&quot; wildcard logic was redone to reduce the use of Regex in the common case, which was a dramatic speed improvement.</li><li>The parallel tree walk performed by Shiftr was optimized.</li></ol><p>Two things to be aware of :</p><ol><li>Jolt is not &quot;stream&quot; based, so if you have a very large Json document to transform you need to have enough memory to hold it.</li><li>The transform process will create and discard a lot of objects, so the garbage collector will have work to do.</li></ol><h2 id="stock-transforms" tabindex="-1"><a class="header-anchor" href="#stock-transforms" aria-hidden="true">#</a> Stock Transforms</h2><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>shift       : copy data from the input tree and put it the output tree
default     : apply default values to the tree
remove      : remove data from the tree
sort        : sort the Map key values alphabetically ( for debugging and human readability )
cardinality : &quot;fix&quot; the cardinality of input data.  Eg, the &quot;urls&quot; element is usually a List, but if there is only one, then it is a String
modify-overwrite-beta:This variant of modifier creates the key/index is missing, and overwrites the value if present
modify-default-beta:This variant of modifier only writes when the key/index is missing or the value is null
modify-define-beta:This variant of modifier only writes when the key/index is missing
full qualified Java ClassName : Class implements the Transform or ContextualTransform interfaces, and can optionally be SpecDriven (marker interface)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Each transform has its own DSL (Domain Specific Language) in order to facilitate its narrow job.</p><p>Currently, Currently, the top five Transforms just effect the &quot;structure&quot; of the data. To do data manipulation, you will need to write Java code or use modify function. If you write your Java &quot;data manipulation&quot; code to implement the Transform interface, then you can insert your code in the transform chain.</p><p>The out-of-the-box Jolt transforms should be able to do most of your structural transformation, with custom Java Transforms implementing your data manipulation.</p><p>Here is a Jolt guide in PDF:<a href="../jolt/JOLTIntroduction.pdf" download="JOLTIntroduction.pdf">Jolt介绍</a></p><p>Google document PPT address online：<a href="https://docs.google.com/presentation/d/1sAiuiFC4Lzz4-064sg1p8EQt2ev0o442MfEbvrpD1ls/edit?usp=sharing" target="_blank" rel="noopener noreferrer">https://docs.google.com/presentation/d/1sAiuiFC4Lzz4-064sg1p8EQt2ev0o442MfEbvrpD1ls/edit?usp=sharing<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="shift" tabindex="-1"><a class="header-anchor" href="#shift" aria-hidden="true">#</a> shift</h2><p>Shiftr is a kind of JOLT transform that specifies where &quot;data&quot; from the input JSON should be placed in the output JSON, aka how the input JSON/data should be shifted around to make the output JSON/data.</p><p>At a base level, a single Shiftr &quot;command&quot; is a mapping from an input path to an output path, similar to the &quot;mv&quot; command in Unix, &quot;mv /var/data/mysql/data /media/backup/mysql&quot;.</p><p>In Shiftr, the input path is a JSON tree structure, and the output path is flattened &quot;dot notation&quot; path notation.</p><p>The idea is that you can start with a copy of your JSON input data and modify it into a Shiftr spec by supplying a &quot;dot notation&quot; output path for each piece of data that you care about.</p><p>For example, given this simple input JSON:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;rating&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
       <span class="token property">&quot;quality&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
          <span class="token property">&quot;max&quot;</span><span class="token operator">:</span> <span class="token number">5</span>
       <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>A simple Shiftr spec could be constructed by copying that input, and modifying it to supply an output path for each piece of data:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code> <span class="token punctuation">{</span>
    <span class="token property">&quot;rating&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;quality&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SecondaryRatings.quality.Value&quot;</span><span class="token punctuation">,</span>     <span class="token comment">// copy 3 to &quot;SecondaryRatings.quality.Value&quot;</span>
          <span class="token property">&quot;max&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SecondaryRatings.quality.RatingRange&quot;</span>  <span class="token comment">// copy 5 to &quot;SecondaryRatings.quality.RatingRange&quot;</span>
      <span class="token punctuation">}</span>   
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>would produce the following output JSON:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code>  <span class="token punctuation">{</span>
    <span class="token property">&quot;SecondaryRatings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;quality&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;Value&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
        <span class="token property">&quot;RatingRange&quot;</span><span class="token operator">:</span> <span class="token number">5</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>As shown above, Shiftr specs can be entirely made up of literal string values, but its real power comes from its wildcards.Using wildcards, you can leverage the fact that you know, not just the data and its immediate key, but the whole input path to that data.</p><p>Expanding the example above, say we have the following expanded Input JSON:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;rating&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;primary&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>   <span class="token comment">// want this value to goto output path &quot;Rating&quot;</span>
          <span class="token property">&quot;max&quot;</span><span class="token operator">:</span> <span class="token number">5</span>      <span class="token comment">// want this value to goto output path &quot;RatingRange&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;quality&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>      <span class="token comment">// want output path &quot;SecondaryRatings.quality.Id&quot; = &quot;quality&quot;, aka we want the value of the key to be used</span>
          <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>   <span class="token comment">// want this value to goto output path &quot;SecondaryRatings.quality.Value&quot;</span>
          <span class="token property">&quot;max&quot;</span><span class="token operator">:</span> <span class="token number">5</span>      <span class="token comment">// want this value to goto output path &quot;SecondaryRatings.quality.Range&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;sharpness&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>   <span class="token comment">// want output path &quot;SecondaryRatings.sharpness.Id&quot; = &quot;sharpness&quot;</span>
          <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>  <span class="token comment">// want this value to goto output path &quot;SecondaryRatings.sharpness.Value&quot;</span>
          <span class="token property">&quot;max&quot;</span><span class="token operator">:</span> <span class="token number">10</span>    <span class="token comment">// want this value to goto output path &quot;SecondaryRatings.sharpness.Range&quot;</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Spec:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;rating&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;primary&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Rating&quot;</span><span class="token punctuation">,</span>                       <span class="token comment">// output -&gt; &quot;Rating&quot; : 3</span>
        <span class="token property">&quot;max&quot;</span><span class="token operator">:</span> <span class="token string">&quot;RatingRange&quot;</span>                      <span class="token comment">// output -&gt; &quot;RatingRange&quot; : 5</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;*&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>                                        <span class="token comment">// match input data like &quot;rating.[anything-other-than-primary]&quot;</span>
        <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SecondaryRatings.&amp;1.Value&quot;</span><span class="token punctuation">,</span>    <span class="token comment">// the data at &quot;rating.*.value&quot; goes to &quot;SecondaryRatings.*.Value&quot;</span>
                                                  <span class="token comment">// the &quot;&amp;1&quot; means use the value one level up the tree ( &quot;quality&quot; or &quot;sharpness&quot; )</span>
                                                <span class="token comment">// output -&gt; &quot;SecondaryRatings.quality.Value&quot; : 3 AND</span>
                                                <span class="token comment">//           &quot;SecondaryRatings.sharpness.Value&quot; : 7</span>

        <span class="token property">&quot;max&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SecondaryRatings.&amp;1.Range&quot;</span><span class="token punctuation">,</span>      <span class="token comment">// the data at &quot;rating.*.max&quot; goes to &quot;SecondaryRatings.*.Range&quot;</span>
                                                 <span class="token comment">// the &quot;&amp;1&quot; means use the value one level up the tree ( &quot;quality&quot; or &quot;sharpness&quot; )</span>
                                                 <span class="token comment">// output -&gt; &quot;SecondaryRatings.quality.Range&quot; : 5 AND</span>
                                                  <span class="token comment">//           &quot;SecondaryRatings.sharpness.Range&quot; : 10</span>

        <span class="token property">&quot;$&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SecondaryRatings.&amp;1.Id&quot;</span>            <span class="token comment">// Special operator $ means, use the value of the input key itself as the data</span>
                                                 <span class="token comment">// output -&gt; &quot;SecondaryRatings.quality.Id&quot; : &quot;quality&quot;</span>
                                                 <span class="token comment">// output -&gt; &quot;SecondaryRatings.sharpness.Id&quot; : &quot;sharpness&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Yielding the following output:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;Rating&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
  <span class="token property">&quot;RatingRange&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
  <span class="token property">&quot;SecondaryRatings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
     <span class="token property">&quot;quality&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;Range&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Value&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;quality&quot;</span>     <span class="token comment">// the special $ operator allows us to use input key the text value of &quot;quality&quot;, as the &quot;Id&quot; of the output</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token property">&quot;sharpness&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;Range&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Value&quot;</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sharpness&quot;</span>   <span class="token comment">// the special $ operator allows us to use input key the text value of &quot;sharpness&quot;, as the &quot;Id&quot; of the output</span>
     <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="shiftr-walkedpathtree" tabindex="-1"><a class="header-anchor" href="#shiftr-walkedpathtree" aria-hidden="true">#</a> Shiftr WalkedPathTree</h3><p>This part of the content is in the study of part of the source code and practice of the summary, there may be some mistakes, if someone see, please be sure to leave a message to correct!</p><p><strong>theory</strong>：</p><p>Jolt in shiftr, when processing input according to Spec, keeps a dynamic WalkedPath at all times, which is generally a linkedList.As a new match calculation operation, the current information (including a refTree, which is a reference to the input json, and a subKey, which is the key value matched) is saved to the WalkedPath。When the calculation is completed at the leaf node in the Spec tree(including the matching calculation and the output calculation),the current stored information is removed from the WalkedPath.Although the outer layer of the WalkedPath is a linked list, drawing the entire WalkedPath path becomes a tree because of wildcards, multiple matches at the same level, and so on (recursion is in the code).</p><p>For example, we saw an &amp;1 in the above example, and &amp; means to take the key value of the corresponding node, as explained below.Based on the example above, let&#39;s draw the WalkedPathTree when we first compute to &amp;1 <img src="/assets/20.fc0360ea.jpg" alt="" loading="lazy"> Here is a screenshot of the program from debug to the first time it was calculated to &amp;1: <img src="/assets/18.f7094c7a.png" alt="" loading="lazy"></p><p><img src="/assets/19.33ca8194.png" alt="" loading="lazy"></p><h3 id="shiftr-wildcards" tabindex="-1"><a class="header-anchor" href="#shiftr-wildcards" aria-hidden="true">#</a> Shiftr wildcards</h3><h4 id="wildcard" tabindex="-1"><a class="header-anchor" href="#wildcard" aria-hidden="true">#</a> &#39;*&#39; wildcard</h4><ol><li>Valid only on the LHS ( input JSON keys ) side of a Shiftr Spec</li><li>The &#39;*&#39; wildcard can be used by itself or to match part of a key.</li></ol><p>&#39;*&#39; wildcard by itself:</p><p>input：</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;rating&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;quality&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      <span class="token property">&quot;max&quot;</span><span class="token operator">:</span> <span class="token number">5</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sharpness&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;value&quot;</span> <span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
      <span class="token property">&quot;max&quot;</span> <span class="token operator">:</span> <span class="token number">10</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In this example, &quot;rating.quality&quot; and &quot;rating.sharpness&quot; both have the same structure/format, and thus we can use the &#39;*&#39; to allow us to write more compact rules and avoid having to explicitly write very similar rules for both &quot;quality&quot; and &quot;sharpness&quot;. Spec:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;shift&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;spec&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;rating&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;*&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;max&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Rating.[#2].amx&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Rating.[#2].value&quot;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/20.d04651a8.png" alt="" loading="lazy"></p><p>&#39;*&#39; wildcard as part of a key:</p><p>input：</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;tag-Pro&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Awesome&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;tag-Con&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Bogus&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>A &#39;tag-*&#39; would match both keys, and make the whole key and &quot;matched&quot; part of the key available. Spec:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;shift&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;spec&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;tag-*&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&amp;(0,1)&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>output: <img src="/assets/21.08e09d47.png" alt="" loading="lazy"></p><h4 id="wildcard-1" tabindex="-1"><a class="header-anchor" href="#wildcard-1" aria-hidden="true">#</a> &#39;&amp;&#39;wildcard</h4><ol><li>Valid on the LHS (left hand side - input JSON keys) and RHS (output data path)</li><li>The canonical form of the wildcard is &quot;&amp;(0,0)&quot;.The first parameter is where in the input path to look for a value, and the second parameter is which part of the key to use (used with * key).</li></ol><p>eg input:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;test2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;value2&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Spec:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;shift&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;spec&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;&amp;&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ratingNames&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>output： <img src="/assets/1.a976f3f4.png" alt="" loading="lazy"></p><p>&#39;&amp;&#39; Path lookup：As Shiftr processes data and walks down the spec, it maintains a data structure describing the path it has walked.The &#39;&amp;&#39; wildcard can access data from that path in a 0 major, upward oriented way.</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;foo&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;bar&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;baz&quot;</span><span class="token operator">:</span>  <span class="token comment">// &amp;0 = baz, &amp;1 = bar, &amp;2 = foo</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>&amp; Subkey lookup： &#39;&amp;&#39; subkey lookup allows us to referece the values captured by the &#39;<em>&#39; wildcard.Example, &quot;tag-</em>-*&quot; would match &quot;tag-Foo-Bar&quot;, making</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code> &amp;(0,0) = &quot;tag-Foo-Bar&quot;
 &amp;(0,1) = &quot;Foo&quot;
 &amp;(0,2) = &quot;Bar&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="wildcard-2" tabindex="-1"><a class="header-anchor" href="#wildcard-2" aria-hidden="true">#</a> &#39;$&#39;Wildcard</h4><ol><li>Valid only on the LHS of the spec.</li><li>The existence of this wildcard is a reflection of the fact that the &quot;data&quot; of the input JSON, can be both in the &quot;values&quot; and the &quot;keys&quot; of the input JSON</li><li>The base case operation of Shiftr is to copy input JSON &quot;values&quot;, thus we need a way to specify that we want to copy the input JSON &quot;key&quot; instead.</li></ol><p>There are two cases where this is useful:</p><ol><li>when a &quot;key&quot; in the input JSON needs to be a &quot;id&quot; value in the output JSON, see the &#39; &quot;$&quot;: &quot;SecondaryRatings.&amp;1.Id&quot; &#39; example above.</li><li>you want to make a list of all the input keys.</li></ol><p>Example of &quot;a list of the input keys&quot;:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;rating&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;primary&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      <span class="token property">&quot;max&quot;</span><span class="token operator">:</span> <span class="token number">5</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;quality&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      <span class="token property">&quot;max&quot;</span><span class="token operator">:</span> <span class="token number">7</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>desired output:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;ratings&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">&quot;primary&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;quality&quot;</span> <span class="token punctuation">]</span>    <span class="token comment">// Aside: this is an example of implicit JSON array creation in the output which is detailed further down.</span>
                                          <span class="token comment">// For now just observe that the input keys &quot;primary&quot; and &quot;quality&quot; have both made it to the output.</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Spec：</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;rating&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;*&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>               <span class="token comment">// match all keys below &quot;rating&quot;</span>
      <span class="token property">&quot;$&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ratings&quot;</span>     <span class="token comment">// output each of the &quot;keys&quot; to &quot;ratings&quot; in the output</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="wildcard-3" tabindex="-1"><a class="header-anchor" href="#wildcard-3" aria-hidden="true">#</a> &#39;#&#39;Wildcard</h4><ol><li>Valid both on the LHS and RHS, but has different behavior / format on either side.</li><li>On the RHS of the spec, # is only valid in the the context of an array, like &quot;[#2]&quot;.What &quot;[#2]&quot; means is, go up the three levels and ask that node how many matches it has had, and then use that as an index in the arrays.</li><li>On the LHS of the spec, # allows you to specify a hard coded String to be place as a value in the output.</li><li>On the LHS of the spec,# is the root node and children are not allowed</li></ol><p>The initial use-case for this feature was to be able to process a Boolean input value, and if the value is boolean true write out the string &quot;enabled&quot;. Note, this was possible before, but it required two Shiftr steps.</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;hidden&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;true&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>                             <span class="token comment">// if the value of &quot;hidden&quot; is true</span>
        <span class="token property">&quot;#disabled&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;clients.clientId&quot;</span>   <span class="token comment">//write the word &quot;disabled&quot; to the path &quot;clients.clientId&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Let&#39;s do another example</p><p>input json:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;ratings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;primary&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token property">&quot;quality&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
    <span class="token property">&quot;design&quot;</span><span class="token operator">:</span> <span class="token number">5</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Spec:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;shift&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;spec&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;ratings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;*&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token comment">// </span>
          <span class="token comment">// #2 means go three levels up the tree (count from 0),</span>
          <span class="token comment">//  and ask the &quot;ratings&quot; node, how many of it&#39;s</span>
          <span class="token comment">//  children have been matched.</span>
          <span class="token comment">//</span>
          <span class="token comment">// This allows us to put the Name and the Value into</span>
          <span class="token comment">//  the same object in the Ratings array.</span>
          <span class="token property">&quot;$&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Ratings[#2].Name&quot;</span><span class="token punctuation">,</span><span class="token comment">//$上文已经讲解 使key作为输出value</span>
          <span class="token property">&quot;@&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Ratings[#2].Value&quot;</span><span class="token comment">//@下文会讲解 </span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>output json:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;Ratings&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;Name&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;primary&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Value&quot;</span> <span class="token operator">:</span> <span class="token number">5</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;Name&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;quality&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Value&quot;</span> <span class="token operator">:</span> <span class="token number">4</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;Name&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;design&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Value&quot;</span> <span class="token operator">:</span> <span class="token number">5</span>
  <span class="token punctuation">}</span> <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Jolt demo said &#39;#2 means go three levels up the tree (count from 0)&#39;.But I think &#39;three levels up&#39; is ambiguous, WalkedPath is an array, starting from 0, assuming the length is 5, then the index corresponding to &#39;two levels up&#39; is labeled 5-1-2 = 2 ,So I think &#39;two levels up&#39; is actually the best way to read it.</p><p>The key parts of the source code are as follows: <img src="/assets/17.a42c9c70.png" alt="" loading="lazy"> Hand-drawn drawings of walkedPathTree are as follows: <img src="/assets/18.03c158c8.jpg" alt="" loading="lazy"></p><h4 id="wildcard-4" tabindex="-1"><a class="header-anchor" href="#wildcard-4" aria-hidden="true">#</a> &#39;|&#39;Wildcard</h4><ol><li>Valid only on the LHS of the spec.</li></ol><p>This &#39;or&#39; wildcard allows you to match multiple input keys. Useful if you don&#39;t always know exactly what your input data will be.</p><p>Spec:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;rating|Rating&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;rating-primary&quot;</span>   <span class="token comment">// match &quot;rating&quot; or &quot;Rating&quot; copy the data to &quot;rating-primary&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="wildcard-5" tabindex="-1"><a class="header-anchor" href="#wildcard-5" aria-hidden="true">#</a> &#39;@&#39;Wildcard</h4><ol><li>Valid on both sides of the spec.</li><li>On the LHS of the spec,@ is the root node and children are not allowed</li></ol><p>This wildcard is necessary if you want to put both the input value and the input key somewhere in the output JSON.</p><p>Say we have a spec that just operates on the value of the input key &quot;rating&quot;：</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;foo&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;place.to.put.value&quot;</span><span class="token punctuation">,</span>  <span class="token comment">// leveraging the implicit operation of Shiftr which is to operate on input JSON values</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>if we want to do something with the &quot;key&quot; as well as the value Spec</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;foo&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
     <span class="token property">&quot;$&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;place.to.put.key&quot;</span><span class="token punctuation">,</span>
     <span class="token property">&quot;@&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;place.to.put.value&quot;</span>    <span class="token comment">// &#39;@&#39; explicitly tell Shiftr to operate on the input JSON value of the parent key &quot;foo&quot;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Thus the &#39;@&#39; wildcard is the mean &quot;copy the value of the data at this level in the tree, to the output&quot;.</p><p>Advanced &#39;@&#39; sign wildcard.The format is lools like &quot;@(3,title)&quot;, where &quot;3&quot; means go up the WalkedPath tree 3 levels and then lookup the key &quot;title&quot; and use the value at that key.</p><p>eg： <img src="/assets/2.25815a11.png" alt="" loading="lazy"></p><p>Debug screenshot when calculating @(2,test)： <img src="/assets/13.550b1b92.png" alt="" loading="lazy"></p><p>Then, at the end of the calculation @(2,test2), walkedPathTree adds another level (in fact, @(2,test2), @(3,test2) returns treeRef at level 1 and treeRef at level 0, both subtrees are the root node, the effect is the same, as shown below 😃 <img src="/assets/15.aabdbaba.png" alt="" loading="lazy"></p><p>Replace @(2,test2) with @(3,test2) and the result is the same: <img src="/assets/16.49a14d57.png" alt="" loading="lazy"></p><p>The @ alone is equivalent to @0: <img src="/assets/12.1d50b5f0.png" alt="" loading="lazy"></p><p>Examples of @ wildcard in RHS:</p><p>input json:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;author&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;Stephen Hawking&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;book&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;A Brief History of Time&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>expected json</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;Stephen Hawking&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;A Brief History of Time&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Spec</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;@author&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;@book&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The @book for RHS is actually one more level than the walkedPathTree for calculating @author</p><h3 id="json-array" tabindex="-1"><a class="header-anchor" href="#json-array" aria-hidden="true">#</a> json Array</h3><p>Reading from (input) and writing to (output) JSON Arrays is fully supported.</p><h4 id="handling-arrays-in-the-input-json" tabindex="-1"><a class="header-anchor" href="#handling-arrays-in-the-input-json" aria-hidden="true">#</a> Handling Arrays in the input JSON</h4><p>Shiftr treats JSON arrays in the input data as Maps with numeric keys.</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;Photos&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">&quot;AAA.jpg&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;BBB.jpg&quot;</span> <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Spec</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;Photos&quot;</span> <span class="token operator">:</span>
   <span class="token punctuation">{</span>
     <span class="token property">&quot;1&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;photo-&amp;-url&quot;</span>      <span class="token comment">// Specify that we only want to operate on the 1-th index of the &quot;Photos&quot; input array</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>output:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;photo-1-url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BBB.jpg&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="handling-arrays-in-the-output-json" tabindex="-1"><a class="header-anchor" href="#handling-arrays-in-the-output-json" aria-hidden="true">#</a> Handling Arrays in the output JSON</h4><p>Traditional array brackets, [ ], are used to specify array index in the output JSON. <strong>[]&#39;s are only valid on the RHS of the Shiftr spec.</strong></p><p>Example :</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;photo-1-id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;327704&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;photo-1-url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://bob.com/0001/327704/photo.jpg&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Spec:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;photo-1-id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Photos[1].Id&quot;</span><span class="token punctuation">,</span>   <span class="token comment">// Declare the &quot;Photos&quot; in the output to be an array,</span>
  <span class="token property">&quot;photo-1-url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Photos[1].Url&quot;</span>  <span class="token comment">// that the 1-th array location should have data</span>
  <span class="token comment">// same as above but more powerful</span>
  <span class="token comment">// note &#39;&amp;&#39; logic can be used inside the &#39;[ ]&#39; notation &quot;photo-*-url&quot;: &quot;Photos[&amp;(0,1)].Url&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>output:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;Photos&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token null keyword">null</span> <span class="token punctuation">,</span>                <span class="token comment">// note Photos[0] is null, because no data was pushed to it</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;Id&quot;</span><span class="token operator">:</span><span class="token string">&quot;327704&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;Url&quot;</span><span class="token operator">:</span><span class="token string">&quot;http://bob.com/0001/327704/photo.jpg&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="json-arrays-in-the-spec-file" tabindex="-1"><a class="header-anchor" href="#json-arrays-in-the-spec-file" aria-hidden="true">#</a> JSON arrays in the spec file</h4><p>JSON Arrays in Shiftr spec are used to to specify that piece of input data should be copied to two places in the output JSON.</p><p>Example :</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span> <span class="token property">&quot;foo&quot;</span> <span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Spec:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span> <span class="token property">&quot;foo&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">&quot;bar&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;baz&quot;</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>output:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;bar&quot;</span> <span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
  <span class="token property">&quot;baz&quot;</span> <span class="token operator">:</span> <span class="token number">3</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="implicit-array-creation-in-the-output-json" tabindex="-1"><a class="header-anchor" href="#implicit-array-creation-in-the-output-json" aria-hidden="true">#</a> Implicit Array creation in the output JSON</h4><p>If a spec file is configured to output multiple pieces of data to the same output location, the output location will be turned into a JSON array.</p><p>Example :</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;foo&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;bar&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tuna&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;marlin&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Spec:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;foo&quot;</span>  <span class="token operator">:</span> <span class="token string">&quot;baz&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tuna&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;baz&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>output：</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;baz&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">&quot;bar&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;marlin&quot;</span> <span class="token punctuation">]</span>     <span class="token comment">// Note the order of this Array should not be relied upon</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="algorithm-high-level" tabindex="-1"><a class="header-anchor" href="#algorithm-high-level" aria-hidden="true">#</a> Algorithm High Level</h3><p>Walk the input data, and Shiftr spec simultaneously, and execute the Shiftr command/mapping each time there is a match.</p><h3 id="algorithm-low-level" tabindex="-1"><a class="header-anchor" href="#algorithm-low-level" aria-hidden="true">#</a> Algorithm Low Level</h3><ul><li>Simultaneously walk of the spec and input JSon, and maintain a walked &quot;input&quot; path data structure.</li><li>Determine a match between input JSON key and LHS spec, by matching LHS spec keys in the following order : <ul><li>Note that &#39;|&#39; keys are are split into their subkeys, eg &quot;literal&quot;, &#39;*&#39;, or &#39;&amp;&#39; LHS keys</li></ul><ol><li>Try to match the input key with &quot;literal&quot; spec key values</li><li>If no literal match is found, try to match against LHS &#39;&amp;&#39; computed values. <ul><li>For deterministic behavior, if there is more than one &#39;&amp;&#39; LHS key, they are applied/matched in alphabetical order,after the &#39;&amp;&#39; syntactic sugar is replaced with its canonical form.</li></ul></li><li>If no match is found, try to match against LHS keys with &#39;*&#39; wildcard values. <ul><li>For deterministic behavior, &#39;*&#39; wildcard keys are sorted and applied/matched in alphabetical order.</li></ul></li></ol></li></ul><p>Note, processing of the &#39;@&#39; and &#39;$&#39; LHS keys always occur if their parent&#39;s match, and do not block any other matching.</p><h2 id="default" tabindex="-1"><a class="header-anchor" href="#default" aria-hidden="true">#</a> default</h2><p>Defaultr is a kind of JOLT transform that applies default values in a non-destructive way.</p><p>For comparison :</p><ul><li>Shitr walks the input data and asks its spec &quot;Where should this go?&quot;</li><li>Defaultr walks the spec and asks &quot;Does this exist in the data? If not, add it.&quot;</li></ul><p>Example : Given input JSON like</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;Rating&quot;</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span>
  <span class="token property">&quot;SecondaryRatings&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
     <span class="token property">&quot;quality&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;Range&quot;</span><span class="token operator">:</span><span class="token number">7</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Value&quot;</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Id&quot;</span><span class="token operator">:</span><span class="token string">&quot;quality&quot;</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token property">&quot;sharpness&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;Value&quot;</span><span class="token operator">:</span><span class="token number">4</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Id&quot;</span><span class="token operator">:</span><span class="token string">&quot;sharpness&quot;</span>
     <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>With the desired output being :</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;Rating&quot;</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span>
  <span class="token property">&quot;RatingRange&quot;</span> <span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
  <span class="token property">&quot;SecondaryRatings&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
     <span class="token property">&quot;quality&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;Range&quot;</span><span class="token operator">:</span><span class="token number">7</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Value&quot;</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Id&quot;</span><span class="token operator">:</span><span class="token string">&quot;quality&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;ValueLabel&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Label&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
        <span class="token property">&quot;MaxLabel&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Great&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;MinLabel&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Terrible&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;DisplayType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;NORMAL&quot;</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token property">&quot;sharpness&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;Range&quot;</span><span class="token operator">:</span><span class="token number">5</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Value&quot;</span><span class="token operator">:</span><span class="token number">4</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Id&quot;</span><span class="token operator">:</span><span class="token string">&quot;sharpness&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;ValueLabel&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Label&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
        <span class="token property">&quot;MaxLabel&quot;</span><span class="token operator">:</span> <span class="token string">&quot;High&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;MinLabel&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Low&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;DisplayType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;NORMAL&quot;</span>
     <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Spec</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;RatingRange&quot;</span> <span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
  <span class="token property">&quot;SecondaryRatings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;quality|value&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
       <span class="token property">&quot;ValueLabel&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
       <span class="token property">&quot;Label&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
       <span class="token property">&quot;MaxLabel&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Great&quot;</span><span class="token punctuation">,</span>
       <span class="token property">&quot;MinLabel&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Terrible&quot;</span><span class="token punctuation">,</span>
       <span class="token property">&quot;DisplayType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;NORMAL&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;*&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
       <span class="token property">&quot;Range&quot;</span> <span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
       <span class="token property">&quot;ValueLabel&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
       <span class="token property">&quot;Label&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
       <span class="token property">&quot;MaxLabel&quot;</span><span class="token operator">:</span> <span class="token string">&quot;High&quot;</span><span class="token punctuation">,</span>
       <span class="token property">&quot;MinLabel&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Low&quot;</span><span class="token punctuation">,</span>
       <span class="token property">&quot;DisplayType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;NORMAL&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/3.f5ab00ed.png" alt="" loading="lazy"></p><h3 id="wildcard-6" tabindex="-1"><a class="header-anchor" href="#wildcard-6" aria-hidden="true">#</a> wildcard</h3><ol><li>&#39;*&#39; Apply these defaults to all input keys at this level</li><li>&#39;|&#39; Apply these defaults to input keys, if they exist</li><li>&#39;[]&#39; Signal to Defaultr that the data for this key should be an array.This means all defaultr keys below this entry have to be &quot;integers&quot;.</li></ol><p>Valid Array Specification :</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;photos[]&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
     <span class="token property">&quot;2&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
       <span class="token property">&quot;url&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;http://www.bazaarvoice.com&quot;</span><span class="token punctuation">,</span>
       <span class="token property">&quot;caption&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
     <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Algorithm：</p><ol><li>Defaultr walks its Spec in a depth first way.</li><li>At each level in the Spec tree, Defaultr, works from most specific to least specific Spec key: <ul><li>Literals key values</li><li>&quot;|&quot;, sub-sorted by how many or values there, then alphabetically (for deterministic behavior)</li><li>&quot;*&quot;</li></ul></li></ol><p>At a given level in the Defaultr Spec tree, only literal keys force Defaultr to create new entries in the input data: either as a single literal value or adding new nested Array or Map objects.The wildcard operators, are applied after the literal keys, and will not cause the those keys to be added if they are not already present in the input document (either naturally or having been defaulted in from literal spec keys).</p><p>Algorithm :</p><ul><li>1 Walk the spec</li><li>2 for each literal key in the spec (specKey) <ul><li>if the the specKey is a map or array, and the input is null, default an empty Map or Array into the output</li><li>re-curse on the literal spec</li><li>if the the specKey is a map or array, and the input is not null, but of the &quot;wrong&quot; type, skip and do not recurse</li><li>if the the specKey, is a literal value, default the literal and value into the output and do not recurse</li></ul></li><li>3 for each wildcard in the spec <ul><li>find all keys from the defaultee that match the wildcard</li><li>treat each key as a literal speckey</li></ul></li></ul><p>To force unambiguity, Defaultr throws an Exception if the input is null.</p><h2 id="remove" tabindex="-1"><a class="header-anchor" href="#remove" aria-hidden="true">#</a> remove</h2><p>remove is a kind of JOLT transform that removes content from the input JSON.</p><p>For comparison :</p><ul><li>Shiftr walks the input data and asks its spec &quot;Where should this go?&quot;</li><li>Defaultr walks the spec and asks &quot;Does this exist in the data? If not, add it.&quot;</li><li>While, Removr walks the spec and asks &quot;if this exists, remove it.&quot;</li></ul><p>Example : Given input JSON like</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;~emVersion&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;123124&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;productId&quot;</span><span class="token operator">:</span><span class="token string">&quot;31231231&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;submissionId&quot;</span><span class="token operator">:</span><span class="token string">&quot;34343&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;this&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;stays&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;configured&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;a&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;c&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;d&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>With the desired output being :</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;123124&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;this&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;stays&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;configured&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;a&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;b&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Spec：</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;~emVersion&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;productId&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;submissionId&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;configured&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;c&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/4.033ccd83.png" alt="" loading="lazy"></p><h3 id="wildcard-7" tabindex="-1"><a class="header-anchor" href="#wildcard-7" aria-hidden="true">#</a> Wildcard</h3><p>&#39;<em>&#39; Valid only on the LHS ( input JSON keys ) side of a Removr Spec,The &#39;</em>&#39; wildcard can be used by itself or to match part of a key.</p><p>&#39;*&#39; wildcard by itself :</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;ratings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;Set1&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;a&quot;</span><span class="token operator">:</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;b&quot;</span><span class="token operator">:</span> <span class="token string">&quot;b&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Set2&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;c&quot;</span><span class="token operator">:</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;b&quot;</span><span class="token operator">:</span> <span class="token string">&quot;b&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>desired output:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;ratings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;Set1&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;a&quot;</span><span class="token operator">:</span> <span class="token string">&quot;a&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Set2&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;c&quot;</span><span class="token operator">:</span> <span class="token string">&quot;c&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Spec:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
 <span class="token property">&quot;ratings&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token property">&quot;*&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token property">&quot;b&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/5.3f5c33a8.png" alt="" loading="lazy"></p><p>&#39;*&#39; wildcard as part of a key :</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;ratings_legacy&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;Set1&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;a&quot;</span><span class="token operator">:</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;b&quot;</span><span class="token operator">:</span> <span class="token string">&quot;b&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Set2&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;a&quot;</span><span class="token operator">:</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;b&quot;</span><span class="token operator">:</span> <span class="token string">&quot;b&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;ratings_new&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;Set1&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;a&quot;</span><span class="token operator">:</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;b&quot;</span><span class="token operator">:</span> <span class="token string">&quot;b&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Set2&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;a&quot;</span><span class="token operator">:</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;b&quot;</span><span class="token operator">:</span> <span class="token string">&quot;b&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Spec</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
      <span class="token property">&quot;ratings_*&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;Set1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>desired oiuput json:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;ratings_legacy&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;Set2&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;a&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;b&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;b&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ratings_new&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;Set2&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;a&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;b&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;b&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/6.37fa55aa.png" alt="" loading="lazy"></p><p>Here are two more examples of matching array indexes:</p><p>Delete one member of each element of the array: <img src="/assets/7.961340aa.png" alt="" loading="lazy"> Remove array elements with index 0: <img src="/assets/8.7e92522e.png" alt="" loading="lazy"></p><h2 id="cardinality" tabindex="-1"><a class="header-anchor" href="#cardinality" aria-hidden="true">#</a> cardinality</h2><p>The CardinalityTransform changes the cardinality of input JSON data elements.The impetus for the CardinalityTransform, was to deal with data sources that are inconsistent with respect to the cardinality of their returned data.</p><p>For example, say you know that there will be a &quot;photos&quot; element in a document. If your underlying data source is trying to be nice, it may adjust the &quot;type&quot; of the photos element, depending on how many photos there actually are.</p><h3 id="valid-cardinality-values-rhs-right-hand-side" tabindex="-1"><a class="header-anchor" href="#valid-cardinality-values-rhs-right-hand-side" aria-hidden="true">#</a> Valid Cardinality Values (RHS : right hand side)</h3><p>&#39;ONE&#39;:If the input value is a List, grab the first element in that list, and set it as the data for that element .For all other input value types, no-op.</p><p>&#39;MANY&#39;:If the input is not a List, make a list and set the first element to be the input value.If the input is &quot;null&quot;, make it be an empty list.If the input is a list, no-op</p><p>Example：</p><p>input json:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;review&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;rating&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span> <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Spec:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;review&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;rating&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;ONE&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>output:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;review&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;rating&quot;</span> <span class="token operator">:</span> <span class="token number">5</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/9.dbbcb92d.png" alt="" loading="lazy"></p><h3 id="wildcards" tabindex="-1"><a class="header-anchor" href="#wildcards" aria-hidden="true">#</a> Wildcards</h3><p>&#39;<em>&#39; Valid only on the LHS ( input JSON keys ) side of a Cardinality Spec.Unlike shiftr, the &#39;</em>&#39; wildcard can only be used by itself. It can be used achieve a for/each manner of processing input.</p><p>&#39;@&#39; Valid only on the LHS of the spec.This wildcard should be used when content nested within modified content needs to be modified as well.</p><p>Example input json:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;views&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token property">&quot;count&quot;</span> <span class="token operator">:</span> <span class="token number">1024</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token property">&quot;count&quot;</span> <span class="token operator">:</span> <span class="token number">2048</span> <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Spec</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;views&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;@&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;ONE&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;count&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;MANY&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>output:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;views&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;count&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token number">1024</span> <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="sort" tabindex="-1"><a class="header-anchor" href="#sort" aria-hidden="true">#</a> sort</h2><p>Recursively sorts all maps within a JSON object into new sorted LinkedHashMaps so that serialized representations are deterministic. Useful for debugging and making test fixtures.</p><p>Note this will make a copy of the input Map and List objects.</p><p>The sort order is standard alphabetical ascending, with a special case for &quot;~&quot; prefixed keys to be bumped to the top.</p><p><img src="/assets/10.67193be1.png" alt="" loading="lazy"></p><h2 id="modify" tabindex="-1"><a class="header-anchor" href="#modify" aria-hidden="true">#</a> modify</h2><p>modify-overwrite-beta:This variant of modifier creates the key/index is missing, and overwrites the value if present modify-default-beta:This variant of modifier only writes when the key/index is missing or the value is null modify-define-beta:This variant of modifier only writes when the key/index is missing</p><p>Modify mode contains a series of functions that are native to Java in nature. Below are the functions and their corresponding source code:</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Function</span><span class="token punctuation">&gt;</span></span> STOCK_FUNCTIONS <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>  <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">static</span> <span class="token punctuation">{</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;toLower&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Strings</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;toUpper&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Strings</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;concat&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Strings</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;join&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Strings</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;split&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Strings</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;substring&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Strings</span><span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;trim&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Strings</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;leftPad&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Strings</span><span class="token punctuation">.</span><span class="token function">leftPad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;rightPad&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Strings</span><span class="token punctuation">.</span><span class="token function">rightPad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;min&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;max&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;abs&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;avg&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">avg</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;intSum&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">intSum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;doubleSum&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">doubleSum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;longSum&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">longSum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;intSubtract&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">intSubtract</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;doubleSubtract&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">doubleSubtract</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;longSubtract&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">longSubtract</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;divide&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">divide</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;divideAndRound&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">divideAndRound</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>


        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;toInteger&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">toInteger</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;toDouble&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">toDouble</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;toLong&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">toLong</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;toBoolean&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">toBoolean</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;toString&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;size&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;squashNulls&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">squashNulls</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;recursivelySquashNulls&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">recursivelySquashNulls</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;noop&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Function</span><span class="token punctuation">.</span>noop <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;isPresent&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Function</span><span class="token punctuation">.</span>isPresent <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;notNull&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Function</span><span class="token punctuation">.</span>notNull <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;isNull&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Function</span><span class="token punctuation">.</span>isNull <span class="token punctuation">)</span><span class="token punctuation">;</span>

        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;firstElement&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Lists</span><span class="token punctuation">.</span><span class="token function">firstElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;lastElement&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Lists</span><span class="token punctuation">.</span><span class="token function">lastElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;elementAt&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Lists</span><span class="token punctuation">.</span><span class="token function">elementAt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;toList&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Lists</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;sort&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Lists</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Example input json:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;x&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;go&quot;</span>  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;small&quot;</span><span class="token operator">:</span> <span class="token string">&quot;small&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;BIG&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BIG&quot;</span><span class="token punctuation">,</span>

  <span class="token property">&quot;people&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Bob&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Smith&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;address&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;state&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Sterling&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Archer&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Spec</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;modify-default-beta&quot;</span><span class="token punctuation">,</span><span class="token comment">//值为null时写入</span>
    <span class="token property">&quot;spec&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// String join the values in the array x, with a comma and a space</span>
      <span class="token property">&quot;y&quot;</span><span class="token operator">:</span> <span class="token string">&quot;=join(&#39;,&#39;,@(1,x))&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;z&quot;</span><span class="token operator">:</span> <span class="token string">&quot;=join(&#39; &#39;,@(1,x))&quot;</span><span class="token punctuation">,</span>
      <span class="token comment">//</span>
      <span class="token comment">// make small big, and make big small</span>
      <span class="token property">&quot;small_toUpper&quot;</span><span class="token operator">:</span> <span class="token string">&quot;=toUpper(@(1,small))&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;BIG_toLower&quot;</span><span class="token operator">:</span> <span class="token string">&quot;=toLower(@(1,BIG))&quot;</span><span class="token punctuation">,</span>
      <span class="token comment">//</span>
      <span class="token comment">// Here we are dealing with an array of people objects.</span>
      <span class="token comment">// We want to build a fullName for them, and default them</span>
      <span class="token comment">// to &#39;live&#39; in Texas, only if they don&#39;t already have an address defined.</span>
      <span class="token property">&quot;people&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;*&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token comment">// build the fullName from the first and last names</span>
          <span class="token comment">//</span>
          <span class="token comment">// @(1,firstName)</span>
          <span class="token comment">//  -  is &quot;evaluated&quot; before being passed to the =concat function.</span>
          <span class="token comment">//  -  means go up two levels, and then come back down and grab</span>
          <span class="token comment">//      the value from firstName</span>
          <span class="token property">&quot;fullName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;=concat(@(1,firstName),&#39; &#39;,@(1,lastName))&quot;</span><span class="token punctuation">,</span>
          <span class="token comment">//</span>
          <span class="token comment">// Suffix of &quot;?&quot; means only match if the input actually has an &quot;address&quot;</span>
          <span class="token property">&quot;address?&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">// The transform &quot;modify-default-beta&quot; will only match if the</span>
            <span class="token comment">//  &quot;left hand side&quot; does not exist or is null</span>
            <span class="token property">&quot;state&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Texas&quot;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="extended" tabindex="-1"><a class="header-anchor" href="#extended" aria-hidden="true">#</a> Extended</h2><p>full qualified Java ClassName : Class implements the Transform or ContextualTransform interfaces, and can optionally be SpecDriven (marker interface)</p><p><a href="https://github.com/bazaarvoice/jolt/blob/master/jolt-core/src/main/java/com/bazaarvoice/jolt/Transform.java" target="_blank" rel="noopener noreferrer">Transform<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><a href="https://github.com/bazaarvoice/jolt/blob/master/jolt-core/src/main/java/com/bazaarvoice/jolt/SpecDriven.java" target="_blank" rel="noopener noreferrer">SpecDriven<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>Spec like：</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
          <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;com.bazaarvoice.tuna.CustomTransform&quot;</span><span class="token punctuation">,</span>
 
          <span class="token property">&quot;spec&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span> ... <span class="token punctuation">}</span> <span class="token comment">// optional spec to use to construct a custom {@link Transform} if it has the {@link SpecDriven} marker interface.</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">//...</span>
  <span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="chainr" tabindex="-1"><a class="header-anchor" href="#chainr" aria-hidden="true">#</a> Chainr</h2><p>Chainr is a mechanism for wiring together multiple conversion Spec like:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
          <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;[operation-name]&quot;</span><span class="token punctuation">,</span>
          <span class="token comment">// stuff that the specific transform needs go here</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">//...</span>
 <span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>operation-name may be shift、default、remove、cardinality、sort、java、modify-overwrite-beta、modify-default-beta、modify-define-beta</p><p>Example：</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token comment">// Input data for the unit test</span>
    <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;rating&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;primary&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
                <span class="token property">&quot;max&quot;</span><span class="token operator">:</span> <span class="token number">5</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;sharpness&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
                <span class="token property">&quot;max&quot;</span><span class="token operator">:</span> <span class="token number">5</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;quality&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
                <span class="token property">&quot;max&quot;</span><span class="token operator">:</span> <span class="token number">7</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">// The test uses this Chainr spec, on the input data to produce the &quot;expected&quot; JSON below</span>
    <span class="token property">&quot;spec&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token comment">// first operation is shift</span>
            <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;shift&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;spec&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;rating&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;primary&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                        <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Rating&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;max&quot;</span><span class="token operator">:</span> <span class="token string">&quot;RatingRange&quot;</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;*&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                        <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SecondaryRatings.&amp;1.Value&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;max&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SecondaryRatings.&amp;1.Range&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;$&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SecondaryRatings.&amp;.Id&quot;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token comment">// second operation is to default some values</span>
            <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;default&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;spec&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;~z&quot;</span><span class="token operator">:</span> <span class="token string">&quot;zz&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;~a&quot;</span><span class="token operator">:</span> <span class="token string">&quot;aa&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;~id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;id&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;zz&quot;</span><span class="token operator">:</span> <span class="token string">&quot;zz&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;~deleteme&quot;</span><span class="token operator">:</span> <span class="token string">&quot;deleteme&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token comment">// third operation is to remove something</span>
            <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;remove&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;spec&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;~deleteme&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token comment">// last operation is to sort the JSON</span>
            <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sort&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>

    <span class="token comment">// The expected result</span>
    <span class="token property">&quot;expected&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;~a&quot;</span><span class="token operator">:</span> <span class="token string">&quot;aa&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;~id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;id&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;~z&quot;</span><span class="token operator">:</span> <span class="token string">&quot;zz&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Rating&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
        <span class="token property">&quot;RatingRange&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
        <span class="token property">&quot;SecondaryRatings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;quality&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;Id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;quality&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;Range&quot;</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
                <span class="token property">&quot;Value&quot;</span><span class="token operator">:</span> <span class="token number">3</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;sharpness&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;Id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sharpness&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;Range&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
                <span class="token property">&quot;Value&quot;</span><span class="token operator">:</span> <span class="token number">5</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;zz&quot;</span><span class="token operator">:</span> <span class="token string">&quot;zz&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/11.9d3e863f.png" alt="" loading="lazy"></p><p>Let&#39;s take another example of a slightly more complicated practical Issue I saw on the JOLT GitHub Issue(<a href="https://github.com/bazaarvoice/jolt/issues/900">Conditional based on a input field #900</a>)</p><p>input json:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;addressBook&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;primaryAddress&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pxDdd&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;addresses&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pxDd&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;fullName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Daniel Garcia&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;street&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Berenguer&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;houseNumber&quot;</span><span class="token operator">:</span> <span class="token string">&quot;234&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;houseName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;floorNo&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;streetType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Str&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;doorNo&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;postOfficeBox&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;city&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Barcelona&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;zipCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;08812&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;state&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;province&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;addressLine1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;addressLine2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;addressLine3&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;countryCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ES&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pxDdd&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;fullName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Daniel Garcia&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;street&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Berenguer&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;houseNumber&quot;</span><span class="token operator">:</span> <span class="token string">&quot;234&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;houseName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;floorNo&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;streetType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Str&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;doorNo&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;postOfficeBox&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;city&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Barcelona&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;zipCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;08812&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;state&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;province&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;addressLine1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;addressLine2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;addressLine3&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;countryCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ES&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The ouput file should contains the address that has the same id value than the primaryAddress field value. In case there is not a primaryAddres field, the first address should be written to the output.And I assume that if more than one have the same id value than the primaryAddress field value, we only need one</p><p>The Spec scheme I have given is as follows. This Spec concatenates the three operations of default、 shift 、cardinality:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;default&quot;</span><span class="token punctuation">,</span><span class="token comment">//if primaryAddress not exist,add a primaryAddress field</span>
    <span class="token property">&quot;spec&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;addressBook&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;primaryAddress&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;shift&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;spec&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;addressBook&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;primaryAddress&quot;</span><span class="token operator">:</span> <span class="token string">&quot;addressBook.primaryAddress&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;addresses&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;*&quot;</span><span class="token operator">:</span> <span class="token string">&quot;addressBook.addresses.@(2,primaryAddress)&quot;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;shift&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;spec&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;addressBook&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;primaryAddress&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>             
            <span class="token property">&quot;@(2,addresses)&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">&quot;&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;0&quot;</span><span class="token operator">:</span> <span class="token string">&quot;address[]&quot;</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;addresses&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;*&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;*&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;&amp;2&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>  
                  <span class="token property">&quot;@2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;address[]&quot;</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cardinality&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;spec&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ONE&quot;</span>  
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>


</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>result： <img src="/assets/22.9be62825.png" alt="" loading="lazy"></p><h2 id="java-call" tabindex="-1"><a class="header-anchor" href="#java-call" aria-hidden="true">#</a> Java call</h2><p>add Maven Dependency</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.bazaarvoice.jolt<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jolt-core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>${latest.jolt.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.bazaarvoice.jolt<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>json-utils<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>${latest.jolt.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><a href="https://github.com/bazaarvoice/jolt/releases" target="_blank" rel="noopener noreferrer">Release Notes<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><ul><li><p>jolt-core :only one dependency on apache.commons for StringUtils.The goal is for the jolt-core artifact to be pure Java, so that it does not cause any dependency issues.</p></li><li><p>json-utils : Jackson wrapper and testing utilities. Used by jolt-core as a test dependency.If you are willing to pull in Jackson 2, this artifact provides nice utility methods.</p></li></ul><p>Code and Sample Data:</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>bazaarvoice<span class="token punctuation">.</span>jolt<span class="token punctuation">.</span>sample</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>bazaarvoice<span class="token punctuation">.</span>jolt<span class="token punctuation">.</span></span><span class="token class-name">Chainr</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>bazaarvoice<span class="token punctuation">.</span>jolt<span class="token punctuation">.</span></span><span class="token class-name">JsonUtils</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JoltSample</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

        <span class="token comment">// How to access the test artifacts, i.e. JSON files</span>
        <span class="token comment">//  JsonUtils.classpathToList : assumes you put the test artifacts in your class path</span>
        <span class="token comment">//  JsonUtils.filepathToList : you can use an absolute path to specify the files</span>

        <span class="token class-name">List</span> chainrSpecJSON <span class="token operator">=</span> <span class="token class-name">JsonUtils</span><span class="token punctuation">.</span><span class="token function">classpathToList</span><span class="token punctuation">(</span> <span class="token string">&quot;/json/sample/spec.json&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Chainr</span> chainr <span class="token operator">=</span> <span class="token class-name">Chainr</span><span class="token punctuation">.</span><span class="token function">fromSpec</span><span class="token punctuation">(</span> chainrSpecJSON <span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Object</span> inputJSON <span class="token operator">=</span> <span class="token class-name">JsonUtils</span><span class="token punctuation">.</span><span class="token function">classpathToObject</span><span class="token punctuation">(</span> <span class="token string">&quot;/json/sample/input.json&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Object</span> transformedOutput <span class="token operator">=</span> chainr<span class="token punctuation">.</span><span class="token function">transform</span><span class="token punctuation">(</span> inputJSON <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span> <span class="token class-name">JsonUtils</span><span class="token punctuation">.</span><span class="token function">toJsonString</span><span class="token punctuation">(</span> transformedOutput <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>input json:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;rating&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;primary&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token number">3</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;quality&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token number">3</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Spec</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;shift&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;spec&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;rating&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;primary&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Rating&quot;</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token property">&quot;*&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SecondaryRatings.&amp;1.Value&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;$&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SecondaryRatings.&amp;.Id&quot;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;default&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;spec&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;Range&quot;</span> <span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
            <span class="token property">&quot;SecondaryRatings&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;*&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;Range&quot;</span> <span class="token operator">:</span> <span class="token number">5</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>output:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;Rating&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Range&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token property">&quot;SecondaryRatings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;quality&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;Id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;quality&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Value&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Range&quot;</span><span class="token operator">:</span> <span class="token number">5</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/zhangchengk/edit/main/demo/src/JOLT/JsonJolt教程英文版.md" rel="noopener noreferrer" target="_blank" aria-label="编辑此页" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->编辑此页<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">上次编辑于: </span><span class="info">2022/5/21 17:05:16</span></div><div class="meta-item contributors"><span class="label">贡献者: </span><!--[--><!--[--><span class="contributor" title="email: zhangchengk@foxmail.com">zhangcheng</span><!--]--><!--]--></div></footer><nav class="page-nav"><a href="/JOLT/JsonJolt%E6%95%99%E7%A8%8B.html" class="nav-link prev" aria-label="Json JOLT 教程"><div class="hint"><span class="arrow left"></span>上一页</div><div class="link"><!---->Json JOLT 教程</div></a><a href="/JOLT/%E4%BD%BF%E7%94%A8jolt%E6%9B%BF%E6%8D%A2%E5%80%BC.html" class="nav-link next" aria-label="使用jolt替换值"><div class="hint">下一页<span class="arrow right"></span></div><div class="link">使用jolt替换值<!----></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">读书又笔记</div><div class="copyright">Copyright © 2022 Panda诚</div></footer><!--]--></div><!--]--><!----><!----><!--]--></div>
    <script type="module" src="/assets/app.9c037f97.js" defer></script>
  </body>
</html>
