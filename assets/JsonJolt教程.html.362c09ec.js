import{_ as o,a as e,b as l,c as i,d as c,e as u,f as r,g as d,h as k,i as v,j as m,k as q,l as b,m as g,n as y,o as h,p as f,q as j,r as S,s as _,t as x,u as N,v as w}from"./22.ab4b4c2a.js";import{_ as O}from"./plugin-vue_export-helper.21dcd24c.js";import{r as T,o as R,c as C,a as n,b as t,e as s,d as p}from"./app.cd174add.js";var I="/assets/23.e0114cdd.png";const J={},L=n("p",null,"\u8FD9\u662F\u56FD\u5185\u5916\u76EE\u524D\u7B2C\u4E00\u7BC7\u8F83\u4E3A\u8BE6\u7EC6\u7CFB\u7EDF\u7684\u8BB2\u8FF0Java JOLT\u7528\u6CD5\u53CA\u90E8\u5206\u539F\u7406\u7684\u6587\u7AE0\uFF0C\u5982\u6709\u9519\u8BEF\uFF0C\u8BF7\u53CA\u65F6\u7559\u8A00\u6307\u51FA\u3002\u5982\u6709\u8F6C\u8F7D\uFF0C\u8BF7\u6807\u660E\u51FA\u5904\u3002",-1),z=s("Jolt GitHub: "),U={href:"https://github.com/bazaarvoice/jolt",target:"_blank",rel:"noopener noreferrer"},F=s("https://github.com/bazaarvoice/jolt"),K=s("Jolt online demo: "),P={href:"https://jolt-demo.appspot.com",target:"_blank",rel:"noopener noreferrer"},A=s("https://jolt-demo.appspot.com"),H=p('<p>Jolt\u662F\u7528Java\u7F16\u5199\u7684JSON\u5230JSON\u8F6C\u6362\u5E93\uFF0C\u5176\u4E2D\u6307\u793A\u5982\u4F55\u8F6C\u6362\u7684&quot;specification&quot;\u672C\u8EAB\u5C31\u662F\u4E00\u4E2AJSON\u6587\u6863\u3002\u4EE5\u4E0B\u6587\u6863\u4E2D\uFF0C\u6211\u7EDF\u4E00\u4EE5 Spec \u4EE3\u66FF\u5982\u4F55\u8F6C\u6362\u7684&quot;specification&quot;json\u6587\u6863\u3002\u4EE5LHS(left hand side)\u4EE3\u8868Spec json\u7684keys,RHS(right hand side)\u4EE3\u8868Spec json\u7684values\u3002\u90E8\u5206\u793A\u4F8B\u90FD\u662F\u6458\u53D6\u4E8EJolt\u6E90\u4EE3\u7801\u6CE8\u91CA\u6587\u6863\u3002</p><p>\u7528\u5904:</p><ol><li>\u5C06\u4ECEElasticSearch\u3001MongoDb\u3001Cassandra\u7B49\u7B49\u53D6\u51FA\u7684\u6570\u636E\u8F6C\u6362\u540E\u8F93\u51FA\u51FA\u6765</li><li>\u4ECE\u5927\u578BJSON\u6587\u6863\u4E2D\u63D0\u53D6\u6570\u636E\u4F9B\u81EA\u5DF1\u4F7F\u7528</li></ol><h2 id="\u6982\u89C8" tabindex="-1"><a class="header-anchor" href="#\u6982\u89C8" aria-hidden="true">#</a> \u6982\u89C8</h2><p>Jolt :</p><ul><li><p>\u63D0\u4F9B\u4E00\u7EC4\u8F6C\u6362\uFF0C\u53EF\u4EE5\u5C06\u5B83\u4EEC&quot;\u94FE\u63A5(chained)&quot;\u5728\u4E00\u8D77\uFF0C\u5F62\u6210\u6574\u4E2AJSON\u5230JSON\u7684\u8F6C\u6362\u3002</p></li><li><p>\u91CD\u70B9\u662F\u8F6C\u6362JSON\u6570\u636E\u7684\u7ED3\u6784\uFF0C\u800C\u4E0D\u662F\u64CD\u4F5C\u7279\u5B9A\u7684\u503C</p><ul><li>\u5176\u601D\u60F3\u662F:\u4F7F\u7528Jolt\u6B63\u786E\u7684\u6765\u83B7\u5F97\u5927\u90E8\u5206\u7ED3\u6784\uFF0C\u7136\u540E\u7F16\u5199\u4EE3\u7801\u6765\u4FEE\u6B63\u503C</li></ul></li><li><p>\u6D88\u8D39\u548C\u751F\u4EA7json : in-memory tree of Maps, Lists, Strings, etc.</p><ul><li>\u4F7F\u7528Jackson (\u6216\u8005\u5176\u4ED6\u5DE5\u5177) \u6765\u5E8F\u5217\u5316\u548C\u53CD\u5E8F\u5217\u5316json\u6587\u672C</li></ul></li></ul><h2 id="\u5176\u4ED6\u540C\u7C7B\u5DE5\u5177" tabindex="-1"><a class="header-anchor" href="#\u5176\u4ED6\u540C\u7C7B\u5DE5\u5177" aria-hidden="true">#</a> \u5176\u4ED6\u540C\u7C7B\u5DE5\u5177</h2>',7),M={href:"https://stedolan.github.io/jq",target:"_blank",rel:"noopener noreferrer"},V=s("jq"),B=s("\u4ECEJSON\u6587\u4EF6\u4E2D\u63D0\u53D6\u6570\u636E\u7684\u547D\u4EE4\u884C\u5DE5\u5177(\u968F\u65F6\u4F7F\u7528\uFF0C\u53EF\u901A\u8FC7brew\u83B7\u5F97)"),D={href:"https://github.com/jayway/JsonPath",target:"_blank",rel:"noopener noreferrer"},E=s("JsonPath"),W=s("Java:\u4F7F\u7528\u7C7B\u4F3CXPATH\u7684\u8BED\u6CD5\u4ECEJSON\u4E2D\u63D0\u53D6\u6570\u636E\u3002"),$={href:"https://github.com/jsurfer/JsonSurfer",target:"_blank",rel:"noopener noreferrer"},G=s("JsonSurfer"),Y=s("Java:\u6D41\u5F0FJsonPath\u5904\u7406\u5668\uFF0C\u4E13\u95E8\u5904\u7406\u5927\u800C\u590D\u6742\u7684JSON\u6570\u636E\u3002"),Q=p(`<h2 id="\u6027\u80FD\u8868\u73B0" tabindex="-1"><a class="header-anchor" href="#\u6027\u80FD\u8868\u73B0" aria-hidden="true">#</a> \u6027\u80FD\u8868\u73B0</h2><p>Jolt\u7684\u4E3B\u8981\u76EE\u6807\u662F\u63D0\u4F9B\u4E00\u79CD\u53EF\u58F0\u660E\u7684\u65B9\u5F0F\u5FEB\u901F\u7684\u53BB\u8F6C\u6362json,\u4E5F\u5C31\u662F\u8BF4\uFF0C\u4E0E\u4E0A\u9762\u5217\u51FA\u7684\u540C\u7C7B\u5DE5\u5177\u9009\u9879\u76F8\u6BD4\uFF0CJolt\u5E94\u8BE5\u6709\u4E00\u4E2A\u66F4\u597D\u7684\u8FD0\u884C\u6548\u7387\u3002</p><p>\u5B9E\u9645\u8FD0\u884C\u4E2D\uFF1A</p><ol><li>\u8F6C\u6362\u53EF\u4EE5\u4F7F\u5176Spec\u521D\u59CB\u5316\u4E00\u6B21\uFF0C\u5E76\u5728\u591A\u7EBF\u7A0B\u73AF\u5883\u4E2D\u591A\u6B21\u91CD\u7528</li><li>&#39;*&#39;\u901A\u914D\u7B26\u903B\u8F91\u88AB\u91CD\u505A\uFF0C\u4EE5\u51CF\u5C11\u5728\u5E38\u89C1\u60C5\u51B5\u4E0B\u4F7F\u7528Regex\uFF0C\u8FD9\u662F\u4E00\u4E2A\u663E\u8457\u7684\u901F\u5EA6\u6539\u8FDB\u3002</li><li>\u5BF9Shiftr\u5E76\u884C\u6811\u6B65\u8FDB\u884C\u4E86\u4F18\u5316\u3002</li></ol><p>\u6709\u4E24\u70B9\u9700\u8981\u6CE8\u610F:</p><ol><li>Jolt\u4E0D\u662F\u57FA\u4E8E\u6D41\u7684\uFF0C\u6240\u4EE5\u5982\u679C\u6709\u4E00\u4E2A\u975E\u5E38\u5927\u7684Json\u6587\u6863\u8981\u8F6C\u6362\uFF0C\u5219\u9700\u8981\u6709\u8DB3\u591F\u7684\u5185\u5B58\u6765\u5BB9\u7EB3\u5B83\u3002</li><li>\u8F6C\u6362\u8FC7\u7A0B\u5C06\u521B\u5EFA\u548C\u4E22\u5F03\u5927\u91CF\u5BF9\u8C61\uFF0C\u56E0\u6B64\u5783\u573E\u6536\u96C6\u5668\u5C06\u6709\u5DE5\u4F5C\u8981\u505A\u3002</li></ol><h2 id="stock-transforms" tabindex="-1"><a class="header-anchor" href="#stock-transforms" aria-hidden="true">#</a> Stock Transforms</h2><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>shift       : \u590D\u5236\u8F93\u5165json\u5230\u8F93\u51FAjson
default     : \u4E3Ajson\u6811\u589E\u52A0\u9ED8\u8BA4\u503C
remove      : \u4ECEjson\u6811\u4E2D\u53BB\u9664\u6570\u636E
sort        : \u6309\u5B57\u6BCD\u987A\u5E8F\u6392\u5E8F\u6620\u5C04\u952E\u503C(\u4E00\u822C\u7528\u4E8E\u8C03\u8BD5\u548C\u589E\u52A0\u4EBA\u5DE5\u53EF\u8BFB\u6027)
cardinality : \u4FEE\u6B63\u8F93\u5165\u6570\u636E\u7684\u57FA\u6570\u3002urls\u5143\u7D20\u901A\u5E38\u662F\u4E00\u4E2AList\uFF0C\u4F46\u662F\u5982\u679C\u53EA\u6709\u4E00\u4E2A\uFF0C\u90A3\u4E48\u5B83\u5C31\u662F\u4E00\u4E2A\u5B57\u7B26\u4E32
modify-overwrite-beta:\u603B\u662F\u5199
modify-default-beta:\u5F53\u952E\u503C\u5BF9\u5E94\u7684\u503C\u662Fnull\u65F6\u5199\u5165
modify-define-beta:\u5F53\u952E\u503C\u4E0D\u5B58\u5728\u65F6\u5199\u5165
\u81EA\u5B9A\u4E49Java\u7C7B\u5168\u8DEF\u5F84\u540D\u79F0:\u5B9E\u73B0Transform\u6216ContextualTransform\u63A5\u53E3,\u53EF\u9009\u62E9SpecDriven\u63A5\u53E3
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6BCF\u4E2A\u8F6C\u6362\u90FD\u6709\u81EA\u5DF1\u7684DSL(\u9886\u57DF\u7279\u5B9A\u8BED\u8A00)\uFF0C\u4EE5\u4FBF\u7B80\u5316\u5176\u5DE5\u4F5C\u3002 \u76EE\u524D\uFF0C\u4E0A\u9762\u524D\u4E94\u4E2A\u8F6C\u6362\u53EA\u5F71\u54CD\u6570\u636E\u7684\u7ED3\u6784\u3002\u8981\u8FDB\u884C\u6570\u636E\u64CD\u4F5C\uFF0C\u9700\u8981\u7F16\u5199Java\u4EE3\u7801\u6216\u8005\u4F7F\u7528modify\u3002\u5982\u679C\u4F60\u7F16\u5199Java\u4EE3\u7801\u5B9E\u73B0\u4E86\u8F6C\u6362\u63A5\u53E3\uFF0C\u90A3\u4E48\u4F60\u53EF\u4EE5\u5C06\u4EE3\u7801\u63D2\u5165\u8F6C\u6362\u94FE\u4E2D\u3002 \u4F7F\u7528\u81EA\u5B9A\u4E49Java\u8F6C\u6362\u5B9E\u73B0\u6570\u636E\u64CD\u4F5C\uFF0C\u5F00\u7BB1\u5373\u7528\u7684Java\u8F6C\u6362\u5E94\u8BE5\u80FD\u591F\u5B8C\u6210\u5927\u591A\u6570\u7ED3\u6784\u8F6C\u6362</p>`,9),X=s("\u5728\u7EBF\u7684\u8C37\u6B4C\u6587\u6863PPT\u5730\u5740\uFF1A"),Z={href:"https://docs.google.com/presentation/d/1sAiuiFC4Lzz4-064sg1p8EQt2ev0o442MfEbvrpD1ls/edit?usp=sharing",target:"_blank",rel:"noopener noreferrer"},nn=s("https://docs.google.com/presentation/d/1sAiuiFC4Lzz4-064sg1p8EQt2ev0o442MfEbvrpD1ls/edit?usp=sharing"),sn=p(`<h2 id="shift" tabindex="-1"><a class="header-anchor" href="#shift" aria-hidden="true">#</a> shift</h2><p>Shiftr\u6307\u5B9A\u6765\u81EA\u8F93\u5165JSON\u7684\u6570\u636E\u5E94\u8BE5\u653E\u5728\u8F93\u51FAJSON\u4E2D\u7684\u4EC0\u4E48\u4F4D\u7F6E\uFF0C\u4E5F\u5C31\u662F\u8F93\u5165JSON\u7684\u6570\u636E\u5E94\u8BE5\u5982\u4F55\u8FDB\u884C\u79FB\u4F4D\uFF0C\u4EE5\u751F\u6210\u8F93\u51FAJSON\u6570\u636E\u3002</p><p>\u5728\u5E95\u5C42\uFF0C\u4E00\u4E2AShiftr\u547D\u4EE4\u662F\u4ECE\u8F93\u5165\u8DEF\u5F84\u5230\u8F93\u51FA\u8DEF\u5F84\u7684\u6620\u5C04\uFF0C\u7C7B\u4F3C\u4E8EUnix\u4E2D\u7684&quot;mv&quot;\u547D\u4EE4&quot;mv /var/data/mysql/data /media/backup/mysql&quot;\u3002</p><p>\u5728Shiftr\u4E2D\uFF0C\u8F93\u5165\u8DEF\u5F84\u662FJSON\u6811\u7ED3\u6784\uFF0C\u8F93\u51FA\u8DEF\u5F84\u662F\u6241\u5E73\u7684\u70B9\u6807\u8BB0\u6CD5\u8DEF\u5F84\u3002</p><p>\u4F60\u53EF\u4EE5\u4ECEJSON\u8F93\u5165\u6570\u636E\u7684\u4E00\u4E2A\u526F\u672C\u5F00\u59CB\uFF0C\u7136\u540E\u901A\u8FC7\u4E3A\u4F60\u5173\u5FC3\u7684\u6BCF\u6BB5\u6570\u636E\u63D0\u4F9B\u70B9\u8868\u793A\u6CD5\u8F93\u51FA\u8DEF\u5F84\uFF0C\u5C06\u5176\u4FEE\u6539\u4E3AShiftr Spec\u3002</p><p>\u4F8B\u5982\uFF1A\u7ED9\u5B9A\u5982\u4E0B\u8F93\u5165\u7684json</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;rating&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
       <span class="token property">&quot;quality&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
          <span class="token property">&quot;max&quot;</span><span class="token operator">:</span> <span class="token number">5</span>
       <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E00\u4E2A\u7B80\u5355\u7684Shiftr\u89C4\u8303\u53EF\u4EE5\u901A\u8FC7\u590D\u5236\u8F93\u5165\uFF0C\u5E76\u4FEE\u6539\u5B83\u6765\u4E3A\u6BCF\u6BB5\u6570\u636E\u63D0\u4F9B\u8F93\u51FA\u8DEF\u5F84:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code> <span class="token punctuation">{</span>
    <span class="token property">&quot;rating&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;quality&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SecondaryRatings.quality.Value&quot;</span><span class="token punctuation">,</span>     <span class="token comment">// copy 3 to &quot;SecondaryRatings.quality.Value&quot;</span>
          <span class="token property">&quot;max&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SecondaryRatings.quality.RatingRange&quot;</span>  <span class="token comment">// copy 5 to &quot;SecondaryRatings.quality.RatingRange&quot;</span>
      <span class="token punctuation">}</span>   
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4F1A\u5F97\u5230\u5982\u4E0B\u7684\u8F93\u51FA\uFF1A</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code>  <span class="token punctuation">{</span>
    <span class="token property">&quot;SecondaryRatings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;quality&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;Value&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
        <span class="token property">&quot;RatingRange&quot;</span><span class="token operator">:</span> <span class="token number">5</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5982\u4E0A\u6240\u793A\uFF0CShiftr Spec\u53EF\u4EE5\u5B8C\u5168\u7531\u6587\u5B57\u5B57\u7B26\u4E32\u503C\u7EC4\u6210\uFF0C\u4F46\u662F\u5B83\u7684\u5F3A\u5927\u529F\u80FD\u662F\u6765\u81EA\u901A\u914D\u7B26\u3002\u901A\u8FC7\u4F7F\u7528\u901A\u914D\u7B26\uFF0C\u4F60\u53EF\u4EE5\u505A\u5230\u4E0D\u4EC5\u77E5\u9053\u6570\u636E\u53CA\u5176\u76F4\u63A5\u952E\uFF0C\u800C\u4E14\u77E5\u9053\u5230\u8BE5\u6570\u636E\u7684\u6574\u4E2A\u8F93\u5165\u8DEF\u5F84\u3002</p><p>\u4F8B\u5982\u6709\u5982\u4E0B\u8F93\u5165json</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;rating&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;primary&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>   <span class="token comment">// want this value to goto output path &quot;Rating&quot;</span>
          <span class="token property">&quot;max&quot;</span><span class="token operator">:</span> <span class="token number">5</span>      <span class="token comment">// want this value to goto output path &quot;RatingRange&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;quality&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>      <span class="token comment">// want output path &quot;SecondaryRatings.quality.Id&quot; = &quot;quality&quot;, aka we want the value of the key to be used</span>
          <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>   <span class="token comment">// want this value to goto output path &quot;SecondaryRatings.quality.Value&quot;</span>
          <span class="token property">&quot;max&quot;</span><span class="token operator">:</span> <span class="token number">5</span>      <span class="token comment">// want this value to goto output path &quot;SecondaryRatings.quality.Range&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;sharpness&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>   <span class="token comment">// want output path &quot;SecondaryRatings.sharpness.Id&quot; = &quot;sharpness&quot;</span>
          <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>  <span class="token comment">// want this value to goto output path &quot;SecondaryRatings.sharpness.Value&quot;</span>
          <span class="token property">&quot;max&quot;</span><span class="token operator">:</span> <span class="token number">10</span>    <span class="token comment">// want this value to goto output path &quot;SecondaryRatings.sharpness.Range&quot;</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Spec:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;rating&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;primary&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Rating&quot;</span><span class="token punctuation">,</span>                       <span class="token comment">// \u8F93\u51FA -&gt; &quot;Rating&quot; : 3</span>
        <span class="token property">&quot;max&quot;</span><span class="token operator">:</span> <span class="token string">&quot;RatingRange&quot;</span>                     <span class="token comment">// \u8F93\u51FA -&gt; &quot;RatingRange&quot; : 5</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;*&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>                                       <span class="token comment">// \u5339\u914D\u7C7B\u4F3C &quot;rating.[\u9664primary\u4EE5\u5916\u7684\u8282\u70B9]&quot;</span>
        <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SecondaryRatings.&amp;1.Value&quot;</span><span class="token punctuation">,</span>    <span class="token comment">// &quot;rating.*.value&quot;\u4F4D\u7F6E\u7684\u6570\u636E\u79FB\u52A8\u5230 &quot;SecondaryRatings.*.Value&quot;</span>
                                                 <span class="token comment">// &quot;&amp;1&quot; \u8868\u793A\u53D6\u8BA1\u7B97\u5230&amp;1\u5F0F\u5B50\u65F6\u7684WalkedPathTree\u7684\u4E0A\u4E00\u5C42\u7684WalkedPath\u5E76\u53D6subKey(\u4E0B\u9762\u4F1A\u6709\u8BB2\u89E3\uFF0C \u4F8B\u5B50\u4E2D\u5BF9\u5E94\u7684\u503C\u662F&quot;quality&quot;\u6216&quot;sharpness&quot; )</span>
                                                 <span class="token comment">// \u8F93\u51FA -&gt; &quot;SecondaryRatings.quality.Value&quot; : 3 </span>
                                                 <span class="token comment">//         &quot;SecondaryRatings.sharpness.Value&quot; : 7</span>

        <span class="token property">&quot;max&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SecondaryRatings.&amp;1.Range&quot;</span><span class="token punctuation">,</span>      <span class="token comment">// &quot;rating.*.max&quot;\u4F4D\u7F6E\u7684\u6570\u636E\u79FB\u52A8\u5230 &quot;SecondaryRatings.*.Range&quot;</span>
                                                 <span class="token comment">// \u8F93\u51FA -&gt; &quot;SecondaryRatings.quality.Range&quot; : 5 </span>
                                                 <span class="token comment">//         &quot;SecondaryRatings.sharpness.Range&quot; : 10</span>

        <span class="token property">&quot;$&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SecondaryRatings.&amp;1.Id&quot;</span>            <span class="token comment">// $  \u8868\u793A\u4F7F\u7528\u8F93\u5165\u952E\u672C\u8EAB\u7684\u503C\u4F5C\u4E3A\u6570\u636E</span>
                                                 <span class="token comment">// \u8F93\u51FA -&gt; &quot;SecondaryRatings.quality.Id&quot; : &quot;quality&quot;</span>
                                                 <span class="token comment">// \u8F93\u51FA -&gt; &quot;SecondaryRatings.sharpness.Id&quot; : &quot;sharpness&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5F97\u5230\u4EE5\u4E0B\u8F93\u51FA\uFF1A</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;Rating&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
  <span class="token property">&quot;RatingRange&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
  <span class="token property">&quot;SecondaryRatings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
     <span class="token property">&quot;quality&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;Range&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Value&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;quality&quot;</span>     <span class="token comment">// the special $ operator allows us to use input key the text value of &quot;quality&quot;, as the &quot;Id&quot; of the output</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token property">&quot;sharpness&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;Range&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Value&quot;</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sharpness&quot;</span>   <span class="token comment">// the special $ operator allows us to use input key the text value of &quot;sharpness&quot;, as the &quot;Id&quot; of the output</span>
     <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="shiftr-walkedpathtree" tabindex="-1"><a class="header-anchor" href="#shiftr-walkedpathtree" aria-hidden="true">#</a> Shiftr WalkedPathTree</h3><p>\u9996\u5148\uFF0C\u8FD9\u90E8\u5206\u5728\u5B98\u65B9\u6587\u6863\u3001\u56FD\u5185\u5916\u5B66\u4E60\u8D44\u6599\u90FD\u662F\u6CA1\u6709\u7684\uFF0C\u662F\u672C\u4EBA\u5728\u770B\u4E86\u90E8\u5206\u6E90\u7801\u548C\u5B9E\u8DF5\u540E\u603B\u7ED3\u800C\u6765\uFF0C\u53EF\u80FD\u4F1A\u6709\u4E9B\u9519\u8BEF\uFF0C\u5982\u679C\u6709\u4EBA\u770B\u51FA\uFF0C\u8BF7\u4E00\u5B9A\u7559\u8A00\u6307\u6B63\uFF01</p><p><strong>\u7406\u8BBA</strong>\uFF1A</p><p>Jolt\u5728shiftr\u4E2D\uFF0C\u4F9D\u636ESpec\u5904\u7406input\u7684\u65F6\u5019\uFF0C\u4F1A\u65F6\u523B\u4FDD\u6301\u4E00\u9897\u52A8\u6001\u7684 WalkedPath\uFF0C\u603B\u4F53\u6765\u8BB2\u662F\u4E00\u4E2A\u94FE\u8868\u3002\u5F53\u505A\u65B0\u7684\u5339\u914D\u8BA1\u7B97\u64CD\u4F5C\uFF0C\u5C31\u4F1A\u628A\u5F53\u524D\u4FE1\u606F(\u5176\u4E2D\u6709\u4E00\u9897refTree\uFF0CrefTree\u662Finput json\u7684\u4E00\u4E2A\u5F15\u7528\uFF0C\u8FD8\u6709\u4E00\u4E2AsubKey,\u662F\u5339\u914D\u5230\u7684\u952E\u503C)\u4FDD\u5B58\u5230WalkedPath\u4E2D\u3002\u5F53\u5230Spec\u6811\u4E2D\u7684\u6811\u53F6\u8282\u70B9\u65F6\u8BA1\u7B97\u5B8C\u6210\u65F6,\u4E5F\u5C31\u662FSpec\u6811\u67D0\u4E00\u6811\u679D\u4E0B\u7684\u6700\u540E\u4E00\u4E2A\u8BA1\u7B97\u64CD\u4F5C\u5B8C\u6210\u65F6(\u5B8C\u6210\u5305\u62EC\u5339\u914D\u8BA1\u7B97\u548C\u8F93\u51FA\u8BA1\u7B97)\uFF0C\u4F1A\u4ECEWalkedPath\u4E2D\u5220\u9664\u6389\u4E4B\u524D\u5B58\u50A8\u7684\u5F53\u524D\u4FE1\u606F\u3002WalkedPath\u867D\u7136\u5916\u5C42\u662F\u4E00\u4E2A\u94FE\u8868\uFF0C\u4F46\u662F\u56E0\u4E3A\u901A\u914D\u7B26,\u540C\u4E00\u7EA7\u591A\u4E2A\u5339\u914D\u7B49\u7B49\u7684\u4F5C\u7528(\u4EE3\u7801\u91CC\u6709\u9012\u5F52)\uFF0C\u753B\u51FA\u5B8C\u6574\u7684WalkedPath\u7684\u8F68\u8FF9\u56FE\u5C31\u6210\u4E86\u4E00\u9897\u6811\u3002</p><p>\u6BD4\u5982\u8BF4\u6211\u4EEC\u5728\u4E0A\u9762\u7684\u4F8B\u5B50\u91CC\u770B\u5230\u4E86\u4E00\u4E2A&amp;1\uFF0C&amp;\u662F\u53D6\u76F8\u5E94\u8282\u70B9\u7684\u952E\u503C\u7684\u610F\u601D\uFF0C\u4F1A\u5728\u4E0B\u9762\u6709\u8BE6\u7EC6\u8BF4\u660E\u3002\u4F9D\u636E\u4E0A\u9762\u7684\u793A\u4F8B\uFF0C\u6211\u4EEC\u753B\u4E00\u4E0B\u5F53\u7B2C\u4E00\u6B21\u8BA1\u7B97\u5230&amp;1\u65F6\u7684WalkedPathTree <img src="`+o+'" alt="" loading="lazy"> \u4E0B\u9762\u662F\u7A0B\u5E8Fdebug\u5230\u7B2C\u4E00\u6B21\u8BA1\u7B97\u5230&amp;1\u7684\u65F6\u5019\u7684\u622A\u56FE\uFF1A <img src="'+e+'" alt="" loading="lazy"> \u8FDB\u4E00\u6B65\u83B7\u53D6&amp;1\u7ED3\u679C\u7684\u622A\u56FE\uFF1A <img src="'+l+`" alt="" loading="lazy"></p><h3 id="shiftr-\u901A\u914D\u7B26" tabindex="-1"><a class="header-anchor" href="#shiftr-\u901A\u914D\u7B26" aria-hidden="true">#</a> Shiftr \u901A\u914D\u7B26</h3><h4 id="\u901A\u914D\u7B26" tabindex="-1"><a class="header-anchor" href="#\u901A\u914D\u7B26" aria-hidden="true">#</a> &#39;*&#39;\u901A\u914D\u7B26</h4><ol><li>\u53EA\u5141\u8BB8\u5728LHS\u4F7F\u7528</li><li>\u901A\u914D\u7B26 * \u53EF\u4EE5\u5339\u914D\u6574\u4E2Akey\u5B57\u7B26\u4E32\uFF0C\u4E5F\u53EF\u4EE5\u7528\u4E8E\u5339\u914Dkey\u5B57\u7B26\u4E32\u7684\u4E00\u90E8\u5206\u3002</li></ol><p>\u5339\u914D\u6574\u4E2Akey\u5B57\u7B26\u4E32\uFF1A</p><p>\u8F93\u5165\uFF1A</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;rating&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;quality&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      <span class="token property">&quot;max&quot;</span><span class="token operator">:</span> <span class="token number">5</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sharpness&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;value&quot;</span> <span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
      <span class="token property">&quot;max&quot;</span> <span class="token operator">:</span> <span class="token number">10</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728\u8FD9\u4E2A\u4F8B\u5B50\u4E2D, &quot;rating.quality&quot;\u548C&quot;rating.sharpness&quot; \u90FD\u6709\u76F8\u540C\u7684\u7ED3\u6784,\u8FD9\u6837\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528\u901A\u914D\u7B26 * \u6765\u5339\u914D&quot;quality&quot;\u548C&quot;sharpness&quot;\uFF0C\u907F\u514D\u4E3A&quot;quality&quot;\u548C&quot;sharpness&quot;\u7F16\u5199\u975E\u5E38\u76F8\u4F3C\u7684\u89C4\u5219\u3002 Spec:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;shift&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;spec&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;rating&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;*&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;max&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Rating.[#2].amx&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Rating.[#2].value&quot;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+i+`" alt="" loading="lazy"></p><p>\u7528\u4E8E\u5339\u914Dkey\u7684\u4E00\u90E8\u5206\uFF1A</p><p>\u8F93\u5165\uFF1A</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;tag-Pro&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Awesome&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;tag-Con&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Bogus&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u53EF\u4EE5\u4F7F\u7528&#39;tag-*&#39;\u6765\u5339\u914D&quot;tag-Pro&quot;\u548C&quot;tag-Con&quot; Spec:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;shift&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;spec&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;tag-*&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&amp;(0,1)&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7ED3\u679C: <img src="`+c+`" alt="" loading="lazy"></p><h4 id="\u901A\u914D\u7B26-1" tabindex="-1"><a class="header-anchor" href="#\u901A\u914D\u7B26-1" aria-hidden="true">#</a> &#39;&amp;&#39;\u901A\u914D\u7B26</h4><ol><li>\u5728LHS\u548CRHS\u90FD\u80FD\u4F7F\u7528\uFF0C\u610F\u4E49\u4E3A\u53D6WalkedPath\u4E2D\u7684subKey\u7684\u503C\u6765\u4F7F\u7528</li><li>\u5728Spec\u6807\u51C6\u683C\u5F0F\u5176\u5B9E\u662F &amp;(0,0),\u6709\u4E24\u4E2A\u53C2\u6570\uFF0C\u7B2C\u4E00\u4E2A\u53C2\u6570\u662F\u6307\u660E\u5728\u5F53\u524DWalkedPath\u5411\u4E0A\u51E0\u4E2Alevel\uFF0C\u7B2C\u4E8C\u4E2A\u53C2\u6570\u662F\u6307\u660E\u4F7F\u7528\u7B2C\u51E0\u4E2AsubKey\u3002&amp; = &amp;0 = &amp;(0) = &amp;(0,0) ,\u7B2C\u4E8C\u4E2A\u53C2\u6570\u662F\u4E0E*\u901A\u914D\u7B26\u4E00\u8D77\u4F7F\u7528\u7684\u3002</li></ol><p>\u4F8B\u5982\uFF0C\u8F93\u5165json:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;test2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;value2&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Spec:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;shift&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;spec&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;&amp;&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ratingNames&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>&amp;\u8BA1\u7B97\u53D6\u5230\u7684\u503C\u662Ftest\uFF0C\u518D\u53BB\u5339\u914Dtest \u7ED3\u679C\uFF1A <img src="`+u+`" alt="" loading="lazy"></p><p>&amp;\u5728\u8F93\u5165\u8DEF\u5F84\u5BFB\u627E\u503C\uFF1A</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;foo&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;bar&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;baz&quot;</span><span class="token operator">:</span>  <span class="token comment">// &amp;0 = baz, &amp;1 = bar, &amp;2 = foo</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u9700\u8981\u6307\u660E\u4F7F\u7528\u7B2C\u51E0\u4E2A\u5339\u914D\u503C\uFF0C\u6BD4\u5982\u8BF4&quot;tag-*-*&quot;\u5339\u914D\u5230&quot;tag-Foo-Bar&quot;\uFF0C\u90A3\u4E48:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code> &amp;(0,0) = &quot;tag-Foo-Bar&quot;
 &amp;(0,1) = &quot;Foo&quot;
 &amp;(0,2) = &quot;Bar&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u901A\u914D\u7B26-2" tabindex="-1"><a class="header-anchor" href="#\u901A\u914D\u7B26-2" aria-hidden="true">#</a> &#39;$&#39;\u901A\u914D\u7B26</h4><ol><li>\u53EA\u5728LHS\u4F7F\u7528</li><li>\u8FD9\u4E2A\u901A\u914D\u7B26\u7684\u5B58\u5728\u53CD\u6620\u4E86\u4E00\u4E2A\u4E8B\u5B9E\uFF0C\u5373\u8F93\u51FAJSON\u7684value\u65E2\u53EF\u4EE5\u662F\u8F93\u5165JSON\u7684value\uFF0C\u4E5F\u53EF\u4EE5\u662F\u8F93\u5165JSON\u7684key</li><li>Shiftr\u7684\u57FA\u672C\u64CD\u4F5C\u662F\u590D\u5236\u8F93\u5165JSON\u7684value\uFF0C\u56E0\u6B64\u6211\u4EEC\u9700\u8981\u4E00\u79CD\u65B9\u6CD5\u6765\u6307\u5B9A\u6211\u4EEC\u60F3\u8981\u590D\u5236\u8F93\u5165JSON\u7684key\u3002\u56E0\u6B64\uFF0C&#39;$&#39;\u6307\u5B9A\u6211\u4EEC\u5E0C\u671B\u4F7F\u7528\u8F93\u5165\u952E\u6216\u8F93\u5165\u952E\u6D3E\u751F\u7684\u503C\u4F5C\u4E3A\u8981\u653E\u5728\u8F93\u51FAJSON\u4E2D\u7684\u6570\u636E\u3002</li></ol><p>\u6709\u4E24\u4E2A\u4F7F\u7528\u573A\u666F\uFF1A</p>`,52),an=s('\u5F53\u8F93\u5165JSON\u4E2D\u7684key\u9700\u8981\u662F\u8F93\u51FAJSON\u4E2D\u7684id(\u67D0\u4E2A\u4F4D\u7F6E)\u503C\u65F6\uFF0C\u8BF7\u67E5\u770B\u4E0A\u9762\u7684\u4F8B\u5B50"$":"SecondaryRatings.&'),tn={href:"http://1.Id",target:"_blank",rel:"noopener noreferrer"},pn=s("1.Id"),on=s('"\u3002'),en=n("li",null,"\u9700\u8981\u5217\u51FA\u6240\u6709\u8F93\u5165\u952E\u3002",-1),ln=p(`<p>\u6BD4\u5982\u6709\u5982\u4E0B\u8F93\u5165json</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;rating&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;primary&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      <span class="token property">&quot;max&quot;</span><span class="token operator">:</span> <span class="token number">5</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;quality&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      <span class="token property">&quot;max&quot;</span><span class="token operator">:</span> <span class="token number">7</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6211\u4EEC\u671F\u671B\u7684\u8F93\u51FA\u7ED3\u679C\uFF1A</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;ratings&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">&quot;primary&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;quality&quot;</span> <span class="token punctuation">]</span>    <span class="token comment">// Aside: this is an example of implicit JSON array creation in the output which is detailed further down.</span>
                                          <span class="token comment">// For now just observe that the input keys &quot;primary&quot; and &quot;quality&quot; have both made it to the output.</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u90A3\u4E48\u76F8\u5E94\u7684Spec\uFF1A</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;rating&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;*&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>               <span class="token comment">// match all keys below &quot;rating&quot;</span>
      <span class="token property">&quot;$&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ratings&quot;</span>     <span class="token comment">// output each of the &quot;keys&quot; to &quot;ratings&quot; in the output</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u901A\u914D\u7B26-3" tabindex="-1"><a class="header-anchor" href="#\u901A\u914D\u7B26-3" aria-hidden="true">#</a> &#39;#&#39;\u901A\u914D\u7B26</h4><ol><li>\u5728LHS RHS\u90FD\u53EF\u4EE5\u4F7F\u7528\uFF0C\u4F46\u662F\u610F\u4E49\u4E0D\u540C</li><li>\u5728RHS, #\u53F7\u53EA\u5728\u6570\u7EC4\u4E2D\u6709\u6548 \u6BD4\u5982[#2]\uFF0C[#2]\u7684\u610F\u601D\u662F\uFF0C\u5411\u4E0A\u4E24\u5C42(WalkedPathTree)\u5E76\u8BE2\u95EE\u8BE5\u8282\u70B9\u6709\u591A\u5C11\u5339\u914D\uFF0C\u7136\u540E\u5C06\u5176\u7528\u4F5C\u6570\u7EC4\u4E2D\u7684\u7D22\u5F15\u3002\u8FD9\u610F\u5473\u7740\uFF0C\u5F53Shiftr\u6267\u884C\u8F93\u5165\u6570\u636E\u548CSpec\u7684\u5E76\u884C\u6811\u904D\u5386\u65F6\uFF0C\u5B83\u4F1A\u8DDF\u8E2A\u5728Spec\u6811\u7684\u6BCF\u4E2A\u7EA7\u522B\u4E0A\u5904\u7406\u4E86\u591A\u5C11\u5339\u914D\u9879\u3002\u5982\u679C\u60A8\u60F3\u5C06\u4E00\u4E2AJSON\u6620\u5C04\u8F6C\u6362\u6210\u4E00\u4E2AJSON\u6570\u7EC4\uFF0C\u800C\u4E0D\u5173\u5FC3\u6570\u7EC4\u7684\u987A\u5E8F\uFF0C\u8FD9\u662F\u975E\u5E38\u6709\u7528\u7684\u3002</li><li>\u5728LSH\u4E2D\uFF0C#\u5141\u8BB8\u60A8\u6307\u5B9A\u786C\u7F16\u7801\u5B57\u7B26\u4E32\u4F5C\u4E3A\u8F93\u51FA\u4E2D\u7684\u503C\u3002</li><li>\u5728LSH\u4E2D\uFF0C#\u662F\u6839\u8282\u70B9\uFF0C\u4E0D\u5141\u8BB8\u6709\u5B50\u8282\u70B9</li></ol><p>\u793A\u4F8BSpec,\u5982\u679Chidden\u8BE5\u503C\u4E3A\u5E03\u5C14\u771F\uFF0C\u5219\u5199\u51FA&quot;enabled&quot;\u5B57\u7B26\u4E32\u3002</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;hidden&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;true&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>                             <span class="token comment">// \u5982\u679C&quot;hidden&quot; \u503C\u662Ftrue</span>
        <span class="token property">&quot;#disabled&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;clients.clientId&quot;</span>   <span class="token comment">//\u5C06 &quot;disabled&quot; \u503C\u5199\u5230 &quot;clients.clientId&quot;,\u6807\u51C6\u683C\u5F0F\u662F #(disabled) #disabled\u4F1A\u81EA\u52A8\u8F6C\u6210#(disabled)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6309\u7167\u8FD9\u4E2A\u4F8B\u5B50\uFF0C\u5B8C\u5168\u662F\u53EF\u4EE5\u5728shiftr\u91CC\u505A\u5230\u4E3Ajson\u6DFB\u52A0\u5E38\u91CF\u3002</p><p>\u518D\u6765\u770B\u4E00\u4E2A\u4F8B\u5B50\uFF1A</p><p>\u8F93\u5165json</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;ratings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;primary&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token property">&quot;quality&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
    <span class="token property">&quot;design&quot;</span><span class="token operator">:</span> <span class="token number">5</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Spec:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;shift&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;spec&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;ratings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;*&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token comment">// </span>
          <span class="token comment">// #2 means go three levels up the tree (count from 0),</span>
          <span class="token comment">//  and ask the &quot;ratings&quot; node, how many of it&#39;s</span>
          <span class="token comment">//  children have been matched.</span>
          <span class="token comment">//</span>
          <span class="token comment">// This allows us to put the Name and the Value into</span>
          <span class="token comment">//  the same object in the Ratings array.</span>
          <span class="token property">&quot;$&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Ratings[#2].Name&quot;</span><span class="token punctuation">,</span><span class="token comment">//$\u4E0A\u6587\u5DF2\u7ECF\u8BB2\u89E3 \u4F7Fkey\u4F5C\u4E3A\u8F93\u51FAvalue</span>
          <span class="token property">&quot;@&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Ratings[#2].Value&quot;</span><span class="token comment">//@\u4E0B\u6587\u4F1A\u8BB2\u89E3 </span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8F93\u51FAjson:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;Ratings&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;Name&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;primary&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Value&quot;</span> <span class="token operator">:</span> <span class="token number">5</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;Name&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;quality&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Value&quot;</span> <span class="token operator">:</span> <span class="token number">4</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;Name&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;design&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Value&quot;</span> <span class="token operator">:</span> <span class="token number">5</span>
  <span class="token punctuation">}</span> <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Jolt demo\u6CE8\u91CA\u8BF4 &#39;#2 means go three levels up the tree (count from 0)&#39;\uFF0C\u4F46\u6211\u8BA4\u4E3A3\u5C42\u7684\u53D9\u8FF0\u662F\u6A21\u7CCA\u7684\uFF0CWalkedPath\u662F\u4E00\u4E2A\u6570\u7EC4\uFF0C\u4ECE0\u5F00\u59CB\uFF0C\u5047\u8BBE\u957F\u5EA6\u4E3A5\uFF0C\u5219\u5411\u4E0A2\u5C42\u5BF9\u5E94\u7684\u7D22\u5F15\u4E0B\u6807\u4E3A5-1-2 = 2 \u5411\u4E0A2\u5C42\u7684\u7406\u89E3\u5176\u5B9E\u662F\u6700\u597D\u7684\u3002 \u5176\u4E2D\u6E90\u7801\u5173\u952E\u90E8\u5206\u5982\u4E0B\uFF1A <img src="`+r+'" alt="" loading="lazy"> \u624B\u7ED8\u56FEwalkedPathTree\u5982\u4E0B\uFF1A <img src="'+d+`" alt="" loading="lazy"></p><h4 id="\u901A\u914D\u7B26-4" tabindex="-1"><a class="header-anchor" href="#\u901A\u914D\u7B26-4" aria-hidden="true">#</a> &#39;|&#39;\u901A\u914D\u7B26</h4><ol><li>\u53EA\u5728LHS\u751F\u6548</li></ol><p>\u6216\u7684\u610F\u601D\uFF0C\u5F88\u7B80\u5355\uFF0C\u76F4\u63A5\u770BSpec\u4F8B\u5B50\u5427\uFF1A</p><p>Spec:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;rating|Rating&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;rating-primary&quot;</span>   <span class="token comment">// match &quot;rating&quot; or &quot;Rating&quot; copy the data to &quot;rating-primary&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u901A\u914D\u7B26-5" tabindex="-1"><a class="header-anchor" href="#\u901A\u914D\u7B26-5" aria-hidden="true">#</a> &#39;@&#39;\u901A\u914D\u7B26</h4><ol><li>Spec LHS\u3001RHS\u90FD\u6709\u6548\uFF0C\u610F\u4E49\u4E00\u6837</li><li>\u5728LHS\uFF0C@\u662F\u6839\u8282\u70B9\uFF0C\u4E0D\u5141\u8BB8\u6709\u5B50\u8282\u70B9</li></ol><p>\u5982\u679C\u5E0C\u671B\u5C06\u8F93\u5165\u503C\u548C\u8F93\u5165\u952E\u90FD\u653E\u5728\u8F93\u51FAJSON\u4E2D\u7684\u67D0\u4E2A\u4F4D\u7F6E\uFF0C\u5219\u5FC5\u987B\u4F7F\u7528\u8FD9\u4E2A\u901A\u914D\u7B26\u3002</p><p>\u6BD4\u5982</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;foo&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;place.to.put.value&quot;</span><span class="token punctuation">,</span>  <span class="token comment">// leveraging the implicit operation of Shiftr which is to operate on input JSON values</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5982\u679C\u6211\u4EEC\u60F3\u8981\u5BF9\u952E\u548C\u503C\u505A\u4E00\u4E9B\u4E8B\u60C5: Spec</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;foo&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
     <span class="token property">&quot;$&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;place.to.put.key&quot;</span><span class="token punctuation">,</span>
     <span class="token property">&quot;@&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;place.to.put.value&quot;</span>    <span class="token comment">// &#39;@&#39; explicitly tell Shiftr to operate on the input JSON value of the parent key &quot;foo&quot;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u56E0\u6B64\uFF0C@\u901A\u914D\u7B26\u662F\u5C06\u6811\u4E2D\u6B64\u7EA7\u522B\u7684\u6570\u636E\u503C\u590D\u5236\u5230\u8F93\u51FA,\u6BD4\u5982\u4E0A\u9762\u4F8B\u5B50\u4E2D@\u662F\u628Afoo\u5BF9\u5E94\u7684\u503Ccopy\u5230place.to.put.value</p><p>@\u7684\u9AD8\u7EA7\u7528\u6CD5\u7684\u6807\u51C6\u683C\u5F0F\u662F&quot;@(3,title)&quot;\uFF0C\u4E0A\u6587\u4E2D\u5DF2\u7ECF\u4ECB\u7ECD\u8FC7WalkedPathTree\u8FD9\u4E2A\u6982\u5FF5\uFF0C3\u7684\u610F\u601D\u5728<strong>\u8BA1\u7B97\u5230@(3,title)\u8FD9\u4E00level\u65F6</strong>\uFF0C\u8FD4\u56DEWalkedPathTree\u5411\u4E0A3level\u5BF9\u5E94\u7684refTree\uFF0C\u7136\u540E\u5728\u8FD4\u56DE\u7684\u6570\u636E\u4E2D\u53BB\u5339\u914Dtitle\u3002</p><p>\u793A\u4F8B\uFF1A <img src="`+k+'" alt="" loading="lazy"></p><p>\u8BA1\u7B97@(2,test)\u65F6\u7684debug\u622A\u56FE\uFF1A <img src="'+v+'" alt="" loading="lazy"></p><p>\u7136\u540E\u5728\u6700\u540E\u8BA1\u7B97@(2,test2)\u7684\u65F6\u5019\uFF0CwalkedPathTree\u53C8\u589E\u52A0\u4E86\u4E00\u5C42(\u5176\u5B9E@(2,test2) @(3,test2)\u5206\u522B\u8FD4\u56DE1\u5C42\u548C0\u5C42\u7684treeRef\uFF0C\u90FD\u662Froot\u6839\u8282\u70B9\u7684\u5B50\u6811\uFF0C\u6548\u679C\u662F\u4E00\u6837\u7684\uFF0C\u5982\u4E0B\u56FE\uFF1A) <img src="'+m+'" alt="" loading="lazy"></p><p>\u5C06@(2,test2)\u6362\u6210@(3,test2)\u53D1\u73B0\u7ED3\u679C\u5176\u5B9E\u662F\u4E00\u6837\u7684\uFF1A <img src="'+q+'" alt="" loading="lazy"></p><p>\u5355\u72EC\u7684@\u7B49\u4EF7\u4E8E@0\uFF1A <img src="'+b+`" alt="" loading="lazy"> \u56E0\u4E3A@\u90FD\u662F\u540C\u4E00\u7EA7\uFF0C\u6240\u4EE5\u8BA1\u7B97\u4ED6\u4EEC\u7684\u65F6\u5019WalkedPath\u662F\u76F8\u540C\u7684</p><p>@\u901A\u914D\u7B26\u5728RHS\u7684\u793A\u4F8B\uFF1A</p><p>input json</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;author&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;Stephen Hawking&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;book&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;A Brief History of Time&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u671F\u671B\u8F93\u51FAjson</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;Stephen Hawking&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;A Brief History of Time&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Spec</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;@author&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;@book&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>@book RHS\uFF0C\u5176\u5B9E\u662F\u6BD4\u8BA1\u7B97@author\u65F6\u7684walkedPathTree\u591A\u4E00\u5C42\u7684</p><h3 id="json\u6570\u7EC4" tabindex="-1"><a class="header-anchor" href="#json\u6570\u7EC4" aria-hidden="true">#</a> json\u6570\u7EC4</h3><p>shift\u628Ajson\u6570\u7EC4\u5F53\u505AMap</p><h4 id="\u5904\u7406\u8F93\u5165\u7684json\u6570\u7EC4" tabindex="-1"><a class="header-anchor" href="#\u5904\u7406\u8F93\u5165\u7684json\u6570\u7EC4" aria-hidden="true">#</a> \u5904\u7406\u8F93\u5165\u7684json\u6570\u7EC4</h4><p>\u4F8B\u5982\u6709\u8F93\u5165json:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;Photos&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">&quot;AAA.jpg&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;BBB.jpg&quot;</span> <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Spec</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;Photos&quot;</span> <span class="token operator">:</span>
   <span class="token punctuation">{</span>
     <span class="token property">&quot;1&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;photo-&amp;-url&quot;</span>      <span class="token comment">// \u6307\u5B9A\u53EA\u5339\u914D\u6570\u7EC4\u4E0B\u6807\u4E3A1\u7684\u6570\u636E</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8F93\u51FAjson:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;photo-1-url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BBB.jpg&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u5904\u7406\u8F93\u51FA\u7684json\u6570\u7EC4" tabindex="-1"><a class="header-anchor" href="#\u5904\u7406\u8F93\u51FA\u7684json\u6570\u7EC4" aria-hidden="true">#</a> \u5904\u7406\u8F93\u51FA\u7684json\u6570\u7EC4</h4><p>[]\u7528\u4E8E\u5728json\u6570\u7EC4\u4E2D\u6307\u5B9A\u6570\u7EC4\u7D22\u5F15\uFF0C\u53EA\u5728RHS\u751F\u6548\u3002</p><p>\u6BD4\u5982\u6709\u8F93\u5165json:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;photo-1-id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;327704&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;photo-1-url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://bob.com/0001/327704/photo.jpg&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Spec:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;photo-1-id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Photos[1].Id&quot;</span><span class="token punctuation">,</span>   <span class="token comment">// Declare the &quot;Photos&quot; in the output to be an array,</span>
  <span class="token property">&quot;photo-1-url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Photos[1].Url&quot;</span>  <span class="token comment">// that the 1-th array location should have data</span>
  <span class="token comment">// same as above but more powerful</span>
  <span class="token comment">// note &#39;&amp;&#39; logic can be used inside the &#39;[ ]&#39; notation &quot;photo-*-url&quot;: &quot;Photos[&amp;(0,1)].Url&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8F93\u51FAjson:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;Photos&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token null keyword">null</span> <span class="token punctuation">,</span>                <span class="token comment">// note Photos[0] is null, because no data was pushed to it</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;Id&quot;</span><span class="token operator">:</span><span class="token string">&quot;327704&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;Url&quot;</span><span class="token operator">:</span><span class="token string">&quot;http://bob.com/0001/327704/photo.jpg&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="spec\u4E2D\u7684json\u6570\u7EC4" tabindex="-1"><a class="header-anchor" href="#spec\u4E2D\u7684json\u6570\u7EC4" aria-hidden="true">#</a> Spec\u4E2D\u7684json\u6570\u7EC4</h4><p>\u540C\u4E00\u4E2A\u8F93\u5165\u6E90\uFF0C\u53EF\u4EE5\u8F93\u51FA\u5230\u591A\u4E2A\u76EE\u6807\u8F93\u51FA\u5904\uFF0C\u53EF\u4EE5\u4F7F\u7528\u6570\u7EC4\u7684\u5F62\u5F0F\uFF0C\u5982\u4E0B</p><p>\u8F93\u5165json:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span> <span class="token property">&quot;foo&quot;</span> <span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Spec:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span> <span class="token property">&quot;foo&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">&quot;bar&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;baz&quot;</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u8F93\u51FAjson:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;bar&quot;</span> <span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
  <span class="token property">&quot;baz&quot;</span> <span class="token operator">:</span> <span class="token number">3</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u9690\u5F0F\u6570\u7EC4" tabindex="-1"><a class="header-anchor" href="#\u9690\u5F0F\u6570\u7EC4" aria-hidden="true">#</a> \u9690\u5F0F\u6570\u7EC4</h4><p>\u5982\u679CSpec\u4F7F\u5F97\u591A\u4E2A\u5339\u914D\u5199\u5230\u540C\u4E00\u4E2A\u8F93\u51FA\u4F4D\u7F6E\uFF0C\u8F93\u51FA\u53D8\u6210\u6570\u7EC4</p><p>\u6BD4\u5982\u8F93\u5165json:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;foo&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;bar&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tuna&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;marlin&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Spec:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;foo&quot;</span>  <span class="token operator">:</span> <span class="token string">&quot;baz&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tuna&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;baz&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8F93\u51FA\uFF1A</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;baz&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">&quot;bar&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;marlin&quot;</span> <span class="token punctuation">]</span>     <span class="token comment">// Note the order of this Array should not be relied upon</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u7B97\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u7B97\u6CD5" aria-hidden="true">#</a> \u7B97\u6CD5</h3><p>(\u4E2A\u4EBA\u7406\u89E3\uFF0C\u6709\u9519\u8BF7\u6307\u51FA)</p><h4 id="algorithm-high-level" tabindex="-1"><a class="header-anchor" href="#algorithm-high-level" aria-hidden="true">#</a> Algorithm High Level</h4><p>\u540C\u65F6\u5904\u7406\u8F93\u5165\u6570\u636E\u548CShiftr\u89C4\u8303\uFF0C\u5E76\u5728\u6BCF\u6B21\u5339\u914D\u65F6\u6267\u884CShiftr\u547D\u4EE4/\u6620\u5C04\u3002</p><h4 id="algorithm-low-level" tabindex="-1"><a class="header-anchor" href="#algorithm-low-level" aria-hidden="true">#</a> Algorithm Low Level</h4><p>\u6839\u636ESpec\u7684\u4E0D\u540C\u6709\u4E24\u79CD\u7B97\u6CD5\uFF0C\u7B2C\u4E00\u79CD\u662F\u65E0\u901A\u914D\u7B26\u7684\uFF0C\u7B97\u6CD5\u662F\u540C\u65F6\u5904\u7406\u8F93\u5165\u6570\u636E\u548CShiftr\u89C4\u8303\uFF0C\u5E76\u5728\u6BCF\u6B21\u5339\u914D\u65F6\u6267\u884CShiftr\u547D\u4EE4/\u6620\u5C04\u3002</p><p>\u7B2C\u4E8C\u79CD\u542B\u6709\u591A\u4E2A\u901A\u914D\u7B26,\u7B97\u6CD5\u662F\u540C\u65F6\u8D70Spec\u548C\u8F93\u5165JSon\uFF0C\u5E76\u4FDD\u6301\u4E00\u4E2A\u5339\u914D\u8F93\u5165\u8DEF\u5F84\u6570\u636E\u7ED3\u6784\u3002\u786E\u5B9A\u8F93\u5165JSON\u952E\u548CRHS\u7684\u5339\u914D\uFF0C\u6309\u7167\u4EE5\u4E0B\u987A\u5E8F\u5339\u914Dspec\u952E:</p><p>\u6CE8\u610F\uFF0C&#39;|&#39;\u952E\u7684\u987A\u5E8F\u8981\u5206\u5272\u6210\u4ED6\u4EEC\u7684\u5B50\u952E\u6765\u7B97</p><ol><li>\u5C1D\u8BD5\u5C06\u8F93\u5165\u952E\u4E0E\u5177\u4F53\u952E\u503C\u5339\u914D</li><li>\u5982\u679C\u6CA1\u6709\u627E\u5230\u5339\u914D\uFF0C\u5C1D\u8BD5\u5339\u914D&#39;&amp;&#39;\u8BA1\u7B97\u503C\u3002</li></ol><ul><li>2.1\u5982\u679C\u5B58\u5728\u4E00\u4E2A\u4EE5\u4E0A\u7684&quot;&amp;&quot;\u952E\uFF0C\u6309\u5B57\u6BCD\u987A\u5E8F\u5E94\u7528/\u5339\u914D\u5B83\u4EEC\u3002</li></ul><ol start="3"><li>\u5982\u679C\u6CA1\u6709\u627E\u5230\u5339\u914D\uFF0C\u8BD5\u7740\u7528&quot;*&quot;\u901A\u914D\u7B26\u503C\u5339\u914D</li></ol><ul><li>3.1&#39;*&#39;\u901A\u914D\u7B26\u6309\u5B57\u6BCD\u987A\u5E8F\u6392\u5E8F\u548C\u5E94\u7528/\u5339\u914D\u3002</li></ul><p>\u6CE8\u610F\uFF0C\u5982\u679C<code>@</code>\u548C<code>$</code>\u7684\u7236\u952E\u5339\u914D\uFF0C\u5219\u59CB\u7EC8\u6267\u884C<code>@</code>\u548C<code>$</code>\u952E\u7684\u5904\u7406\uFF0C\u5E76\u4E14\u4E0D\u4F1A\u963B\u6B62\u4EFB\u4F55\u5176\u4ED6\u5339\u914D\u3002</p><h2 id="default" tabindex="-1"><a class="header-anchor" href="#default" aria-hidden="true">#</a> default</h2><p>default\u5B83\u4EE5\u4E00\u79CD\u975E\u7834\u574F\u6027\u7684\u65B9\u5F0F\u5E94\u7528\u9ED8\u8BA4\u503C\u3002</p><p>\u6BD4\u8F83:</p><ul><li>Shitr\u904D\u5386\u8F93\u5165\u6570\u636E\u5E76\u8BE2\u95EE\u5B83\u7684Spec&quot;\u5B83\u5E94\u8BE5\u653E\u5728\u54EA\u91CC?&quot;</li><li>Defaultr\u904D\u5BFBSpec\u5E76\u8BE2\u95EE&quot;\u6570\u636E\u4E2D\u662F\u5426\u5B58\u5728\u8FD9\u79CD\u60C5\u51B5?&quot;\u5982\u679C\u6CA1\u6709\uFF0C\u90A3\u5C31\u52A0\u4E0A\u53BB\u3002&quot;</li></ul><p>\u4F8B\u5982\uFF0C\u8F93\u5165json:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;Rating&quot;</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span>
  <span class="token property">&quot;SecondaryRatings&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
     <span class="token property">&quot;quality&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;Range&quot;</span><span class="token operator">:</span><span class="token number">7</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Value&quot;</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Id&quot;</span><span class="token operator">:</span><span class="token string">&quot;quality&quot;</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token property">&quot;sharpness&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;Value&quot;</span><span class="token operator">:</span><span class="token number">4</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Id&quot;</span><span class="token operator">:</span><span class="token string">&quot;sharpness&quot;</span>
     <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u671F\u671B\u8F93\u51FA\uFF1A</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;Rating&quot;</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span>
  <span class="token property">&quot;RatingRange&quot;</span> <span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
  <span class="token property">&quot;SecondaryRatings&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
     <span class="token property">&quot;quality&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;Range&quot;</span><span class="token operator">:</span><span class="token number">7</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Value&quot;</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Id&quot;</span><span class="token operator">:</span><span class="token string">&quot;quality&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;ValueLabel&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Label&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
        <span class="token property">&quot;MaxLabel&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Great&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;MinLabel&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Terrible&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;DisplayType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;NORMAL&quot;</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token property">&quot;sharpness&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;Range&quot;</span><span class="token operator">:</span><span class="token number">5</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Value&quot;</span><span class="token operator">:</span><span class="token number">4</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Id&quot;</span><span class="token operator">:</span><span class="token string">&quot;sharpness&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;ValueLabel&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Label&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
        <span class="token property">&quot;MaxLabel&quot;</span><span class="token operator">:</span> <span class="token string">&quot;High&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;MinLabel&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Low&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;DisplayType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;NORMAL&quot;</span>
     <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Spec</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;RatingRange&quot;</span> <span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
  <span class="token property">&quot;SecondaryRatings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;quality|value&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
       <span class="token property">&quot;ValueLabel&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
       <span class="token property">&quot;Label&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
       <span class="token property">&quot;MaxLabel&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Great&quot;</span><span class="token punctuation">,</span>
       <span class="token property">&quot;MinLabel&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Terrible&quot;</span><span class="token punctuation">,</span>
       <span class="token property">&quot;DisplayType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;NORMAL&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;*&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
       <span class="token property">&quot;Range&quot;</span> <span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
       <span class="token property">&quot;ValueLabel&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
       <span class="token property">&quot;Label&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
       <span class="token property">&quot;MaxLabel&quot;</span><span class="token operator">:</span> <span class="token string">&quot;High&quot;</span><span class="token punctuation">,</span>
       <span class="token property">&quot;MinLabel&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Low&quot;</span><span class="token punctuation">,</span>
       <span class="token property">&quot;DisplayType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;NORMAL&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+g+`" alt="" loading="lazy"></p><h3 id="\u901A\u914D\u7B26-6" tabindex="-1"><a class="header-anchor" href="#\u901A\u914D\u7B26-6" aria-hidden="true">#</a> \u901A\u914D\u7B26</h3><ol><li>&#39;*&#39; \u5C06\u8FD9\u4E9B\u9ED8\u8BA4\u503C\u5E94\u7528\u4E8E\u6B64\u7EA7\u522B\u7684\u6240\u6709\u8F93\u5165\u952E</li><li>&#39;|&#39; \u5C06\u8FD9\u4E9B\u9ED8\u8BA4\u503C\u5E94\u7528\u5230\u8F93\u5165\u952E(\u5982\u679C\u5B58\u5728\u7684\u8BDD)</li><li>&#39;[]&#39; \u8868\u540D\u8F93\u5165\u952E\u5E94\u8BE5\u662F\u4E00\u4E2A\u6570\u7EC4,\u8FD9\u610F\u5473\u7740\u8FD9\u4E2A\u6761\u76EE\u4E0B\u9762\u7684\u6240\u6709defaultr\u952E\u5FC5\u987B\u662F\u6574\u6570\u3002</li></ol><p>\u6BD4\u5982Spec:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;photos[]&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
     <span class="token property">&quot;2&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
       <span class="token property">&quot;url&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;http://www.bazaarvoice.com&quot;</span><span class="token punctuation">,</span>
       <span class="token property">&quot;caption&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
     <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7B97\u6CD5\uFF1A</p><ol><li>\u6DF1\u5EA6\u4F18\u5148\u6267\u884CSpec</li><li>\u5728Spec\u6811\u7684\u6BCF\u4E00\u5C42\uFF0CDefaultr\u4ECE\u6700\u5177\u4F53\u5230\u6700\u4E0D\u5177\u4F53\u7684Spec\u952E: <ul><li>\u4F18\u5148\u5339\u914D\u5BF9\u6BD4\u5177\u4F53\u503C</li><li>&quot;|&quot;\uFF0C\u6839\u636E\u6709\u591A\u5C11\u4E2A\u6216\u503C\u8FDB\u884C\u5B50\u6392\u5E8F\uFF0C\u7136\u540E\u6309\u5B57\u6BCD\u987A\u5E8F\u6392\u5E8F(\u7528\u4E8E\u786E\u5B9A\u6027\u884C\u4E3A)</li><li>&quot;*&quot;</li></ul></li></ol><p>\u5728Defaultr Spec\u6811\u7684\u7ED9\u5B9A\u7EA7\u522B\u4E0A\uFF0C\u53EA\u6709\u6587\u5B57\u952E\u5F3A\u5236Defaultr\u5728\u8F93\u5165\u6570\u636E\u4E2D\u521B\u5EFA\u65B0\u6761\u76EE:\u8981\u4E48\u4F5C\u4E3A\u5355\u4E2A\u6587\u5B57\u503C\uFF0C\u8981\u4E48\u6DFB\u52A0\u65B0\u7684\u5D4C\u5957\u6570\u7EC4\u6216\u6620\u5C04\u5BF9\u8C61\u3002\u901A\u914D\u7B26\u64CD\u4F5C\u7B26\u662F\u5728\u6587\u5B57\u952E\u4E4B\u540E\u5E94\u7528\u7684\uFF0C\u5982\u679C\u8FD9\u4E9B\u952E\u5728\u8F93\u5165\u6587\u6863\u4E2D\u8FD8\u6CA1\u6709\u51FA\u73B0\uFF0C\u5219\u4E0D\u4F1A\u5BFC\u81F4\u6DFB\u52A0\u8FD9\u4E9B\u952E(\u81EA\u7136\u5730\u6216\u8005\u5DF2\u7ECF\u4ECE\u6587\u5B57\u89C4\u8303\u952E\u4E2D\u9ED8\u8BA4\u6DFB\u52A0)\u3002</p><ul><li>1 \u9075\u5FAASpec</li><li>2 \u5BF9\u4E8Espec\u4E2D\u7684\u6BCF\u4E2A\u6587\u5B57\u952E(specKey) <ul><li>\u5982\u679CspecKey\u662Fmap\u6216array\uFF0C\u8F93\u5165\u4E3Anull\uFF0C\u5219\u9ED8\u8BA4\u8F93\u51FA\u4E3A\u7A7Amap\u6216array</li><li>\u9012\u5F52\u6587\u5B57\u952E</li><li>\u5982\u679CspecKey\u662F\u4E00\u4E2Amap\u6216\u6570\u7EC4\uFF0C\u800C\u8F93\u5165\u4E0D\u662Fnull\uFF0C\u800C\u662F&quot;wrong&quot;\u7C7B\u578B\uFF0C\u8DF3\u8FC7\uFF0C\u4E0D\u8981\u9012\u5F52</li><li>\u5982\u679CspecKey\u662F\u4E00\u4E2A\u6587\u5B57\u503C\uFF0C\u5219\u9ED8\u8BA4\u8F93\u51FA\u7684\u6587\u5B57\u548C\u503C\uFF0C\u4E0D\u8981\u9012\u5F52</li></ul></li><li>3 \u5BF9\u4E8ESpec\u4E2D\u7684\u6BCF\u4E2A\u901A\u914D\u7B26 <ul><li>\u4ECE\u9ED8\u8BA4\u503C\u4E2D\u627E\u5230\u6240\u6709\u5339\u914D\u901A\u914D\u7B26\u7684\u952E\u503C</li><li>\u5C06\u6BCF\u4E2A\u952E\u503C\u89C6\u4E3A\u4E00\u4E2A\u6587\u672Cspeckey</li></ul></li></ul><p>\u4E3A\u4E86\u907F\u514D\u6B67\u4E49\uFF0C\u5982\u679C\u8F93\u5165\u4E3Anull, Defaultr\u629B\u51FA\u4E00\u4E2A\u5F02\u5E38\u3002</p><h2 id="remove" tabindex="-1"><a class="header-anchor" href="#remove" aria-hidden="true">#</a> remove</h2><p>remove\u662F\u4E00\u79CD\u4ECE\u8F93\u5165JSON\u4E2D\u5220\u9664\u5185\u5BB9\u7684\u8F6C\u6362\u3002</p><p>\u5BF9\u6BD4\uFF1A</p><ul><li>Shitr\u904D\u5386\u8F93\u5165\u6570\u636E\u5E76\u8BE2\u95EE\u5B83\u7684Spec&quot;\u5B83\u5E94\u8BE5\u653E\u5728\u54EA\u91CC?&quot;</li><li>Defaultr\u904D\u5BFBSpec\u5E76\u8BE2\u95EE&quot;\u6570\u636E\u4E2D\u662F\u5426\u5B58\u5728\u8FD9\u79CD\u60C5\u51B5?&quot;\u5982\u679C\u6CA1\u6709\uFF0C\u90A3\u5C31\u52A0\u4E0A\u53BB\u3002&quot;</li><li>Removr\u904D\u5BFBSpec\u5E76\u8BE2\u95EE&quot;\u5982\u679C\u5B58\u5728\uFF0C\u5C31\u5220\u9664&quot;</li></ul><p>\u4F8B\u5982:</p><p>\u8F93\u5165json:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;~emVersion&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;123124&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;productId&quot;</span><span class="token operator">:</span><span class="token string">&quot;31231231&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;submissionId&quot;</span><span class="token operator">:</span><span class="token string">&quot;34343&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;this&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;stays&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;configured&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;a&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;c&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;d&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u671F\u671B\u8F93\u51FA\uFF1A</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;123124&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;this&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;stays&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;configured&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;a&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;b&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Spec\uFF1A</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;~emVersion&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;productId&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;submissionId&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;configured&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;c&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+y+`" alt="" loading="lazy"></p><h3 id="\u901A\u914D\u7B26-7" tabindex="-1"><a class="header-anchor" href="#\u901A\u914D\u7B26-7" aria-hidden="true">#</a> \u901A\u914D\u7B26</h3><p>&#39;*&#39; \u53EA\u5728LHS\uFF0C\u53EF\u5339\u914D\u6574\u4E2A\u952E\u503C\u6216\u8005\u952E\u503C\u7684\u4E00\u90E8\u5206</p><p>\u6BD4\u5982\u5339\u914D\u6574\u4E2A\u952E\u503C \u8F93\u5165json:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;ratings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;Set1&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;a&quot;</span><span class="token operator">:</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;b&quot;</span><span class="token operator">:</span> <span class="token string">&quot;b&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Set2&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;c&quot;</span><span class="token operator">:</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;b&quot;</span><span class="token operator">:</span> <span class="token string">&quot;b&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u671F\u671B\u8F93\u51FAjson\uFF1A</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;ratings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;Set1&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;a&quot;</span><span class="token operator">:</span> <span class="token string">&quot;a&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Set2&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;c&quot;</span><span class="token operator">:</span> <span class="token string">&quot;c&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Spec:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
 <span class="token property">&quot;ratings&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token property">&quot;*&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token property">&quot;b&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+h+`" alt="" loading="lazy"></p><p>\u6BD4\u5982\u5339\u914D\u952E\u503C\u7684\u4E00\u90E8\u5206\uFF0C\u8F93\u5165json:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;ratings_legacy&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;Set1&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;a&quot;</span><span class="token operator">:</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;b&quot;</span><span class="token operator">:</span> <span class="token string">&quot;b&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Set2&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;a&quot;</span><span class="token operator">:</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;b&quot;</span><span class="token operator">:</span> <span class="token string">&quot;b&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;ratings_new&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;Set1&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;a&quot;</span><span class="token operator">:</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;b&quot;</span><span class="token operator">:</span> <span class="token string">&quot;b&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Set2&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;a&quot;</span><span class="token operator">:</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;b&quot;</span><span class="token operator">:</span> <span class="token string">&quot;b&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Spec</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
      <span class="token property">&quot;ratings_*&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;Set1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8F93\u51FAjson:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;ratings_legacy&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;Set2&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;a&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;b&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;b&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ratings_new&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;Set2&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;a&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;b&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;b&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+f+'" alt="" loading="lazy"></p><p>\u518D\u4E3E\u4E24\u4E2A\u5339\u914D\u6570\u7EC4\u7D22\u5F15\u7684\u4F8B\u5B50\uFF1A</p><p>\u5339\u914D\u6570\u7EC4\u6BCF\u4E2A\u5143\u7D20\u5220\u9664\u5176\u4E2D\u4E00\u4E2A\u6210\u5458: <img src="'+j+'" alt="" loading="lazy"> \u5339\u914D\u5220\u9664\u7D22\u5F15\u4E3A0\u7684\u6570\u7EC4\u5143\u7D20\uFF1A <img src="'+S+`" alt="" loading="lazy"></p><h2 id="cardinality" tabindex="-1"><a class="header-anchor" href="#cardinality" aria-hidden="true">#</a> cardinality</h2><p>\u6539\u53D8\u8F93\u5165JSON\u6570\u636E\u5143\u7D20\u7684\u57FA\u6570(\u5355\u4E2A\u8FD8\u662F\u6570\u7EC4)\u3002CardinalityTransform\u7684\u76EE\u7684\u662F\u5904\u7406\u4E0E\u8FD4\u56DE\u6570\u636E\u7684\u57FA\u6570\u4E0D\u4E00\u81F4\u7684\u6570\u636E\u6E90\u3002</p><p>\u4F8B\u5982\uFF0C\u5047\u8BBE\u60A8\u77E5\u9053\u6587\u6863\u4E2D\u5C06\u6709\u4E00\u4E2A&quot;photos&quot;\u5143\u7D20\u3002\u5982\u679C\u60A8\u7684\u5E95\u5C42\u6570\u636E\u6E90\u60F3\u8981\u53D8\u5F97\u66F4\u597D\uFF0C\u90A3\u4E48\u5B83\u53EF\u80FD\u4F1A\u6839\u636E\u5B9E\u9645\u6709\u591A\u5C11\u5F20\u7167\u7247\u6765\u8C03\u6574photos\u5143\u7D20\u7684&quot;\u7C7B\u578B&quot;\u3002</p><h3 id="\u5173\u952E\u8BCD" tabindex="-1"><a class="header-anchor" href="#\u5173\u952E\u8BCD" aria-hidden="true">#</a> \u5173\u952E\u8BCD</h3><ol><li>\u53EA\u5728RHS</li></ol><p>&#39;ONE&#39;:\u5982\u679C\u8F93\u5165\u503C\u662F\u4E00\u4E2A\u5217\u8868\uFF0C\u5219\u83B7\u53D6\u8BE5\u5217\u8868\u4E2D\u7684\u7B2C\u4E00\u4E2A\u5143\u7D20\uFF0C\u5E76\u5C06\u5176\u8BBE\u7F6E\u4E3A\u8BE5\u5143\u7D20\u7684\u6570\u636E,\u4E0D\u652F\u6301\u5176\u4ED6\u7C7B\u578B</p><p>&#39;MANY&#39;:\u5982\u679C\u8F93\u5165\u4E0D\u662F\u5217\u8868\uFF0C\u5219\u521B\u5EFA\u4E00\u4E2A\u5217\u8868\u5E76\u5C06\u7B2C\u4E00\u4E2A\u5143\u7D20\u8BBE\u7F6E\u4E3A\u8F93\u5165\u503C\u3002\u5982\u679C\u8F93\u5165\u662F&quot;null&quot;\uFF0C\u4F7F\u5B83\u6210\u4E3A\u4E00\u4E2A\u7A7A\u5217\u8868\u3002\u5982\u679C\u8F93\u5165\u662F\u4E00\u4E2A\u5217\u8868\uFF0C\u4E0D\u652F\u6301\u3002</p><p>\u6BD4\u5982\uFF1A</p><p>\u8F93\u5165json:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;review&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;rating&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span> <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Spec:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;review&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;rating&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;ONE&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8F93\u51FAjson:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;review&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;rating&quot;</span> <span class="token operator">:</span> <span class="token number">5</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+_+`" alt="" loading="lazy"></p><h3 id="\u901A\u914D\u7B26-8" tabindex="-1"><a class="header-anchor" href="#\u901A\u914D\u7B26-8" aria-hidden="true">#</a> \u901A\u914D\u7B26</h3><p>&#39;*&#39; \u53EA\u5728RHS,\u53EA\u80FD\u5339\u914D\u6574\u4E2A\u952E\u503C\uFF0C\u4E0D\u80FD\u5339\u914D\u952E\u503C\u7684\u4E00\u90E8\u5206\u3002</p><p>&#39;@&#39; \u53EA\u5728RHS,\u5F53\u9700\u8981\u4FEE\u6539\u5D4C\u5957\u5728\u4FEE\u6539\u5185\u5BB9\u4E2D\u7684\u5185\u5BB9\u65F6\uFF0C\u5E94\u8BE5\u4F7F\u7528\u8FD9\u4E2A\u901A\u914D\u7B26\u3002</p><p>\u6BD4\u5982\uFF1A</p><p>\u8F93\u5165json:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;views&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token property">&quot;count&quot;</span> <span class="token operator">:</span> <span class="token number">1024</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token property">&quot;count&quot;</span> <span class="token operator">:</span> <span class="token number">2048</span> <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Spec</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;views&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;@&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;ONE&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;count&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;MANY&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8F93\u51FAjson:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;views&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;count&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token number">1024</span> <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="sort" tabindex="-1"><a class="header-anchor" href="#sort" aria-hidden="true">#</a> sort</h2><p>\u9012\u5F52\u5730\u5C06JSON\u5BF9\u8C61\u5185\u7684\u6240\u6709\u6620\u5C04\u6392\u5E8F\u4E3A\u65B0\u7684\u5DF2\u6392\u5E8F\u7684LinkedHashMaps\uFF0C\u4ECE\u800C\u4F7F\u5E8F\u5217\u5316\u7684\u8868\u793A\u5177\u6709\u786E\u5B9A\u6027\u3002\u7528\u4E8E\u8C03\u8BD5\u548C\u6D4B\u8BD5\u3002</p><p>\u6CE8\u610F\uFF0C\u8FD9\u5C06\u590D\u5236\u8F93\u5165\u6620\u5C04\u548C\u5217\u8868\u5BF9\u8C61\u3002</p><p>\u6392\u5E8F\u987A\u5E8F\u662F\u6807\u51C6\u7684\u6309\u5B57\u6BCD\u987A\u5E8F\u5347\u5E8F\u6392\u5217\uFF0C\u5E26&quot;~&quot;\u524D\u7F00\u7684\u952E\u7684\u7279\u6B8A\u60C5\u51B5\u5C06\u88AB\u79FB\u5230\u9876\u90E8\u3002</p><p><img src="`+x+`" alt="" loading="lazy"></p><h2 id="modify" tabindex="-1"><a class="header-anchor" href="#modify" aria-hidden="true">#</a> modify</h2><p>\u8FD9\u90E8\u5206\u6587\u6863\u6E90\u7801\u9879\u76EE\u4E5F\u6CA1\u6709\u6574\u7406\uFF0C\u4EE5\u4E0B\u662F\u4E2A\u4EBA\u7531\u6E90\u7801\u4EE5\u53CA\u793A\u4F8B\u6574\u7406\u800C\u51FA</p><p>overwrite modify-overwrite-beta Overwritr\uFF1A\u603B\u662F\u5199</p><p>default modify-default-beta Defaultr\uFF1A\u5F53\u952E\u503C\u5BF9\u5E94\u7684\u503C\u662Fnull\u65F6\u5199\u5165</p><p>define modify-define-beta Definr\uFF1A\u5F53\u952E\u503C\u4E0D\u5B58\u5728\u65F6\u5199\u5165</p><p>modify\u6A21\u5F0F\u5305\u542B\u4E86\u4E00\u7CFB\u5217\u51FD\u6570\uFF0C\u51FD\u6570\u5176\u672C\u8D28\u662FJava\u81EA\u5E26\u7684,\u5728Spec\u4EE5\u4E0B\u662F\u51FD\u6570\u53CA\u5176\u5BF9\u5E94\u7684\u6E90\u7801\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Function</span><span class="token punctuation">&gt;</span></span> STOCK_FUNCTIONS <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>  <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">static</span> <span class="token punctuation">{</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;toLower&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Strings</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;toUpper&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Strings</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;concat&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Strings</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;join&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Strings</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;split&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Strings</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;substring&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Strings</span><span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;trim&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Strings</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;leftPad&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Strings</span><span class="token punctuation">.</span><span class="token function">leftPad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;rightPad&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Strings</span><span class="token punctuation">.</span><span class="token function">rightPad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;min&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;max&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;abs&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;avg&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">avg</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;intSum&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">intSum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;doubleSum&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">doubleSum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;longSum&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">longSum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;intSubtract&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">intSubtract</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;doubleSubtract&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">doubleSubtract</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;longSubtract&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">longSubtract</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;divide&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">divide</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;divideAndRound&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">divideAndRound</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>


        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;toInteger&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">toInteger</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;toDouble&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">toDouble</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;toLong&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">toLong</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;toBoolean&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">toBoolean</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;toString&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;size&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;squashNulls&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">squashNulls</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;recursivelySquashNulls&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">recursivelySquashNulls</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;noop&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Function</span><span class="token punctuation">.</span>noop <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;isPresent&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Function</span><span class="token punctuation">.</span>isPresent <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;notNull&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Function</span><span class="token punctuation">.</span>notNull <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;isNull&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Function</span><span class="token punctuation">.</span>isNull <span class="token punctuation">)</span><span class="token punctuation">;</span>

        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;firstElement&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Lists</span><span class="token punctuation">.</span><span class="token function">firstElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;lastElement&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Lists</span><span class="token punctuation">.</span><span class="token function">lastElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;elementAt&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Lists</span><span class="token punctuation">.</span><span class="token function">elementAt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;toList&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Lists</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        STOCK_FUNCTIONS<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span> <span class="token string">&quot;sort&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Lists</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u793A\u4F8B1</p><p>\u8F93\u5165json:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;x&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;go&quot;</span>  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;small&quot;</span><span class="token operator">:</span> <span class="token string">&quot;small&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;BIG&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BIG&quot;</span><span class="token punctuation">,</span>

  <span class="token property">&quot;people&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Bob&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Smith&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;address&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;state&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;firstName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Sterling&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;lastName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Archer&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Spec \u4F7F\u7528\u76F8\u5E94\u51FD\u6570\u57FA\u672C\u683C\u5F0F\u662F =\u51FD\u6570\u540D(\u53C2\u65701\uFF0C\u53C2\u65702)</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;modify-default-beta&quot;</span><span class="token punctuation">,</span><span class="token comment">//\u503C\u4E3Anull\u65F6\u5199\u5165</span>
    <span class="token property">&quot;spec&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// String join the values in the array x, with a comma and a space</span>
      <span class="token property">&quot;y&quot;</span><span class="token operator">:</span> <span class="token string">&quot;=join(&#39;,&#39;,@(1,x))&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;z&quot;</span><span class="token operator">:</span> <span class="token string">&quot;=join(&#39; &#39;,@(1,x))&quot;</span><span class="token punctuation">,</span>
      <span class="token comment">//</span>
      <span class="token comment">// make small big, and make big small</span>
      <span class="token property">&quot;small_toUpper&quot;</span><span class="token operator">:</span> <span class="token string">&quot;=toUpper(@(1,small))&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;BIG_toLower&quot;</span><span class="token operator">:</span> <span class="token string">&quot;=toLower(@(1,BIG))&quot;</span><span class="token punctuation">,</span>
      <span class="token comment">//</span>
      <span class="token comment">// Here we are dealing with an array of people objects.</span>
      <span class="token comment">// We want to build a fullName for them, and default them</span>
      <span class="token comment">// to &#39;live&#39; in Texas, only if they don&#39;t already have an address defined.</span>
      <span class="token property">&quot;people&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;*&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token comment">// build the fullName from the first and last names</span>
          <span class="token comment">//</span>
          <span class="token comment">// @(1,firstName)</span>
          <span class="token comment">//  -  is &quot;evaluated&quot; before being passed to the =concat function.</span>
          <span class="token comment">//  -  means go up two levels, and then come back down and grab</span>
          <span class="token comment">//      the value from firstName</span>
          <span class="token property">&quot;fullName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;=concat(@(1,firstName),&#39; &#39;,@(1,lastName))&quot;</span><span class="token punctuation">,</span>
          <span class="token comment">//</span>
          <span class="token comment">// Suffix of &quot;?&quot; means only match if the input actually has an &quot;address&quot;</span>
          <span class="token property">&quot;address?&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">// The transform &quot;modify-default-beta&quot; will only match if the</span>
            <span class="token comment">//  &quot;left hand side&quot; does not exist or is null</span>
            <span class="token property">&quot;state&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Texas&quot;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E3E\u4E2A\u4F8B\u5B50\uFF0C\u5C06\u4E00\u4E2Ajson\u4E2Dkey\u5168\u90E8\u8F6C\u5C0F\u5199:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;shift&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;spec&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;*&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;$&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&amp;1.key&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;@&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&amp;1.value&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;modify-overwrite-beta&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;spec&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;*&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;=toLower&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;shift&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;spec&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;*&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;@(1,key)&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+I+`" alt="" loading="lazy"></p><p>\u4E3E\u4E2A\u4F8B\u5B50\uFF0C\u5C06\u4E00\u4E2Ajson\u6570\u7EC4\u4E2Dkey\u5168\u90E8\u8F6C\u5C0F\u5199:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">[</span><span class="token punctuation">{</span>
	<span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;shift&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;spec&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;*&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token property">&quot;*&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
				<span class="token property">&quot;$&quot;</span><span class="token operator">:</span> <span class="token string">&quot;[&amp;2].&amp;1.key&quot;</span><span class="token punctuation">,</span>
				<span class="token property">&quot;@&quot;</span><span class="token operator">:</span> <span class="token string">&quot;[&amp;2].&amp;1.value&quot;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
	<span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;modify-overwrite-beta&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;spec&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;*&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;*&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
			<span class="token property">&quot;key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;=toLower&quot;</span><span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
	<span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;shift&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;spec&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;*&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;*&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
			<span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;[&amp;2].@(1,key)&quot;</span><span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u6269\u5C55\u81EA\u5B9A\u4E49" tabindex="-1"><a class="header-anchor" href="#\u6269\u5C55\u81EA\u5B9A\u4E49" aria-hidden="true">#</a> \u6269\u5C55\u81EA\u5B9A\u4E49</h2><p>\u5B8C\u5168\u9650\u5B9A\u7684Java ClassName:\u7C7B\u5B9E\u73B0Transform \u6216ContextualTransform\u63A5\u53E3\uFF0C\u5E76\u4E14\u53EF\u4EE5\u9009\u62E9\u662FSpecDriven \u7684(\u6807\u8BB0\u63A5\u53E3)</p>`,191),cn={href:"https://github.com/bazaarvoice/jolt/blob/master/jolt-core/src/main/java/com/bazaarvoice/jolt/Transform.java",target:"_blank",rel:"noopener noreferrer"},un=s("Transform"),rn={href:"https://github.com/bazaarvoice/jolt/blob/master/jolt-core/src/main/java/com/bazaarvoice/jolt/SpecDriven.java",target:"_blank",rel:"noopener noreferrer"},dn=s("SpecDriven"),kn=p(`<p>Spec\u7C7B\u4F3C\u4E8E\uFF1A</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
          <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;com.bazaarvoice.tuna.CustomTransform&quot;</span><span class="token punctuation">,</span>
 
          <span class="token property">&quot;spec&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span> ... <span class="token punctuation">}</span> <span class="token comment">// optional spec to use to construct a custom {@link Transform} if it has the {@link SpecDriven} marker interface.</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">//...</span>
  <span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="chainr" tabindex="-1"><a class="header-anchor" href="#chainr" aria-hidden="true">#</a> Chainr</h2><p>Chainr\u662F\u4E00\u79CD\u673A\u5236\uFF0C\u53EF\u4EE5\u628A\u591A\u4E2A\u8F6C\u6362Spec\u8FDE\u63A5\u5728\u4E00\u8D77\uFF0C\u7C7B\u4F3C\u4E8E\uFF1A</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
          <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;[operation-name]&quot;</span><span class="token punctuation">,</span>
          <span class="token comment">// stuff that the specific transform needs go here</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">//...</span>
 <span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>operation-name \u53EF\u4EE5\u662Fshift\u3001default\u3001remove\u3001cardinality\u3001sort\u3001java\u3001modify-overwrite-beta\u3001modify-default-beta\u3001modify-define-beta \u793A\u4F8B\uFF1A</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token comment">// Input data for the unit test</span>
    <span class="token property">&quot;input&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;rating&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;primary&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
                <span class="token property">&quot;max&quot;</span><span class="token operator">:</span> <span class="token number">5</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;sharpness&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
                <span class="token property">&quot;max&quot;</span><span class="token operator">:</span> <span class="token number">5</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;quality&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
                <span class="token property">&quot;max&quot;</span><span class="token operator">:</span> <span class="token number">7</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">// The test uses this Chainr spec, on the input data to produce the &quot;expected&quot; JSON below</span>
    <span class="token property">&quot;spec&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token comment">// first operation is shift</span>
            <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;shift&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;spec&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;rating&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;primary&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                        <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Rating&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;max&quot;</span><span class="token operator">:</span> <span class="token string">&quot;RatingRange&quot;</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;*&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                        <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SecondaryRatings.&amp;1.Value&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;max&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SecondaryRatings.&amp;1.Range&quot;</span><span class="token punctuation">,</span>
                        <span class="token property">&quot;$&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SecondaryRatings.&amp;.Id&quot;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token comment">// second operation is to default some values</span>
            <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;default&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;spec&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;~z&quot;</span><span class="token operator">:</span> <span class="token string">&quot;zz&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;~a&quot;</span><span class="token operator">:</span> <span class="token string">&quot;aa&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;~id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;id&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;zz&quot;</span><span class="token operator">:</span> <span class="token string">&quot;zz&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;~deleteme&quot;</span><span class="token operator">:</span> <span class="token string">&quot;deleteme&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token comment">// third operation is to remove something</span>
            <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;remove&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;spec&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;~deleteme&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token comment">// last operation is to sort the JSON</span>
            <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sort&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>

    <span class="token comment">// The expected result</span>
    <span class="token property">&quot;expected&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;~a&quot;</span><span class="token operator">:</span> <span class="token string">&quot;aa&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;~id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;id&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;~z&quot;</span><span class="token operator">:</span> <span class="token string">&quot;zz&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Rating&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
        <span class="token property">&quot;RatingRange&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
        <span class="token property">&quot;SecondaryRatings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;quality&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;Id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;quality&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;Range&quot;</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
                <span class="token property">&quot;Value&quot;</span><span class="token operator">:</span> <span class="token number">3</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token property">&quot;sharpness&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;Id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sharpness&quot;</span><span class="token punctuation">,</span>
                <span class="token property">&quot;Range&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
                <span class="token property">&quot;Value&quot;</span><span class="token operator">:</span> <span class="token number">5</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;zz&quot;</span><span class="token operator">:</span> <span class="token string">&quot;zz&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+N+`" alt="" loading="lazy"></p><p>\u518D\u4E3E\u4E00\u4E2A\u6211\u5728JOLT GitHub Issue(<a href="https://github.com/bazaarvoice/jolt/issues/900">Conditional based on a input field #900</a>)\u4E0A\u770B\u5230\u7684\u4E00\u4E2A\u7A0D\u5FAE\u6BD4\u8F83\u590D\u6742\u70B9\u7684\u5B9E\u9645\u95EE\u9898</p><p>\u8F93\u5165json\u5982\u4E0B:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;addressBook&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;primaryAddress&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pxDdd&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;addresses&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pxDd&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;fullName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Daniel Garcia&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;street&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Berenguer&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;houseNumber&quot;</span><span class="token operator">:</span> <span class="token string">&quot;234&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;houseName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;floorNo&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;streetType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Str&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;doorNo&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;postOfficeBox&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;city&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Barcelona&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;zipCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;08812&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;state&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;province&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;addressLine1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;addressLine2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;addressLine3&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;countryCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ES&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pxDdd&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;fullName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Daniel Garcia&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;street&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Berenguer&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;houseNumber&quot;</span><span class="token operator">:</span> <span class="token string">&quot;234&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;houseName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;floorNo&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;streetType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Str&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;doorNo&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;postOfficeBox&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;city&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Barcelona&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;zipCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;08812&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;state&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;province&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;addressLine1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;addressLine2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;addressLine3&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;countryCode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ES&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u9700\u6C42\u662F\u7B5B\u9009\u51FAaddresses\u6570\u7EC4\u4E2Did\u7684\u503C\u4E0EprimaryAddress\u503C\u76F8\u7B49\u7684\u6210\u5458\uFF0C\u5982\u679CprimaryAddress\u5B57\u6BB5\u4E0D\u5B58\u5728\uFF0C\u5219\u9ED8\u8BA4\u8F93\u51FA\u6570\u636E\u4E2D\u7B2C\u4E00\u4E2A\u5143\u7D20\u3002\u5982\u679C\u6709\u591A\u4E2A\u5339\u914D\u503C\uFF0C\u5219\u8F93\u51FA\u7B2C\u4E00\u4E2A\u5339\u914D\u503C\u3002</p><p>\u6211\u7ED9\u51FA\u7684Spec\u65B9\u6848\u5982\u4E0B,\u8FD9\u4E2ASpec\u4E2D\u5C31\u4E32\u8054\u4E86default shift cardinality\u4E09\u79CD\u64CD\u4F5C:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;default&quot;</span><span class="token punctuation">,</span><span class="token comment">//\u5982\u679C\u4E0D\u5B58\u5728primaryAddress,\u5219\u589E\u52A0\u4E00\u4E2A\u503C\u4E3A\u7A7A\u7684primaryAddress</span>
    <span class="token property">&quot;spec&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;addressBook&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;primaryAddress&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;shift&quot;</span><span class="token punctuation">,</span><span class="token comment">//\u7B2C\u4E00\u6B21\u6539\u53D8json\u683C\u5F0F\uFF0C\u76EE\u7684\u662F\u80FD\u591F\u505Aid\u4E0EprimaryAddress\u503C\u5339\u914D</span>
    <span class="token property">&quot;spec&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;addressBook&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;primaryAddress&quot;</span><span class="token operator">:</span> <span class="token string">&quot;addressBook.primaryAddress&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;addresses&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;*&quot;</span><span class="token operator">:</span> <span class="token string">&quot;addressBook.addresses.@(2,primaryAddress)&quot;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;shift&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;spec&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;addressBook&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;primaryAddress&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>             <span class="token comment">// \u5982\u679CprimaryAddress\u503C\u662F&quot;&quot;\uFF0C\u8BF4\u660E\u5B57\u6BB5\u4E0D\u5B58\u5728\uFF0C\u5219\u53BBaddresses\u6570\u7EC4\u7B2C\u4E00\u4E2A\u503C\u8F93\u51FA</span>
            <span class="token property">&quot;@(2,addresses)&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">&quot;&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;0&quot;</span><span class="token operator">:</span> <span class="token string">&quot;address[]&quot;</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;addresses&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;*&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;*&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;&amp;2&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>  <span class="token comment">// \u5982\u679CprimaryAddress\u4E0Eid\u503C\u76F8\u540C,\u5219\u53D6\u5F53\u524D\u8FD9\u4E2A\u5143\u7D20\u8F93\u51FA</span>
                  <span class="token property">&quot;@2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;address[]&quot;</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cardinality&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;spec&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ONE&quot;</span>  <span class="token comment">//\u5982\u679C\u662F\u591A\u4E2A\u8F93\u51FA\uFF0C\u5219\u53D6\u7B2C\u4E00\u4E2A</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>


</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7ED3\u679C\u5982\u56FE\uFF1A <img src="`+w+`" alt="" loading="lazy"></p><h2 id="java\u8C03\u7528" tabindex="-1"><a class="header-anchor" href="#java\u8C03\u7528" aria-hidden="true">#</a> Java\u8C03\u7528</h2><p>\u6DFB\u52A0Maven Dependency</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.bazaarvoice.jolt<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jolt-core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>\${latest.jolt.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.bazaarvoice.jolt<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>json-utils<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>\${latest.jolt.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,18),vn={href:"https://github.com/bazaarvoice/jolt/releases",target:"_blank",rel:"noopener noreferrer"},mn=s("\u70B9\u51FB\u67E5\u770B\u7248\u672C\u4FE1\u606F"),qn=p(`<ul><li><p>jolt-core :only one dependency on apache.commons for StringUtils.The goal is for the jolt-core artifact to be pure Java, so that it does not cause any dependency issues.</p></li><li><p>json-utils : Jackson wrapper and testing utilities. Used by jolt-core as a test dependency.If you are willing to pull in Jackson 2, this artifact provides nice utility methods.</p></li></ul><p>\u793A\u4F8B\u4EE3\u7801:</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>bazaarvoice<span class="token punctuation">.</span>jolt<span class="token punctuation">.</span>sample</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>bazaarvoice<span class="token punctuation">.</span>jolt<span class="token punctuation">.</span></span><span class="token class-name">Chainr</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>bazaarvoice<span class="token punctuation">.</span>jolt<span class="token punctuation">.</span></span><span class="token class-name">JsonUtils</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JoltSample</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

        <span class="token comment">// How to access the test artifacts, i.e. JSON files</span>
        <span class="token comment">//  JsonUtils.classpathToList : assumes you put the test artifacts in your class path</span>
        <span class="token comment">//  JsonUtils.filepathToList : you can use an absolute path to specify the files</span>

        <span class="token class-name">List</span> chainrSpecJSON <span class="token operator">=</span> <span class="token class-name">JsonUtils</span><span class="token punctuation">.</span><span class="token function">classpathToList</span><span class="token punctuation">(</span> <span class="token string">&quot;/json/sample/spec.json&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Chainr</span> chainr <span class="token operator">=</span> <span class="token class-name">Chainr</span><span class="token punctuation">.</span><span class="token function">fromSpec</span><span class="token punctuation">(</span> chainrSpecJSON <span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Object</span> inputJSON <span class="token operator">=</span> <span class="token class-name">JsonUtils</span><span class="token punctuation">.</span><span class="token function">classpathToObject</span><span class="token punctuation">(</span> <span class="token string">&quot;/json/sample/input.json&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Object</span> transformedOutput <span class="token operator">=</span> chainr<span class="token punctuation">.</span><span class="token function">transform</span><span class="token punctuation">(</span> inputJSON <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span> <span class="token class-name">JsonUtils</span><span class="token punctuation">.</span><span class="token function">toJsonString</span><span class="token punctuation">(</span> transformedOutput <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8F93\u5165json:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;rating&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;primary&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token number">3</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;quality&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token number">3</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Spec</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;shift&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;spec&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;rating&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;primary&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Rating&quot;</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token property">&quot;*&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SecondaryRatings.&amp;1.Value&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;$&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SecondaryRatings.&amp;.Id&quot;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;default&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;spec&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;Range&quot;</span> <span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
            <span class="token property">&quot;SecondaryRatings&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;*&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;Range&quot;</span> <span class="token operator">:</span> <span class="token number">5</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8F93\u51FAjson:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;Rating&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Range&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token property">&quot;SecondaryRatings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;quality&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;Id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;quality&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Value&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
            <span class="token property">&quot;Range&quot;</span><span class="token operator">:</span> <span class="token number">5</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u4E00\u4E9B\u4F8B\u5B50" tabindex="-1"><a class="header-anchor" href="#\u4E00\u4E9B\u4F8B\u5B50" aria-hidden="true">#</a> \u4E00\u4E9B\u4F8B\u5B50</h2>`,10),bn=n("strong",null,"E1",-1),gn=s(" \u5728Github issue\u4E0A\u770B\u5230\u4E00\u4E2A"),yn={href:"https://github.com/bazaarvoice/jolt/issues/904",target:"_blank",rel:"noopener noreferrer"},hn=s("\u633A\u6709\u610F\u601D\u7684\u95EE\u9898"),fn=s("\uFF0C\u8BF4\u7684\u662F\u5D4C\u5957\u6570\u7EC4\u7684\u95EE\u9898\uFF0C\u770B\u6570\u636E\u662F\u4ECEES\u67E5\u8BE2\u51FA\u6765\u7684"),jn=p(`<p>\u8F93\u5165\u6570\u636E\u5982\u4E0B,\u662F\u4E00\u4E2A\u5D4C\u5957\u6570\u7EC4\uFF0C\u6700\u5916\u5C42root\u6570\u7EC4\uFF0C\u91CC\u5C42hits\u6570\u7EC4\uFF0C\u9700\u6C42\u662F\u60F3\u8981\u628Ahits\u6570\u7EC4\u5207\u5206\u6210\u4E00\u4E2A\u4E2A\u5143\u7D20\uFF0C\u6BD4\u5982\u793A\u4F8B\u4E2D\u6709\u4E24\u4E2Ahits\u6570\u7EC4\uFF0C\u4E00\u5171\u4E09\u4E2A\u5143\u7D20\uFF0C\u6700\u540E\u7ED3\u679C\u6570\u7EC4\u91CC\u5E94\u8BE5\u5C31\u6709\u4E09\u4E2A\u5143\u7D20\uFF0C\u8BE6\u7EC6\u8BF7\u5BF9\u7167\u671F\u671B\u8F93\u51FAjson</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;W55553&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;inner_hits&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;items&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;hits&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;hits&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
              <span class="token property">&quot;_source&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">3200</span><span class="token punctuation">,</span>
                <span class="token property">&quot;item_no&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;W55555&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;inner_hits&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;items&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;hits&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;hits&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
              <span class="token property">&quot;_source&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">3500</span><span class="token punctuation">,</span>
                <span class="token property">&quot;item_no&quot;</span><span class="token operator">:</span> <span class="token number">2</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              <span class="token property">&quot;_source&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">3200</span><span class="token punctuation">,</span>
                <span class="token property">&quot;item_no&quot;</span><span class="token operator">:</span> <span class="token number">3</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u671F\u671B\u8F93\u51FA\u5982\u4E0B:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">[</span>
	<span class="token punctuation">{</span>
		<span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;W55553&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;order&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token property">&quot;customer_order&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
				<span class="token property">&quot;sales_order&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
					<span class="token property">&quot;sales_order_items&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
						<span class="token punctuation">{</span>
							<span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">3200</span><span class="token punctuation">,</span>
							<span class="token property">&quot;item_no&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">]</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">{</span>
		<span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;W55555&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;order&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token property">&quot;customer_order&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
				<span class="token property">&quot;sales_order&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
					<span class="token property">&quot;sales_order_items&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
						<span class="token punctuation">{</span>
							<span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">3500</span><span class="token punctuation">,</span>
							<span class="token property">&quot;item_no&quot;</span><span class="token operator">:</span> <span class="token number">2</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">]</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">{</span>
		<span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;W55555&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;order&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token property">&quot;customer_order&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
				<span class="token property">&quot;sales_order&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
					<span class="token property">&quot;sales_order_items&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
						<span class="token punctuation">{</span>
							<span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">3200</span><span class="token punctuation">,</span>
							<span class="token property">&quot;item_no&quot;</span><span class="token operator">:</span> <span class="token number">3</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">]</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6211\u7ED9\u51FA\u7684\u65B9\u6848\u5982\u4E0B:</p><p>The problem of nested arrays is really funny. And I try to get around it.</p><p>First, I add a ID field for each &#39;_source&#39; element of &#39;hits&#39; array.</p><p>Then, I add every &#39;_source&#39; that JOLT found to an new array -&gt; &#39;_source:[].order......&#39;</p><p>Finally, exact the id field</p><p>\u603B\u7684\u7B56\u7565\u662F\u5316\u5D4C\u5957\u6570\u7EC4\u4E3A\u975E\u5D4C\u5957\u95EE\u9898</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;modify-define-beta&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;spec&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">//\u7B2C\u4E00\u6B65\uFF0C\u5FAA\u73AF\u5904\u7406\u6BCF\u4E2A_source,\u5E76\u4E3A_source\u6DFB\u52A0\u76F8\u5E94\u7684id\u5B57\u6BB5</span>
      <span class="token property">&quot;*&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;inner_hits&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;items&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;hits&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">&quot;hits&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;*&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                  <span class="token property">&quot;\\\\_source&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;@(7,_id)&quot;</span>
                  <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;shift&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;spec&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">//\u7B2C\u4E8C\u6B65\uFF0C\u628A\u5904\u7406\u8FC7\u7A0B\u4E2D\u9047\u5230\u7684\u6BCF\u4E00\u4E2A_source\u90FD\u8F93\u51FA\u5230\u4E00\u4E2A\u65B0\u7684\u6570\u7EC4\u4E2D</span>
      <span class="token property">&quot;*&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;inner_hits&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;items&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;hits&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">&quot;hits&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;*&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                  <span class="token property">&quot;_source&quot;</span><span class="token operator">:</span> <span class="token string">&quot;[].order.customer_order.sales_order.sales_order_items[]&quot;</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;shift&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;spec&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">//\u7B2C\u4E09\u6B65 \u63D0\u53D6ID\u5B57\u6BB5\uFF0C\u8FBE\u6210\u671F\u671Bjson\u683C\u5F0F</span>
      <span class="token property">&quot;*&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;order&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;customer_order&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;sales_order&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token property">&quot;sales_order_items&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token property">&quot;0&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                  <span class="token property">&quot;*&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token property">&quot;@&quot;</span><span class="token operator">:</span> <span class="token string">&quot;[#8].order.customer_order.sales_order.sales_order_items[0].&amp;&quot;</span>
                  <span class="token punctuation">}</span><span class="token punctuation">,</span>
                  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;[#7].id&quot;</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>E2</strong></p>`,12),Sn=s("jolt github issue\u4E0A\u5E2E\u5FD9\u89E3\u51B3\u7684\u7B2C\u4E8C\u4E2A\u95EE\u9898"),_n={href:"https://github.com/bazaarvoice/jolt/issues/906",target:"_blank",rel:"noopener noreferrer"},xn=s("Issue906"),Nn=s("\uFF0C\u8F93\u5165json\u5982\u4E0B"),wn=p(`<div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;params&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;key1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;value2&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;key4&quot;</span><span class="token operator">:</span> <span class="token string">&quot;value33&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;key_mult5&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;value_mult11&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;value_mult12&quot;</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u671F\u671B\u7684\u8F93\u51FA\u5982\u4E0B\uFF0C\u4ED6\u60F3\u628A\u8F93\u5165json\u7684params\u4E0B\u7684\u6BCF\u4E00\u4E2A\u5143\u7D20\u7684key\u548Cvalue\u90FD\u63D0\u5230\u6570\u7EC4params\u91CC\uFF0C\u4F46\u662F\uFF0C\u8F93\u5165json\u7684params\u6BCF\u4E2A\u5143\u7D20\u7684key\u6709\u53EF\u80FD\u662F\u6570\u7EC4\uFF0C\u6709\u53EF\u80FD\u4E0D\u662F\uFF0C\u8FD9\u5C31\u6709\u4E9B\u96BE\u5EA6\u4E86\u3002</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;params&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> 
       <span class="token property">&quot;key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;key1&quot;</span><span class="token punctuation">,</span>
       <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;value2&quot;</span>   
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token punctuation">{</span> 
       <span class="token property">&quot;key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;key4&quot;</span><span class="token punctuation">,</span>
       <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;value33&quot;</span>   
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span> 
       <span class="token property">&quot;key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;key_mult5&quot;</span><span class="token punctuation">,</span>
       <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;value_mult11&quot;</span>   
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span> 
       <span class="token property">&quot;key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;key_mult5&quot;</span><span class="token punctuation">,</span>
       <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;value_mult12&quot;</span>   
   <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6211\u63D0\u51FA\u7684\u89E3\u51B3\u65B9\u6848\u662F</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cardinality&quot;</span><span class="token punctuation">,</span><span class="token comment">//\u5148\u7EDF\u4E00\u683C\u5F0F\uFF0C\u628A\u6BCF\u4E00\u4E2A\u5143\u7D20\u90FD\u53D8\u6210\u6570\u7EC4</span>
    <span class="token property">&quot;spec&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;params&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;*&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MANY&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;shift&quot;</span><span class="token punctuation">,</span><span class="token comment">//\u7136\u540E\u904D\u5386\u6BCF\u4E2A\u5143\u7D20\u6570\u7EC4\u4E0B\u7684value</span>
    <span class="token property">&quot;spec&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;params&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;*&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;*&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;@&quot;</span><span class="token operator">:</span> <span class="token string">&quot;params[].&amp;2&quot;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;shift&quot;</span><span class="token punctuation">,</span><span class="token comment">//\u6700\u540E\u63D0\u53D6\u5230key value</span>
    <span class="token property">&quot;spec&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;params&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;*&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;*&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;$&quot;</span><span class="token operator">:</span> <span class="token string">&quot;params[#3].key&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;@&quot;</span><span class="token operator">:</span> <span class="token string">&quot;params[#3].value&quot;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,5);function On(Tn,Rn){const a=T("ExternalLinkIcon");return R(),C("div",null,[L,n("p",null,[z,n("a",U,[F,t(a)])]),n("p",null,[K,n("a",P,[A,t(a)])]),H,n("ul",null,[n("li",null,[n("p",null,[n("a",M,[V,t(a)]),B])]),n("li",null,[n("p",null,[n("a",D,[E,t(a)]),W])]),n("li",null,[n("p",null,[n("a",$,[G,t(a)]),Y])])]),Q,n("p",null,[X,n("a",Z,[nn,t(a)])]),sn,n("ol",null,[n("li",null,[an,n("a",tn,[pn,t(a)]),on]),en]),ln,n("p",null,[n("a",cn,[un,t(a)])]),n("p",null,[n("a",rn,[dn,t(a)])]),kn,n("p",null,[n("a",vn,[mn,t(a)])]),qn,n("p",null,[bn,gn,n("a",yn,[hn,t(a)]),fn]),jn,n("p",null,[Sn,n("a",_n,[xn,t(a)]),Nn]),wn])}var Ln=O(J,[["render",On],["__file","JsonJolt\u6559\u7A0B.html.vue"]]);export{Ln as default};
