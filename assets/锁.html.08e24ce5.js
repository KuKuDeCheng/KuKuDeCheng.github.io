import{_ as e}from"./plugin-vue_export-helper.21dcd24c.js";import{o as a,c as o,d as c}from"./app.20fe4298.js";const d={},r=c('<h2 id="\u9501\u7684\u672C\u8D28" tabindex="-1"><a class="header-anchor" href="#\u9501\u7684\u672C\u8D28" aria-hidden="true">#</a> \u9501\u7684\u672C\u8D28</h2><p>**\u6240\u8C13\u7684\u9501\uFF0C\u5728\u8BA1\u7B97\u673A\u91CC\u672C\u8D28\u4E0A\u5C31\u662F\u4E00\u5757\u5185\u5B58\u7A7A\u95F4\u3002**\u5F53\u8FD9\u4E2A\u7A7A\u95F4\u88AB\u8D4B\u503C\u4E3A1\u7684\u65F6\u5019\u8868\u793A\u52A0\u9501\u4E86\uFF0C\u88AB\u8D4B\u503C\u4E3A0\u7684\u65F6\u5019\u8868\u793A\u89E3\u9501\u4E86\uFF0C\u4EC5\u6B64\u800C\u5DF2\u3002\u591A\u4E2A\u7EBF\u7A0B\u62A2\u4E00\u4E2A\u9501\uFF0C\u5C31\u662F\u62A2\u7740\u8981\u628A\u8FD9\u5757\u5185\u5B58\u8D4B\u503C\u4E3A1\u3002\u5728\u4E00\u4E2A\u591A\u6838\u73AF\u5883\u91CC\uFF0C\u5185\u5B58\u7A7A\u95F4\u662F\u5171\u4EAB\u7684\u3002\u6BCF\u4E2A\u6838\u4E0A\u5404\u8DD1\u4E00\u4E2A\u7EBF\u7A0B\uFF0C\u90A3\u5982\u4F55\u4FDD\u8BC1\u4E00\u6B21\u53EA\u6709\u4E00\u4E2A\u7EBF\u7A0B\u6210\u529F\u62A2\u5230\u9501\u5462\uFF1F\u4F60\u6216\u8BB8\u5DF2\u7ECF\u731C\u5230\u4E86\uFF0C\u8FD9\u5FC5\u987B\u8981\u786C\u4EF6\u7684\u67D0\u79CDguarantee\u3002\u5177\u4F53\u7684\u5B9E\u73B0\u5982\u4E0B\u3002</p><h2 id="\u786C\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u786C\u4EF6" aria-hidden="true">#</a> \u786C\u4EF6</h2><p>CPU\u5982\u679C\u63D0\u4F9B\u4E00\u4E9B\u7528\u6765\u6784\u5EFA\u9501\u7684atomic\u6307\u4EE4\uFF0C\u8B6C\u5982x86\u7684CMPXCHG\uFF08\u52A0\u4E0ALOCK\u524D\u7F00\uFF09\uFF0C\u80FD\u591F\u5B8C\u6210atomic\u7684<code>compare-and-swap\uFF08CAS</code>\uFF09\uFF0C\u7528\u8FD9\u6837\u7684\u786C\u4EF6\u6307\u4EE4\u5C31\u80FD\u5B9E\u73B0<code>spin lock(\u81EA\u65CB\u9501)</code>\u3002<code>\u672C\u8D28\u4E0ALOCK\u524D\u7F00\u7684\u4F5C\u7528\u662F\u9501\u5B9A\u7CFB\u7EDF\u603B\u7EBF\uFF08\u6216\u8005\u9501\u5B9A\u67D0\u4E00\u5757cache line\uFF09\u6765\u5B9E\u73B0atomicity</code>\uFF0C\u53EF\u4EE5\u4E86\u89E3\u4E0B\u57FA\u7840\u7684\u7F13\u5B58\u4E00\u81F4\u534F\u8BAE\u8B6C\u5982MSEI\u3002\u7B80\u5355\u6765\u8BF4\u5C31\u662F\uFF0C\u5982\u679C\u6307\u4EE4\u524D\u52A0\u4E86LOCK\u524D\u7F00\uFF0C\u5C31\u662F\u544A\u8BC9\u5176\u4ED6\u6838\uFF0C\u4E00\u65E6\u6211\u5F00\u59CB\u6267\u884C\u8FD9\u4E2A\u6307\u4EE4\u4E86\uFF0C\u5728\u6211\u7ED3\u675F\u8FD9\u4E2A\u6307\u4EE4\u4E4B\u524D\uFF0C\u8C01\u4E5F\u4E0D\u8BB8\u52A8\u3002<strong>\u7F13\u5B58\u4E00\u81F4\u534F\u8BAE</strong>\u5728\u8FD9\u91CC\u9762\u626E\u6F14\u4E86\u91CD\u8981\u89D2\u8272\uFF0C\u8FD9\u91CC\u5148\u4E0D\u8D58\u8FF0\u3002\u8FD9\u6837\u4FBF\u5B9E\u73B0\u4E86\u4E00\u6B21\u53EA\u80FD\u6709\u4E00\u4E2A\u6838\u5BF9\u540C\u4E00\u4E2A\u5185\u5B58\u5730\u5740\u8D4B\u503C\u3002</p><h2 id="\u64CD\u4F5C\u7CFB\u7EDF" tabindex="-1"><a class="header-anchor" href="#\u64CD\u4F5C\u7CFB\u7EDF" aria-hidden="true">#</a> \u64CD\u4F5C\u7CFB\u7EDF</h2><p>\u4E00\u4E2A<code>spin lock</code>\u5C31\u662F\u8BA9\u6CA1\u6709\u62A2\u5230\u9501\u7684\u7EBF\u7A0B\u4E0D\u65AD\u5728while\u91CC\u9762\u5FAA\u73AF\u8FDB\u884Ccompare-and-swap\uFF0C\u71C3\u70E7CPU\uFF0C\u6D6A\u8D39\u9752\u6625\uFF0C\u76F4\u5230\u524D\u9762\u7684\u7EBF\u7A0B\u653E\u624B\uFF08\u5BF9\u5E94\u7684\u5185\u5B58\u88AB\u8D4B\u503C0\uFF09\u3002\u8FD9\u4E2A\u8FC7\u7A0B\u4E0D\u9700\u8981\u64CD\u4F5C\u7CFB\u7EDF\u7684\u4ECB\u5165\uFF0C\u8FD9\u662F\u8FD0\u884C\u7A0B\u5E8F\u548C\u786C\u4EF6\u4E4B\u95F4\u7684\u6545\u4E8B\u3002\u5982\u679C\u9700\u8981\u957F\u65F6\u95F4\u7684\u7B49\u5F85\uFF0C\u8FD9\u6837\u53CD\u590DCAS\u8F6E\u8BE2\u5C31\u6BD4\u8F83\u6D6A\u8D39\u8D44\u6E90\uFF0C\u8FD9\u4E2A\u65F6\u5019\u7A0B\u5E8F\u53EF\u4EE5\u5411\u64CD\u4F5C\u7CFB\u7EDF\u7533\u8BF7\u88AB\u6302\u8D77\uFF0C\u7136\u540E\u6301\u9501\u7684\u7EBF\u7A0B\u89E3\u9501\u4E86\u4EE5\u540E\u518D\u901A\u77E5\u5B83\u3002\u8FD9\u6837CPU\u5C31\u53EF\u4EE5\u7528\u6765\u505A\u522B\u7684\u4E8B\u60C5\uFF0C\u800C\u4E0D\u662F\u53CD\u590D\u8F6E\u8BE2\u3002\u4F46\u662F<code>OS\u5207\u6362\u7EBF\u7A0B</code>\u4E5F\u9700\u8981\u4E00\u4E9B\u5F00\u9500\uFF0C\u6240\u4EE5\u662F\u5426\u9009\u62E9\u88AB\u6302\u8D77\uFF0C\u53D6\u51B3\u4E8E\u5927\u6982\u662F\u5426\u9700\u8981\u7B49\u5F88\u957F\u65F6\u95F4\uFF0C\u5982\u679C\u9700\u8981\uFF0C\u5219\u9002\u5408\u6302\u8D77\u5207\u6362\u4E3A\u522B\u7684\u7EBF\u7A0B\u3002</p><p>\u7EBF\u7A0B\u5411\u64CD\u4F5C\u7CFB\u7EDF\u8BF7\u6C42\u88AB\u6302\u8D77\u662F\u901A\u8FC7\u4E00\u4E2A\u7CFB\u7EDF\u8C03\u7528\uFF0C\u5728linux\u4E0A\u7684\u5B9E\u73B0\u5C31\u662F<code>futex</code>\uFF0C\u5B8F\u89C2\u6765\u8BB2\uFF0COS\u9700\u8981\u4E00\u4E9B\u5168\u5C40\u7684\u6570\u636E\u7ED3\u6784\u6765<code>\u8BB0\u5F55\u4E00\u4E2A\u88AB\u6302\u8D77\u7EBF\u7A0B\u548C\u5BF9\u5E94\u7684\u9501\u7684\u6620\u5C04\u5173\u7CFB</code>\uFF0C\u8FD9\u6837\u4E00\u4E2A\u6570\u636E\u7ED3\u6784\u5929\u7136\u662F\u5168\u5C40\u7684\uFF0C\u56E0\u4E3A\u591A\u4E2AOS\u7EBF\u7A0B\u53EF\u80FD\u540C\u65F6\u64CD\u4F5C\u5B83\u3002\u6240\u4EE5\uFF0C\u5B9E\u73B0\u9AD8\u6548\u7684\u9501\u672C\u8EAB\u4E5F\u9700\u8981\u9501\u3002\u6709\u6CA1\u6709\u4E00\u73AF\u5957\u4E00\u73AF\u7684\u611F\u89C9\uFF1F<code>futex</code>\u7684\u5DE7\u5999\u4E4B\u5904\u5C31\u5728\u4E8E\uFF0C\u5B83\u77E5\u9053\u8BBF\u95EE\u8FD9\u4E2A\u5168\u5C40\u6570\u636E\u7ED3\u6784\u4E0D\u4F1A\u592A\u8017\u65F6\uFF0C\u4E8E\u662Ffutex\u91CC\u9762\u7684\u9501\u5C31\u662F<code>spin lock</code>\u3002linux\u4E0Apthread mutex\u7684\u5B9E\u73B0\u5C31\u662F\u7528\u7684futex\u3002</p><h2 id="\u7528\u6237\u6001\u7684\u9501" tabindex="-1"><a class="header-anchor" href="#\u7528\u6237\u6001\u7684\u9501" aria-hidden="true">#</a> \u7528\u6237\u6001\u7684\u9501</h2><p>\u50CFGoroutine\u7EBF\u7A0B\u5C31\u662Fgo runtime\u6765\u8C03\u5EA6\u7684\uFF0C\u800C\u4E0D\u662FOS\uFF0C\u6240\u4EE5go routine\u7EBF\u7A0B\u5207\u6362\u7684\u5F00\u9500\u8981\u8FDC\u5C0F\u4E8EOS\u7EBF\u7A0B\u5207\u6362\u7684\u5F00\u9500\u3002Goroutine\u7684\u672C\u8D28\u5C31\u662F\u4E00\u4E2Acoroutine\uFF0C\u8FD9\u79CD\u8F7B\u91CF\u7684\u7EBF\u7A0B\u5728\u5F88\u591A\u8BED\u8A00\u7684runtime\u91CC\u9762\u90FD\u6709\u5B9E\u73B0\u3002\u6700\u8FD1Java\u4E5F\u6709\u4E86\uFF08project loom\uFF09\u3002</p><h2 id="\u5176\u4ED6high-level\u7684\u9501" tabindex="-1"><a class="header-anchor" href="#\u5176\u4ED6high-level\u7684\u9501" aria-hidden="true">#</a> \u5176\u4ED6high-level\u7684\u9501</h2><p>\u524D\u9762\u90FD\u662F\u6700\u5E95\u5C42\u7684\u9501\uFF0C\u7528\u8FD9\u4E9B\u5E95\u5C42\u9501\u8FD8\u53EF\u4EE5\u6784\u5EFA\u66F4\u4E0A\u5C42\u7684\u9501\u3002Condition variable\uFF0Csemaphore\uFF0CRW lock\u4E4B\u7C7B\u7684\u3002</p>',11),i=[r];function t(n,h){return a(),o("div",null,i)}var p=e(d,[["render",t],["__file","\u9501.html.vue"]]);export{p as default};
