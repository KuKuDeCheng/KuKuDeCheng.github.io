import{_ as o}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as n,c as r,b as e,d as t,e as c,w as l,f as i,o as p}from"./app-BuJj135v.js";const h={},s=e("h2",{id:"增量抽取",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#增量抽取"},[e("span",null,"增量抽取")])],-1),E=e("p",null,"增量抽取最关键的是增量字段，我给增量的定义是递增且唯一，也就是说后插入的数据或者修改的数据，它的增量字段是渐大的。基本原理也很简单，就是我们每次调度任务抽取完数据，记录下此次抽取到的数据的最大值，记录下来，下一次调度任务时，使用这个增量字段的最大值作为查询条件来抽取数据。听起来是很简单的事情，但一旦结合实际，结合业务，就复杂了。",-1),d=e("p",null,"首先简单说一下涉及到的Processor：",-1),m=e("ul",null,[e("li",null,"GenerateTableFetch：根据增量字段生成分页SQL"),e("li",null,"ExecuteSQLRecord：执行SQL 生成指定格式的Record"),e("li",null,"PutDatabaseRecord：接收指定格式的Record，写入到数据库中")],-1),_=e("p",null,"当然还有个组件叫QueryDatabaseTable，QueryDatabaseTableRecord，作用相当于GenerateTableFetch+ExecuteSQLRecord，但是为什么我不喜欢或者暂时不习惯用他们，一是因为他们是头节点，这就意味着他们无法接收流和属性，只能是单表。而GenerateTableFetch上游接入一个组件，传多个表的配置信息，就可以实现多表抽取数据了。二是GenerateTableFetch的功能暂时要比他们强一些。而且我强烈建议使用Reord类的Processor，至于为什么，在后期的文章再展开说。",-1);function u(A,g){const a=n("RouteLink");return p(),r("div",null,[e("p",null,[t("在"),c(a,{to:"/ApacheNIFI%E6%95%99%E7%A8%8B/004-%E6%95%B0%E6%8D%AE%E6%8A%BD%E5%8F%96%E7%9A%84%E5%B8%B8%E8%A7%81%E6%96%B9%E6%B3%95.html"},{default:l(()=>[t("数据抽取的常见理论方法")]),_:1}),t("一文中，我们概略的讨论了数据抽取的常见理论方法，下面我们详细说一说在Apache NIFI中，基于查询式的数据抽取。")]),i(" more "),s,E,d,m,_])}const F=o(h,[["render",u],["__file","005-基于增量字段同步数据.html.vue"]]),y=JSON.parse('{"path":"/ApacheNIFI%E6%95%99%E7%A8%8B/005-%E5%9F%BA%E4%BA%8E%E5%A2%9E%E9%87%8F%E5%AD%97%E6%AE%B5%E5%90%8C%E6%AD%A5%E6%95%B0%E6%8D%AE.html","title":"基于增量字段同步数据","lang":"zh-CN","frontmatter":{"title":"基于增量字段同步数据","date":"2020-09-24T00:00:00.000Z","category":"ApacheNIFI教程","tag":"NIFI","order":5,"description":"在数据抽取的常见理论方法一文中，我们概略的讨论了数据抽取的常见理论方法，下面我们详细说一说在Apache NIFI中，基于查询式的数据抽取。","head":[["meta",{"property":"og:url","content":"https://zhangchengk.github.io/ApacheNIFI%E6%95%99%E7%A8%8B/005-%E5%9F%BA%E4%BA%8E%E5%A2%9E%E9%87%8F%E5%AD%97%E6%AE%B5%E5%90%8C%E6%AD%A5%E6%95%B0%E6%8D%AE.html"}],["meta",{"property":"og:site_name","content":"Panda诚的博客"}],["meta",{"property":"og:title","content":"基于增量字段同步数据"}],["meta",{"property":"og:description","content":"在数据抽取的常见理论方法一文中，我们概略的讨论了数据抽取的常见理论方法，下面我们详细说一说在Apache NIFI中，基于查询式的数据抽取。"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-06-27T13:31:00.000Z"}],["meta",{"property":"article:author","content":"Panda诚"}],["meta",{"property":"article:tag","content":"NIFI"}],["meta",{"property":"article:published_time","content":"2020-09-24T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-06-27T13:31:00.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"基于增量字段同步数据\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2020-09-24T00:00:00.000Z\\",\\"dateModified\\":\\"2024-06-27T13:31:00.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Panda诚\\",\\"url\\":\\"https://zhangchengk.github.io/about/intro.html\\"}]}"]]},"headers":[{"level":2,"title":"增量抽取","slug":"增量抽取","link":"#增量抽取","children":[]}],"git":{"createdTime":1719488402000,"updatedTime":1719495060000,"contributors":[{"name":"zhangcheng","email":"zhangchengk@yonyou.com","commits":2}]},"readingTime":{"minutes":1.46,"words":439},"filePathRelative":"ApacheNIFI教程/005-基于增量字段同步数据.md","localizedDate":"2020年9月24日","excerpt":"<p>在<a href=\\"/ApacheNIFI%E6%95%99%E7%A8%8B/004-%E6%95%B0%E6%8D%AE%E6%8A%BD%E5%8F%96%E7%9A%84%E5%B8%B8%E8%A7%81%E6%96%B9%E6%B3%95.html\\" target=\\"_blank\\">数据抽取的常见理论方法</a>一文中，我们概略的讨论了数据抽取的常见理论方法，下面我们详细说一说在Apache NIFI中，基于查询式的数据抽取。</p>\\n","autoDesc":true}');export{F as comp,y as data};
