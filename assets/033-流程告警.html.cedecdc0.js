import{_ as o}from"./plugin-vue_export-helper.21dcd24c.js";import{r as p,o as l,c,a as n,b as i,d as a,e as s}from"./app.e98d52ae.js";var e="/assets/15.d9d6f2c7.jpg",r="/assets/1.c50aca8a.png",u="/assets/2.fbec0b4a.png",d="/assets/3.bc468c5b.png",k="/assets/4.0a7a0028.png",q="/assets/5.382e69f6.png",b="/assets/9.94a92a82.png",g="/assets/10.c9c57c11.png",v="/assets/13.baf3c174.jpg",m="/assets/12.d62928c6.png",_="/assets/14.c0788e42.jpg";const y={},h=a('<p>\u5982\u4F55\u4E0D\u5199\u4EE3\u7801\uFF0C\u53EA\u5229\u7528NIFI\u7684\u7EC4\u4EF6\uFF0C\u4EE5\u53CA\u514D\u8D39\u7684\u8D44\u6E90\uFF0C\u5B9E\u73B0\u6D41\u7A0B\u7EC4\u4EF6\u62A5\u9519\u5FAE\u4FE1\u544A\u8B66\u7684\u529F\u80FD\uFF1F</p><p>\u5148\u770B\u6548\u679C\u56FE</p><p><img src="'+e+'" alt="" loading="lazy"></p><h2 id="nifi-bulletin-board" tabindex="-1"><a class="header-anchor" href="#nifi-bulletin-board" aria-hidden="true">#</a> NiFi Bulletin Board</h2><p>\u7EC4\u4EF6<code>Bulletin Level</code>\u53EF\u8BBE\u7F6E\u5BF9\u5E94\u7684\u65E5\u5FD7\u7EA7\u522B(\u6BD4\u5982\u4E0B\u9762\u622A\u56FE\u7528\u5230\u7684LogMessage\u8BBE\u7F6E\u6210warn)\uFF0C\u7EC4\u4EF6\u8F93\u51FA\u7684\u76F8\u5E94\u7EA7\u522B\u7684\u65E5\u5FD7\u4F1A\u76F8\u5E94\u53D1\u9001\u5230<code>Bulletin Board</code>\u3002</p><p><img src="'+r+'" alt="" loading="lazy"></p><p><img src="'+u+'" alt="" loading="lazy"></p><blockquote><p><code>Bulletin Level</code>\u65E5\u5FD7\u7EA7\u522B\u6BD4\u5982\u8BBE\u7F6Ewarn\uFF0C\u90A3\u4E48error\u548Cwarn\u7EA7\u522B\u7684\u65E5\u5FD7\u90FD\u4F1A\u53D1\u9001\u5230<code>Bulletin Board</code>\u3002</p></blockquote><h2 id="sitetositebulletinreportingtask" tabindex="-1"><a class="header-anchor" href="#sitetositebulletinreportingtask" aria-hidden="true">#</a> SiteToSiteBulletinReportingTask</h2><p>\u5C06<code>Bulletin Board</code>\u4FE1\u606F\u63A8\u9001\u5230NIFI\u7684S2S\u63A5\u6536\u7AEF\u3002(\u975E\u5E38\u975E\u5E38\u5BB9\u6613\u914D\u7F6E)</p><blockquote><p><code>ReportingTask</code> \u662F\u4E00\u7C7B\u62A5\u544A\u578B\u7684\u5B9A\u65F6\u4EFB\u52A1\u3002</p></blockquote><p>\u6309\u7167\u5982\u4E0B\u914D\u7F6E\u4F60\u7684<code>SiteToSiteBulletinReportingTask</code>\uFF0C\u8FD9\u91CC\u6211\u5C31\u63A8\u9001\u5230\u5F53\u524D\u7684NIFI\u8282\u70B9(\u8C03\u5EA6\u65F6\u95F4\u8BB0\u5F97\u6539\u4E00\u4E0B\uFF0C\u9ED8\u8BA4\u4E00\u5206\u949F\u6709\u4E9B\u957F)\u3002</p><p><img src="'+d+'" alt="" loading="lazy"></p><p>\u7136\u540E\u5728\u5F53\u524D\u7684NIFI\u8282\u70B9\u914D\u7F6E\u4E00\u4E2A\u63A5\u6536\u6570\u636E\u7684<code>Input Port</code></p><p><img src="'+k+'" alt="" loading="lazy"></p><p>\u5C06<code>SiteToSiteBulletinReportingTask</code>\u542F\u52A8\uFF0C\u5C06\u547D\u540D\u4E3A<code>warn</code>\u7684<code>Input Port</code>\u542F\u52A8\uFF0C\u7136\u540E\u4EBA\u4E3A\u9020\u4E00\u4E2A\u9519\u8BEF\u6D88\u606F</p><p><img src="'+q+`" alt="" loading="lazy"></p><p>\u8FD9\u6837\u6211\u4EEC\u5C31\u6210\u529F\u7684\u83B7\u53D6\u5230\u4E86\u7EC4\u4EF6\u53D1\u9001\u5230<code>Bulletin Board</code>\u7684\u544A\u8B66\u4FE1\u606F\uFF01</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">[</span> <span class="token punctuation">{</span>
  <span class="token property">&quot;objectId&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;1ee4396d-1cec-4c7f-b39e-5575bbb0a1fe&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;platform&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;nifi&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;bulletinId&quot;</span> <span class="token operator">:</span> <span class="token number">254</span><span class="token punctuation">,</span>
  <span class="token property">&quot;bulletinCategory&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;Log Message&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;bulletinGroupId&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;017d1061-6682-15d2-b2ad-2e47bdd074bf&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;bulletinGroupName&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;\u544A\u8B66\u6D41\u7A0B&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;bulletinGroupPath&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;NiFi Flow / \u544A\u8B66\u6D41\u7A0B&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;bulletinLevel&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;WARNING&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;bulletinMessage&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;LogMessage[id=017d105e-6682-15d2-0a1b-424714d859da] \u6D4B\u8BD5-\u6211\u62A5\u9519\u4E86&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;bulletinSourceId&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;017d105e-6682-15d2-0a1b-424714d859da&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;bulletinSourceName&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;LogMessage&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;bulletinSourceType&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;PROCESSOR&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;bulletinTimestamp&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;2021-12-21T07:34:56.179Z&quot;</span>
<span class="token punctuation">}</span> <span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5FAE\u4FE1\u63A8\u9001" tabindex="-1"><a class="header-anchor" href="#\u5FAE\u4FE1\u63A8\u9001" aria-hidden="true">#</a> \u5FAE\u4FE1\u63A8\u9001</h2>`,20),f=s("\u8FD9\u91CC\u4F7F\u7528\u4E00\u4E2A\u7B2C\u4E09\u65B9\u7684\u5FAE\u4FE1\u516C\u4F17\u53F7\u544A\u8B66\u7684\u5E73\u53F0(Server\u9171 "),S={href:"https://sct.ftqq.com/login",target:"_blank",rel:"noopener noreferrer"},I=s("https://sct.ftqq.com/login"),T=s(")\u3002\u5FAE\u4FE1\u626B\u7801\u767B\u9646\uFF0C\u7136\u540E\u4F1A\u83B7\u53D6\u4E00\u4E2A\u5E26SendKey\u7684URL\uFF0C\u6700\u7B80\u5355\u7684\u5C31\u662F\u901A\u8FC7\u4E00\u4E2AGet\u8BF7\u6C42\u5C31\u53EF\u4EE5\u53D1\u51FA\u544A\u8B66\u4FE1\u606F\u4E86\u3002\u6BD4\u5982\u6211\u7684 "),N=n("code",null,"https://sctapi.ftqq.com/SCT61343Tr8GxPpW7cNj7VY29IrVLyQx2.send?title=messagetitle",-1),x=s("(messagetitle\u5C31\u662F\u4F60\u7684\u544A\u8B66\u4FE1\u606F\uFF0C\u8FD9\u91CC\u6211\u7684SendKey\u5DF2\u91CD\u7F6E\u5931\u6548\uFF0C\u5927\u5BB6\u8981\u4F7F\u7528\u81EA\u5DF1\u7533\u8BF7\u5230\u7684SendKey)"),B=a(`<blockquote><p>\u600E\u4E48\u7528Server\u9171\u8FD9\u91CC\u5C31\u4E0D\u8BE6\u7EC6\u8BF4\u4E86\uFF0C\u4ED6\u7684\u5B98\u7F51\u6709\u8BE6\u7EC6\u7684\u8BF4\u660E\uFF0C\u5176\u4E2D\u514D\u8D39\u7684\u989D\u5EA6\u4E2A\u4EBA\u4F7F\u7528\u4E5F\u662F\u8DB3\u591F\u7684\u4E86\u3002\u672C\u6587Server\u9171\u4F7F\u7528\u7684\u6D88\u606F\u901A\u9053\u662F\u65B9\u7CD6\u670D\u52A1\u53F7\u3002</p></blockquote><p>\u600E\u4E48\u5904\u7406\u83B7\u53D6\u5230\u7684<code>Bulletin Board</code>\u7684\u544A\u8B66\u4FE1\u606F\u5927\u5BB6\u81EA\u5DF1\u8BBE\u8BA1\uFF0C\u6211\u8FD9\u91CC\u7B80\u5355\u7684<code>SplitJson</code>\u83B7\u53D6\u5230\u5355\u6761\u7684JSON\u6570\u636E\uFF1A</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;objectId&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;1ee4396d-1cec-4c7f-b39e-5575bbb0a1fe&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;platform&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;nifi&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;bulletinId&quot;</span> <span class="token operator">:</span> <span class="token number">254</span><span class="token punctuation">,</span>
  <span class="token property">&quot;bulletinCategory&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;Log Message&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;bulletinGroupId&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;017d1061-6682-15d2-b2ad-2e47bdd074bf&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;bulletinGroupName&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;\u544A\u8B66\u6D41\u7A0B&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;bulletinGroupPath&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;NiFi Flow / \u544A\u8B66\u6D41\u7A0B&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;bulletinLevel&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;WARNING&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;bulletinMessage&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;LogMessage[id=017d105e-6682-15d2-0a1b-424714d859da] \u6D4B\u8BD5-\u6211\u62A5\u9519\u4E86&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;bulletinSourceId&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;017d105e-6682-15d2-0a1b-424714d859da&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;bulletinSourceName&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;LogMessage&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;bulletinSourceType&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;PROCESSOR&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;bulletinTimestamp&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;2021-12-21T07:34:56.179Z&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7136\u540E<code>EvaluateJsonPath</code>\u5C06<code>bulletinGroupPath</code>\u548C<code>bulletinMessage</code>\u5B57\u6BB5\u63D0\u53D6\u5230attribute\u91CC\u3002</p><p><img src="`+b+'" alt="" loading="lazy"></p><p><img src="'+g+'" alt="" loading="lazy"></p><p>\u6700\u540E\u4F7F\u7528<code>InvokeHTTP</code>\u53D1\u751F\u5230<code>https://sctapi.ftqq.com/SCT61343Tr8GxPpW7cNj7VY29IrVLyQx2.send?title=${bulletinGroupPath} ${bulletinLevel} ${bulletinMessage}</code>\u4E00\u4E2AGet\u8BF7\u6C42\u3002</p><p>\u540C\u65F6\u65B9\u7CD6\u670D\u52A1\u53F7\u7ED9\u6211\u63A8\u9001\u4E86\u4E00\u6761\u6D88\u606F\uFF1A</p><p><img src="'+v+'" alt="" loading="lazy"></p><p>\u7531\u4E8EGet\u8BF7\u6C42\u6709\u957F\u5EA6\u9650\u5236\uFF0C\u6240\u4EE5\u63A8\u9001\u7ED9\u6211\u7684\u6D88\u606F\u8865\u5168\u3002</p><p>\u73B0\u5728\u6362POST\u8BF7\u6C42\u518D\u63A8\u4E00\u6B21(<code>InvokeHTTP</code> <code>https://sctapi.ftqq.com/SCT61343Tr8GxPpW7cNj7VY29IrVLyQx2.send</code>\uFF0CContent-type\u8981\u6362\u6210<code>application/x-www-form-urlencoded</code>)\uFF0C\u5148\u7528<code>ReplaceText</code>\u62FC\u4E00\u4E0B\u8981POST\u7684body\u6570\u636E\uFF1A</p><p><img src="'+m+`" alt="" loading="lazy"></p><p>\u5F97\u5230form\u8868\u5355\u683C\u5F0F\u6570\u636E\u6570\u636E\uFF1A</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code>title=NiFi Flow / \u544A\u8B66\u6D41\u7A0B&amp;desp=LogMessage<span class="token punctuation">[</span>id=017d105e<span class="token number">-6682</span>-15d2-0a1b-424714d859da<span class="token punctuation">]</span> \u6D4B\u8BD5-\u6211\u62A5\u9519\u4E86
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u6700\u7EC8\u6536\u5230\u65B9\u7CD6\u670D\u52A1\u53F7\u63A8\u9001\u6D88\u606F\uFF1A</p><p><img src="`+_+'" alt="" loading="lazy"></p><p><img src="'+e+'" alt="" loading="lazy"></p>',17);function L(j,G){const t=p("ExternalLinkIcon");return l(),c("div",null,[h,n("p",null,[f,n("a",S,[I,i(t)]),T,N,x]),B])}var M=o(y,[["render",L],["__file","033-\u6D41\u7A0B\u544A\u8B66.html.vue"]]);export{M as default};
